(this["webpackJsonprelumie-client-web"]=this["webpackJsonprelumie-client-web"]||[]).push([[0],{135:function(e,t,a){},157:function(e,t){},261:function(e,t,a){},262:function(e,t,a){},267:function(e,t){},268:function(e,t){},407:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(82),o=a.n(r),l=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,416)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))},i=(a(220),a(135)),s=a.n(i),d=a(16),j=a.n(d),u=a(24),b=a(6),h=a(3),f=a(34),x=a(28),O=a(31),m=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"delay",value:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"makeRandomColor",value:function(){return"#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}},{key:"lightenDarkenColor",value:function(e,t){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+t)).toString(16)).substr(-2)}))}}]),e}(),p=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"searchEnter",value:function(e,t){return e||(e=window.event),13!==(e.keyCode?e.keyCode:e.which)||(t(),!1)}}]),e}(),y=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"number2commadStringWithIntl",value:function(e){try{return new Intl.NumberFormat("en-US").format(e)}catch(t){return e}}},{key:"number2shortenString",value:function(e){return e>=1e9?(.01*Math.floor(1e-7*e)).toFixed(2)+"B":e>=1e6?(.01*Math.floor(1e-4*e)).toFixed(2)+"M":void 0}}]),e}(),g=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"serialDateToJSDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(Date.UTC(0,0,e-1,-9,0,24*t*60*60))}}]),e}(),v={isWideMode:!1},S=c.a.createContext(v),_=a(23),k=a(190),w=a.n(k).a.bind(s.a),N=a(0),A=function(e){var t=c.a.useState(!1),a=Object(b.a)(t,2),r=a[0],o=a[1],l=c.a.useState(!1),i=Object(b.a)(l,2),s=i[0],d=i[1],h=c.a.useState([]),f=Object(b.a)(h,2),x=f[0],O=f[1];return Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),o(!0),O(e.modals),t.next=5,m.delay(a);case 5:d(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),t.next=3,m.delay(a);case 3:o(!1),O(e.modals);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.modals.length>x.length?function(e){t.apply(this,arguments)}(100):e.modals.length<x.length&&function(e){a.apply(this,arguments)}(200)}),[e.modals,x]),x.length?Object(N.jsxs)("div",{className:w({"modal-wrapper":!0,visible:r,opacity:s}),children:[Object(N.jsx)("div",{className:"modal-wrapper-backdrop",onClick:e.closeCurrentModal}),Object(N.jsx)("div",{className:"modal-wrapper-container",children:x[0]})]}):null};A.defaultProps={modals:[],closeCurrentModal:function(){return console.log("closeCurrentModal() is not defined.")}};var D=A,I=function(e){return Object(N.jsxs)("div",{style:{maxHeight:"".concat(80,"vh"),overflow:"auto"},children:[Object(N.jsx)("div",{className:"text-end pt-2 pe-2",children:Object(N.jsx)("button",{type:"button",className:"btn-close",onClick:e.onCancel})}),Object(N.jsx)("div",{className:"py-3",style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",width:"".concat(480,"px"),maxWidth:"".concat(90,"vw")},children:e.message}),Object(N.jsx)("div",{className:"text-end",children:Object(N.jsx)("button",{type:"button",className:"btn btn-primary text-light fw-bold rounded",onClick:e.onConfirm,children:"\ud655\uc778"})})]})};I.defaultProps={message:"NO MESSAGE",onConfirm:function(){},onCancel:function(){}};var C=I,M=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:"Here's main"}),Object(N.jsx)("br",{}),Object(N.jsx)(S.Consumer,{children:function(e){return Object(N.jsxs)("div",{style:{whiteSpace:"pre-wrap"},children:[Object(N.jsx)("div",{children:Object(N.jsx)("button",{type:"button",onClick:function(){var t=Object(u.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pushMessageModal({Modal:C,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4."},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 73473")}});case 2:if(n=t.sent,console.log("MODAL_CONFIRMED? : "+n),!1!==n){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.pushMessageModal({Modal:C,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4. 2"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"PUSH MODAL"})}),Object(N.jsx)("div",{children:JSON.stringify(e,"",2)})]})}})]})},R=a(39),T=a(51),E=a.n(T),K=E.a.create({baseURL:"".concat("https://1.233.86.212","/api"),timeout:3e3,headers:{"content-type":"application/json"}});K.interceptors.request.use((function(e){return e})),K.interceptors.response.use((function(e){return e}),(function(e){return e.response?Promise.reject(Object(h.a)({status:e.response.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data},e.response.data)):e.request?Promise.reject({status:e.request.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data,message:e.message}):Promise.reject(e)}));var P=K,F=function(e){var t=E.a.CancelToken.source();Object(n.useEffect)((function(){return function(){return t.cancel()}}),[t]);var a=Object(n.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=function(e){var t=e.target.name;i((function(a){return Object(h.a)(Object(h.a)({},a),{},Object(R.a)({},t,e.target.value))}))},d=function(){var e=Object(u.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,P.post("/auth/register",{login_id:l.login_id,password:l.password,"#email":l.email},{cancelToken:t.token});case 4:return c=e.sent,e.next=7,a.pushMessageModal({Modal:C,props:{message:"\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 7:console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)("form",{onSubmit:d,children:Object(N.jsxs)("div",{className:"mx-auto w-100p",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(N.jsx)("input",{type:"text",name:"login_id",value:l.login_id,onChange:s,placeholder:"ID"}),Object(N.jsx)("input",{type:"password",name:"password",value:l.password,onChange:s,placeholder:"PASSWORD"}),Object(N.jsx)("input",{type:"password",name:"password_confirm",value:l.password_confirm,onChange:s,placeholder:"CONFIRM PASSWORD"}),Object(N.jsx)("input",{type:"email",name:"email",value:l.email,onChange:s,placeholder:"EMAIL"}),Object(N.jsx)("div",{children:Object(N.jsx)("input",{type:"submit",value:"REGISTER"})})]})})},z=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"translateErrorMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e?void 0:e.message){var a={SequelizeDatabaseError:"DB \uad6c\ubb38 \uc5d0\ub7ec.\n\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694","timeout of":"\uc11c\ubc84 \uc751\ub2f5\uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."};t=Object.assign(a,t);for(var n=e.message.toLowerCase(),c=Object.keys(t),r=0;r<c.length;++r){var o=c[r];if(n.indexOf(o.toLowerCase())>=0)return t[o]}}}}]),e}(),L=function(e){var t=E.a.CancelToken.source();Object(n.useEffect)((function(){return function(){return t.cancel()}}),[t]);var a=Object(n.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=function(e){var t=e.target.name;i((function(a){return Object(h.a)(Object(h.a)({},a),{},Object(R.a)({},t,e.target.value))}))},d=function(){var e=Object(u.a)(j.a.mark((function e(n){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,P.post("/auth/login",{login_id:l.login_id,password:l.password},{cancelToken:t.token}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content}));case 4:return c=e.sent,console.log(c),e.next=8,a.pushMessageModal({Modal:C,props:{message:"\ub85c\uadf8\uc778 \uc131\uacf5"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),!E.a.isCancel(e.t0)){e.next=15;break}return console.log("Canceled."),e.abrupt("return");case 15:return r=z.translateErrorMessages(e.t0,{"no user":"\ud574\ub2f9\ud558\ub294 \uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),e.next=18,a.pushMessageModal({Modal:C,props:{message:r},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)("form",{onSubmit:d,children:Object(N.jsxs)("div",{className:"mx-auto w-100p py-3",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(N.jsx)("input",{type:"text",className:"form-control",name:"login_id",value:l.login_id,onChange:s,placeholder:"ID"}),Object(N.jsx)("input",{type:"password",className:"form-control",name:"password",value:l.password,onChange:s,placeholder:"PASSWORD"}),Object(N.jsx)("div",{children:Object(N.jsx)("input",{type:"submit",value:"LOGIN",className:"btn btn-primary w-100"})})]})})},W=a(22),U=a(84),Y=a(102),q=a(113);a(261);var B=function(e,t){var a=W.select("body").append("div").attr("class","bubble-tooltip").attr("id",e).style("pointer-events","none");function n(){a.style("opacity",0)}function c(e){var t=a.style("width"),n=a.style("height"),c=window.scrollX,r=window.scrollY,o=document.getElementById?e.clientX+c:e.pageX,l=document.getElementById?e.clientY+r:e.pageY,i=o-c+40+t>window.innerWidth?o-t-40:o+20;i<c+20&&(i=c+20);var s=l-r+20+n>window.innerWidth?l-n-20:l+10;s<r+10&&(s=r+10),a.style("top","".concat(s,"px")).style("left","".concat(i,"px"))}return t&&a.style("width",t),n(),{showTooltip:function(e,t){a.style("opacity",1).html(e),c(t)},hideTooltip:n,updatePosition:c}}("gates_tooltip",240),X=W.scaleOrdinal().domain(["low","medium","high"]).range(["#525b7a","#beccde","#5aa2bc"]),G=function(e){Object(Y.a)(a,e);var t=Object(q.a)(a);function a(e){var n;Object(x.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(){return!1},n.state={g:null};var c=n.props,r=c.forceStrength,o=c.center;return n.simulation=W.forceSimulation().velocityDecay(.2).force("x",W.forceX().strength(r).x(o.x)).force("y",W.forceY().strength(r).y(o.y)).force("charge",W.forceManyBody(n.charge.bind(Object(U.a)(n)))).on("tick",n.ticked.bind(Object(U.a)(n))).stop(),n}return Object(O.a)(a,[{key:"charge",value:function(e){return-this.props.forceStrength*Math.pow(e.radius,2)}},{key:"ticked",value:function(){this.state.g.selectAll(".bubble").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}},{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.renderBubbles(e.data),e.groupByYear!==this.props.groupByYear&&this.regroupBubbles(e.groupByYear)}},{key:"renderBubbles",value:function(e){var t=this,a=this.state.g.selectAll(".bubble").data(e,(function(e){return e.id}));a.exit().remove(),a.enter().append("circle").classed("bubble",!0).attr("r",0).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("fill",(function(e){return X(e.group)})).attr("stroke",(function(e){return W.rgb(X(e.group)).darker()})).attr("stroke-width",2).on("mouseover",Q).on("mouseout",H).transition().duration(2e3).attr("r",(function(e){return e.radius})).on("end",(function(){t.simulation.nodes(e).alpha(1).restart()}))}},{key:"regroupBubbles",value:function(e){var t=this.props,a=t.forceStrength,n=t.yearCenters,c=t.center;e?this.simulation.force("x",W.forceX().strength(a).x((function(e){return n[e.year].x}))).force("y",W.forceY().strength(a).y((function(e){return n[e.year].y}))):this.simulation.force("x",W.forceX().strength(a).x(c.x)).force("y",W.forceY().strength(a).y(c.y)),this.simulation.alpha(1).restart()}},{key:"onRef",value:function(e){var t=this;this.setState({g:W.select(e)},(function(){return t.renderBubbles(t.props.data)}))}},{key:"render",value:function(){return Object(N.jsx)("g",{ref:this.onRef.bind(this),className:"bubbles"})}}]),a}(c.a.Component);function Q(e){W.select(this).attr("stroke","black");var t='<span class="name">Title: </span><span class="value">'.concat(e.name,"</span><br/>")+'<span class="name">Amount: </span><span class="value">$'.concat(e.value,"</span><br/>")+'<span class="name">Year: </span><span class="value">'.concat(e.year,"</span>");B.showTooltip(t,W.event)}function H(e){W.select(this).attr("stroke",W.rgb(X(e.group)).darker()),B.hideTooltip()}a(262);var J=function(e){Object(Y.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onBtnClick=function(t){e.props.onChanged(t.target.name)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.active;return Object(N.jsxs)("div",{className:"GroupingPicker",children:[Object(N.jsx)("button",{className:"button ".concat("all"===e&&"active"),name:"all",onClick:this.onBtnClick,children:"All Grants"}),Object(N.jsx)("button",{className:"button ".concat("year"===e&&"active"),name:"year",onClick:this.onBtnClick,children:"Grants By Year"})]})}}]),a}(c.a.Component);function V(e){var t=e.yearCenters;return Object(N.jsx)("g",{className:"yearsTitles",children:Object.keys(t).map((function(e){return Object(N.jsx)("text",{x:t[e].x,y:50,fontSize:"35",textAnchor:"middle",alignmentBaseline:"middle",children:e},e)}))})}var Z=function(e){var t=e.width,a=e.height,n=e.children;return Object(N.jsx)("svg",{className:"bubbleChart",width:t,height:a,children:n})},$=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useState("all"),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState({}),d=Object(b.a)(s,2),j=d[0],u=d[1];return c.a.useEffect((function(){var e=document.documentElement.scrollWidth,t=document.documentElement.scrollHeight-49;u({width:e,height:t,center:{x:e/2,y:t/2},yearCenters:{2008:{x:e/4,y:t/2},2009:{x:e/2,y:t/2},2010:{x:3/4*e,y:t/2}}});W.csv("/data/gates_money.csv",(function(a,c){if(a)console.log("error",a);else{var r=function(a){if(e&&t){var n=W.max(a,(function(e){return+e.total_amount})),c=W.scalePow().exponent(.5).range([2,85]).domain([0,n]),r=a.map((function(a){return{id:a.id,radius:c(+a.total_amount),value:+a.total_amount,name:a.grant_title,org:a.organization,group:a.group,year:a.start_year,x:Math.random()*e,y:Math.random()*t}}));return r.sort((function(e,t){return t.value-e.value})),r}}(c);n(r)}}))}),[]),Object(N.jsxs)("div",{id:"view_bubble",style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",height:"".concat(100,"%"),overflow:"auto"},children:[Object(N.jsx)(J,{onChanged:function(e){return i(e)},active:l}),j.width&&j.height&&Object(N.jsxs)(Z,{width:j.width,height:j.height,children:[Object(N.jsx)(G,{data:a,forceStrength:.08,center:j.center,yearCenters:j.yearCenters,groupByYear:"year"===l}),"year"===l&&Object(N.jsx)(V,{width:j.width,yearCenters:j.yearCenters})]})]})},ee=a(193),te=a.n(ee),ae=a(41),ne=a.n(ae),ce=function(){var e=c.a.useState({query:"",pageToken:"",bannedChannels:""}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState([]),d=Object(b.a)(s,2),f=d[0],x=d[1];c.a.useEffect((function(){var e=localStorage.getItem("youtube_history");e&&x(JSON.parse(e))}),[x]);var O=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,r,o,s,d,u,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.pageToken,f.length&&((r=f.slice().pop()).query===a.query&&r.bannedChannels===a.bannedChannels||(c="")),e.prev=2,e.next=5,E.a.get("https://www.googleapis.com/youtube/v3/search",{params:{pageToken:c,key:"AIzaSyA7zpvNp8vqxTGeGCu57iywRBTru-0s0Zo",q:a.query,part:"snippet",fields:"nextPageToken,items(id(videoId),snippet(channelTitle,title,publishTime,thumbnails(medium(url))))",maxResults:50,order:"date",type:"video"}});case 5:o=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return");case 12:s=a.bannedChannels.split(",").map((function(e){return e.trim()})),(d=f.slice()).push(a),x(d),localStorage.setItem("youtube_history",JSON.stringify(d)),n(Object(h.a)(Object(h.a)({},a),{},{pageToken:o.data.nextPageToken})),u=l.map((function(e){return e.id.videoId})),b=o.data.items.filter((function(e){return!(s.indexOf(e.snippet.channelTitle)>=0)&&(!c||!(c&&u.indexOf(e.id.videoId)>=0))})).map((function(e){var t=te.a.decode(e.snippet.title);return Object(h.a)(Object(h.a)({},e),{},{snippet:Object(h.a)(Object(h.a)({},e.snippet),{},{title:t})})})),i(c?l.concat(b):b);case 21:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("div",{className:"flex-shrink-0 d-none d-sm-block overflow-auto bg-gray text-light",style:{width:"".concat(16,"em"),height:"".concat(100,"vh")},children:Object(N.jsx)("nav",{children:Object(N.jsx)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",children:f.map((function(e,t){return Object(N.jsx)("li",{children:Object(N.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(t){return n(e)},children:e.query})},t)}))})})}),Object(N.jsxs)("div",{className:"container-fluid overflow-scroll",style:{height:"100vh"},children:[Object(N.jsxs)("div",{className:"position-sticky",style:{top:0},children:[Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("div",{children:Object(N.jsx)("input",{type:"text",className:"form-control",value:a.query,onChange:function(e){return n(Object(h.a)(Object(h.a)({},a),{},{query:e.target.value}))},onKeyDown:function(e){return p.searchEnter(e,O)}})}),Object(N.jsx)("button",{type:"button",className:"btn btn-primary",onClick:O,children:l.length?"More":"Search"})]}),Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)("div",{children:Object(N.jsx)("input",{type:"text",className:"form-control",value:a.bannedChannels,onChange:function(e){return n(Object(h.a)(Object(h.a)({},a),{},{bannedChannels:e.target.value}))}})})})]}),Object(N.jsx)("div",{className:"row mt-5",children:l.map((function(e,t,c){var r=e.id.videoId;return Object(N.jsxs)("div",{className:"col-3",children:[Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:"https://www.youtube.com/watch?v=".concat(r),target:"_blank",rel:"noreferrer",children:Object(N.jsx)("img",{src:e.snippet.thumbnails.medium.url,alt:"tmb_".concat(t)})})}),Object(N.jsx)("div",{children:e.snippet.title}),Object(N.jsx)("div",{className:"text-end",children:Object(N.jsxs)("span",{className:"text-danger selectable tooltip",onClick:function(t){var c=a.bannedChannels?e.snippet.channelTitle+","+a.bannedChannels:e.snippet.channelTitle;n(Object(h.a)(Object(h.a)({},a),{},{bannedChannels:c}))},children:[e.snippet.channelTitle,Object(N.jsx)("span",{className:"tooltiptext",children:"Ban this Channel"})]})}),Object(N.jsx)("div",{className:"text-gray-500 text-end",style:{fontSize:"".concat(8,"px")},children:ne()(e.snippet.publishTime).format("YY.MM.DD HH:mm")})]},r)}))})]})]})},re=a(52),oe=a.n(re),le=a(15),ie=a(410),se=a(411),de=a(414),je=a(90),ue=a(88),be=a(109),he=a(110),fe=a(209),xe=a(58),Oe=a(106),me=a(201),pe=a(204),ye=function e(){Object(x.a)(this,e)};ye.hasAnyValue=function(e){return void 0!==e&&null!==e};var ge={return_of_portfolio:"#000",Nasdaq100_3x:m.lightenDarkenColor(m.makeRandomColor(),-20),Nasdaq100:m.lightenDarkenColor(m.makeRandomColor(),-20),"S&P500":m.lightenDarkenColor(m.makeRandomColor(),-20),World:m.lightenDarkenColor(m.makeRandomColor(),-20),"Ratio:Safety Asset":"#5AA8"},ve=function(e){var t=e.data,a=c.a.useState({top:"dataMax + 1",bottom:"dataMin - 1"}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState({left:"",right:""}),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useState(),u=Object(b.a)(j,2),f=u[0],x=u[1],O=c.a.useState([]),m=Object(b.a)(O,2),p=m[0],g=m[1],v=c.a.useState({}),S=Object(b.a)(v,2),_=S[0],k=S[1],w=c.a.useCallback((function(e,a){if(t&&t.length){var n,c={},r=[],o=0,l=!1,i=Object(le.a)(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.date===e?(l=!0,c={price_nasdaq100_3x:s.price_nasdaq100_3x,price_nasdaq100_1x:s.price_nasdaq100_1x,"price_s&p500_1x":s["price_s&p500_1x"],price_world_1x:s.price_world_1x}):o=(1+o)*(1+s.return_of_portfolio)-1,l&&(r.push({date:s.date,return_of_portfolio:parseFloat((100*o).toFixed(2)),Nasdaq100_3x:parseFloat((100*(s.price_nasdaq100_3x-c.price_nasdaq100_3x)/c.price_nasdaq100_3x).toFixed(2)),Nasdaq100:parseFloat((100*(s.price_nasdaq100_1x-c.price_nasdaq100_1x)/c.price_nasdaq100_1x).toFixed(2)),"S&P500":parseFloat((100*(s["price_s&p500_1x"]-c["price_s&p500_1x"])/c["price_s&p500_1x"]).toFixed(2)),World:parseFloat((100*(s.price_world_1x-c.price_world_1x)/c.price_world_1x).toFixed(2)),"Ratio:Safety Asset":parseFloat(s.ratio_safety_asset).toFixed(2),note:s.note}),s.date===a))break}}catch(d){i.e(d)}finally{i.f()}return r}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=w(t[0].date,t[t.length-1].date);g(e)}}),[t,w]),!p||!p.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});function A(){var e=s.left,t=s.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=w(e,t),c=function(e,t,a){var n,c=[a[0].return_of_portfolio,a[0].return_of_portfolio],r=c[0],o=c[1],l=!1,i=Object(le.a)(a);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.date===e&&(l=!0),l&&(s.return_of_portfolio>o&&(o=s.return_of_portfolio),s.return_of_portfolio<r&&(r=s.return_of_portfolio),s["S&P500"]>o&&(o=s["S&P500"]),s["S&P500"]<r&&(r=s["S&P500"]),s.Nasdaq100>o&&(o=s.Nasdaq100),s.Nasdaq100<r&&(r=s.Nasdaq100),s.Nasdaq100_3x>o&&(o=s.Nasdaq100_3x),s.Nasdaq100_3x<r&&(r=s.Nasdaq100_3x),s.World>o&&(o=s.World),s.World<r&&(r=s.World),s.date===t))break}}catch(d){i.e(d)}finally{i.f()}return[0|Math.floor(r-1),0|Math.ceil(o+1)]}(e,t,n),r=Object(b.a)(c,2),l=r[0],i=r[1];d({left:"",right:""}),o({bottom:l,top:i}),g(n)}else d({left:"",right:""})}var D=function(e){var t=e.active,a=e.payload,n=e.label;if(!t||!a||!a.length)return null;var c=a.filter((function(e){return"Return of Portfolio"===e.name}))[0];return Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),c&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:c.color},children:"".concat(c.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:c.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:c.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c.value).padStart(8," "))})})]}),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),a.map((function(e,t){return"Return of Portfolio"===e.name?null:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(8," "))})})]},e.name)}))]})})]})},I=function(e){var t=e.x,a=e.y,n=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(N.jsx)("g",{children:Object(N.jsx)("text",{x:t,y:a-2*n,textAnchor:"middle",fontSize:o,fontWeight:l,children:c})}):Object(N.jsx)("g",{})};return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:800,children:Object(N.jsxs)(se.a,{width:800,height:800,data:p,onMouseDown:function(e){return e&&s.left!==e.activeLabel&&d({left:e.activeLabel,right:s.right})},onMouseMove:function(e){e&&ye.hasAnyValue(e.activeTooltipIndex)&&x(e.activeTooltipIndex),e&&s.left&&s.right!==e.activeLabel&&d({right:e.activeLabel,left:s.left})},onMouseUp:function(e){""!==s.left&&""===s.right?function(){var e=w(t[0].date,t[t.length-1].date);d({left:"",right:""}),o({top:"dataMax + 1",bottom:"dataMin - 1"}),g(e)}():A()},onMouseLeave:function(e){x(void 0)},margin:{top:40,right:30,left:30,bottom:50},children:[Object(N.jsx)(de.a,{strokeDasharray:"3 3"}),Object(N.jsx)(je.a,{content:Object(N.jsx)(D,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0},onMouseEnter:function(e){var t=e.dataKey;k(Object(h.a)(Object(h.a)({},_),{},Object(R.a)({},t,3)))},onMouseLeave:function(e){var t=e.dataKey;k(Object(h.a)(Object(h.a)({},_),{},Object(R.a)({},t,1)))}}),Object(N.jsx)(be.a,{allowDataOverflow:!0,dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{yAxisId:"left",allowDataOverflow:!0,domain:[r.bottom,r.top],tickFormatter:function(e){return parseFloat(e.toFixed(2))}}),Object(N.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_portfolio",name:"Return of Portfolio",stroke:ge.return_of_portfolio,strokeWidth:2,animationDuration:300,children:Object(N.jsx)(xe.a,{dataKey:"return_of_portfolio",content:I,fontWeight:"bold"})}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"Nasdaq100_3x",dataKey:"Nasdaq100_3x",stroke:ge.Nasdaq100_3x,strokeWidth:_.Nasdaq100_3x||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"Nasdaq100",dataKey:"Nasdaq100",stroke:ge.Nasdaq100,strokeWidth:_.Nasdaq100||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"S&P500",dataKey:"S&P500",stroke:ge["S&P500"],strokeWidth:_["S&P500"]||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"World",dataKey:"World",stroke:ge.World,strokeWidth:_.World||2,animationDuration:300,dot:!1}),Object(N.jsx)("defs",{children:Object(N.jsxs)("linearGradient",{id:"colorSafetyAssetRatio",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(N.jsx)("stop",{offset:"20%",stopColor:ge["Ratio:Safety Asset"],stopOpacity:.8}),Object(N.jsx)("stop",{offset:"75%",stopColor:ge["Ratio:Safety Asset"],stopOpacity:0})]})}),Object(N.jsx)(Oe.a,{yAxisId:"right",type:"monotone",name:"Ratio:Safety Asset",dataKey:"Ratio:Safety Asset",stroke:ge["Ratio:Safety Asset"],fillOpacity:1,fill:"url(#colorSafetyAssetRatio)",children:Object(N.jsx)(xe.a,{dataKey:"Ratio:Safety Asset",fontSize:10,content:I})}),Object(N.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#888"}),s.left&&s.right?Object(N.jsx)(pe.a,{yAxisId:"left",x1:s.left,x2:s.right,strokeOpacity:.3}):null]})})}),ye.hasAnyValue(f)&&p[f]&&p[f].note&&Object(N.jsxs)("div",{className:"position-fixed p-3 bg-light rounded",style:{top:10,left:10},children:[Object(N.jsx)("div",{className:"fw-bold",children:p[f].date}),Object(N.jsx)("div",{style:{lineBreak:"anywhere",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:p[f].note})]})]})},Se=a(415),_e={"3x":m.lightenDarkenColor(m.makeRandomColor(),-50),"1x":m.lightenDarkenColor(m.makeRandomColor(),-50),safety_asset:m.lightenDarkenColor(m.makeRandomColor(),-50)},ke=function(e){var t=e.data,a=c.a.useState({left:"",right:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,a){if(t&&t.length){var n,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===a))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});var u=function(e){var t=e.active,a=e.payload,n=e.label;return t&&a&&a.length?Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),a.map((function(e){var t=(100*e.value/e.payload.total).toFixed(2).padStart(5," ");return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," ")," (").concat(t,"%)")})})]},e.name)})).reverse(),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{className:"fw-bolder",style:{color:"black"},children:"Total"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:"black"},children:" :  "})}),Object(N.jsx)("td",{className:"text-end",children:Object(N.jsx)("code",{className:"text-dark fw-bolder",style:{textAlign:"end",fontSize:"".concat(14,"px")},children:"\uffe6 ".concat(y.number2commadStringWithIntl(a[0].payload.total))})})]})]})})]}):null},f=function(e){var t=e.x,a=e.y,n=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(N.jsx)("g",{children:Object(N.jsx)("text",{x:t,y:a-n,textAnchor:"middle",fontSize:o,fontWeight:l,children:y.number2shortenString(c)})}):Object(N.jsx)("g",{})};return Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:600,children:Object(N.jsxs)(Se.a,{width:500,height:400,data:s,defaultShowTooltip:!0,margin:{top:20,right:30,left:30,bottom:50},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=j(e,t);o({left:"",right:""}),d(n)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(N.jsx)(de.a,{strokeDasharray:"1 2"}),Object(N.jsx)(be.a,{dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{allowDataOverflow:!0,domain:[0,function(e){return parseInt(1.1*e)}],fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(je.a,{content:Object(N.jsx)(u,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(N.jsxs)(Oe.a,{type:"monotone",name:"Safety Asset",dataKey:"safety_asset",stackId:"1",stroke:_e.safety_asset,fill:_e.safety_asset,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"ratio_safety_asset",position:"insideTopLeft",offset:5,fontSize:10})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"1x",stackId:"1",stroke:_e["1x"],fill:_e["1x"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"ratio_1x",position:"insideTopLeft",offset:5,fontSize:10})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"3x",stackId:"1",stroke:_e["3x"],fill:_e["3x"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"ratio_3x",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){return e}}),null!=s&&s.length>25?Object(N.jsx)(xe.a,{name:"Total",dataKey:"total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2shortenString(e)},content:f}):Object(N.jsx)(xe.a,{name:"Total",dataKey:"total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2commadStringWithIntl(e)},content:f})]}),r.left&&r.right?Object(N.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},we=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useRef(),d=c.a.useCallback((function(e){var t=[],a=[],n={};return Object.keys(e).forEach((function(c){"assets"===c&&e[c].forEach((function(e){var c=g.serialDateToJSDate(e.date),r=ne()(c).format("YY.MM.DD");delete e.date,void 0===e.note?n[r]="":n[r]=e.note,a.push({date:r,return_of_portfolio:e.p_return,price_nasdaq100_3x:e.price_nasdaq100_3x,price_nasdaq100_1x:e.price_nasdaq100_1x,"price_s&p500_1x":e["price_s&p500_1x"],price_world_1x:e.price_world_1x,ratio_safety_asset:e.ratio_safety_asset,note:e.note||""});var o={},l={};["3x","1x","safety_asset"].forEach((function(t){o["".concat(t)]=e["".concat(t)],l["ratio_".concat(t)]=parseFloat(e["ratio_".concat(t)]).toFixed(2)})),t.push(Object(h.a)(Object(h.a)({date:r,total:e.total},o),l))}))})),{total_asset_data:t,alpha_data:a,note_data:n}}),[]);return c.a.useEffect((function(){var e=localStorage.getItem("last_finance_data");if(e){var t=JSON.parse(e);try{var a=d(t),c=a.total_asset_data,r=a.alpha_data;n(c),i(r)}catch(o){localStorage.removeItem("last_finance_data"),window.location.reload()}}}),[d]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"text-start fw-bold my-5 px-4 w-100",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"TRADE HISTORY"}),Object(N.jsxs)("div",{className:"mt-5 d-flex justify-content-center w-100",children:[Object(N.jsx)("div",{className:"pe-2",children:Object(N.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=YourIndividualID","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("form",{ref:s,children:Object(N.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,a=new FileReader;a.onload=function(){var e=a.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var a=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=a})),s.current.reset(),localStorage.setItem("last_finance_data",JSON.stringify(c));var r=d(c),o=r.total_asset_data,l=r.alpha_data;n(o),i(l)},a.readAsBinaryString(t.files[0])}})}),Object(N.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:"TOTAL ASSET RATIO"})})}),Object(N.jsx)("div",{className:"mt-5",children:Object(N.jsx)(ke,{data:a})}),Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:"ALPHA"})})}),Object(N.jsx)("div",{className:"mt-5",children:Object(N.jsx)(ve,{data:l})})]})},Ne={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-20),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-20),"S&P200":m.lightenDarkenColor(m.makeRandomColor(),-20),LUXUARY:m.lightenDarkenColor(m.makeRandomColor(),-20),Global_Index:m.lightenDarkenColor(m.makeRandomColor(),-20),return_of_asset:"#000",return_of_day_trade:"#F00",safety_asset_ratio:"#5AA8"},Ae=function(e){var t=e.data,a=c.a.useState({top:"dataMax + 1",bottom:"dataMin - 1"}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState({left:"",right:""}),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useState(),u=Object(b.a)(j,2),f=u[0],x=u[1],O=c.a.useState([]),m=Object(b.a)(O,2),p=m[0],g=m[1],v=c.a.useState({}),S=Object(b.a)(v,2),_=S[0],k=S[1],w=c.a.useCallback((function(e,a){if(t&&t.length){var n,c={},r=[],o=0,l=0,i=!1,s=Object(le.a)(t);try{for(s.s();!(n=s.n()).done;){var d=n.value;if(d.date===e&&(i=!0,c={KOSPI:d.KOSPI,"S&P500":d["S&P500"],NASDAQ:d.NASDAQ,LUXUARY:d.LUXUARY,Global_Index:d.Global_Index},l=d.day_trade||0,o=d.return_of_asset||0),i&&(r.push({date:d.date,return_of_asset:void 0===d.return_of_asset?0:parseFloat((d.return_of_asset-o).toFixed(2)),return_of_day_trade:void 0===d.day_trade?0:parseFloat((d.day_trade-l).toFixed(2)),KOSPI:parseFloat((100*(d.KOSPI-c.KOSPI)/c.KOSPI).toFixed(2)),"S&P500":parseFloat((100*(d["S&P500"]-c["S&P500"])/c["S&P500"]).toFixed(2)),NASDAQ:parseFloat((100*(d.NASDAQ-c.NASDAQ)/c.NASDAQ).toFixed(2)),LUXUARY:parseFloat((100*(d.LUXUARY-c.LUXUARY)/c.LUXUARY).toFixed(2)),Global_Index:parseFloat((100*(d.Global_Index-c.Global_Index)/c.Global_Index).toFixed(2)),safety_asset_ratio:d.safety_asset_ratio,memo:d.memo}),d.date===a))break}}catch(j){s.e(j)}finally{s.f()}return r}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=w(t[0].date,t[t.length-1].date);g(e)}}),[t,w]),!p||!p.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});function A(){var e=s.left,t=s.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=w(e,t),c=function(e,t,a){var n,c=[a[0].return_of_asset,a[0].return_of_asset],r=c[0],o=c[1],l=!1,i=Object(le.a)(a);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.date===e&&(l=!0),l&&(s.return_of_asset>o&&(o=s.return_of_asset),s.return_of_asset<r&&(r=s.return_of_asset),s.return_of_day_trade>o&&(o=s.return_of_day_trade),s.return_of_day_trade<r&&(r=s.return_of_day_trade),s["S&P500"]>o&&(o=s["S&P500"]),s["S&P500"]<r&&(r=s["S&P500"]),s.NASDAQ>o&&(o=s.NASDAQ),s.NASDAQ<r&&(r=s.NASDAQ),s.KOSPI>o&&(o=s.KOSPI),s.KOSPI<r&&(r=s.KOSPI),s.Global_Index>o&&(o=s.Global_Index),s.Global_Index<r&&(r=s.Global_Index),s.date===t))break}}catch(d){i.e(d)}finally{i.f()}return[0|Math.floor(r-1),0|Math.ceil(o+1)]}(e,t,n),r=Object(b.a)(c,2),l=r[0],i=r[1];d({left:"",right:""}),o({bottom:l,top:i}),g(n)}else d({left:"",right:""})}var D=function(e){var t=e.active,a=e.payload,n=e.label;if(!t||!a||!a.length)return null;var c=a.filter((function(e){return"Return of Asset"===e.name}))[0],r=a.filter((function(e){return"Return of DayTrade"===e.name}))[0];return Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),c&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:c.color},children:"".concat(c.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:c.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:c.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c.value).padStart(8," "))})})]}),r&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(8," "))})})]}),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),a.map((function(e,t){return"Return of Asset"===e.name||"Return of DayTrade"===e.name?null:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(8," "))})})]},e.name)}))]})})]})},I=function(e){var t=e.x,a=e.y,n=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(N.jsx)("g",{children:Object(N.jsx)("text",{x:t,y:a-2*n,textAnchor:"middle",fontSize:o,fontWeight:l,children:c})}):Object(N.jsx)("g",{})};return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:800,children:Object(N.jsxs)(se.a,{width:800,height:800,data:p,onMouseDown:function(e){return e&&s.left!==e.activeLabel&&d({left:e.activeLabel,right:s.right})},onMouseMove:function(e){e&&ye.hasAnyValue(e.activeTooltipIndex)&&x(e.activeTooltipIndex),e&&s.left&&s.right!==e.activeLabel&&d({right:e.activeLabel,left:s.left})},onMouseUp:function(e){""!==s.left&&""===s.right?function(){var e=w(t[0].date,t[t.length-1].date);d({left:"",right:""}),o({top:"dataMax + 1",bottom:"dataMin - 1"}),g(e)}():A()},onMouseLeave:function(e){x(void 0)},margin:{top:40,right:30,left:30,bottom:50},children:[Object(N.jsx)(de.a,{strokeDasharray:"3 3"}),Object(N.jsx)(je.a,{content:Object(N.jsx)(D,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0},onMouseEnter:function(e){var t=e.dataKey;k(Object(h.a)(Object(h.a)({},_),{},Object(R.a)({},t,3)))},onMouseLeave:function(e){var t=e.dataKey;k(Object(h.a)(Object(h.a)({},_),{},Object(R.a)({},t,1)))}}),Object(N.jsx)(be.a,{allowDataOverflow:!0,dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{yAxisId:"left",allowDataOverflow:!0,domain:[r.bottom,r.top],tickFormatter:function(e){return parseFloat(e.toFixed(2))}}),Object(N.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_asset",name:"Return of Asset",stroke:Ne.return_of_asset,strokeWidth:2,animationDuration:300,children:Object(N.jsx)(xe.a,{dataKey:"return_of_asset",content:I,fontWeight:"bold"})}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_day_trade",name:"Return of DayTrade",stroke:Ne.return_of_day_trade,strokeWidth:2,animationDuration:300,children:Object(N.jsx)(xe.a,{dataKey:"return_of_day_trade",content:I,fontWeight:"bold"})}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"KOSPI",dataKey:"KOSPI",stroke:Ne.KOSPI,strokeWidth:_.KOSPI||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"S&P500",dataKey:"S&P500",stroke:Ne["S&P500"],strokeWidth:_["S&P500"]||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"NASDAQ",dataKey:"NASDAQ",stroke:Ne.NASDAQ,strokeWidth:_.NASDAQ||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"LUXUARY",dataKey:"LUXUARY",stroke:Ne.LUXUARY,strokeWidth:_.LUXUARY||1,animationDuration:300,dot:!1}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"Global_Index",dataKey:"Global_Index",stroke:Ne.Global_Index,strokeWidth:_.Global_Index||2,animationDuration:300,dot:!1}),Object(N.jsx)("defs",{children:Object(N.jsxs)("linearGradient",{id:"colorSafetyAssetRatio",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(N.jsx)("stop",{offset:"20%",stopColor:Ne.safety_asset_ratio,stopOpacity:.8}),Object(N.jsx)("stop",{offset:"75%",stopColor:Ne.safety_asset_ratio,stopOpacity:0})]})}),Object(N.jsx)(Oe.a,{yAxisId:"right",type:"monotone",name:"Safety Asset Ratio",dataKey:"safety_asset_ratio",stroke:Ne.safety_asset_ratio,fillOpacity:1,fill:"url(#colorSafetyAssetRatio)",children:Object(N.jsx)(xe.a,{dataKey:"safety_asset_ratio",fontSize:10,content:I})}),Object(N.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#888"}),s.left&&s.right?Object(N.jsx)(pe.a,{yAxisId:"left",x1:s.left,x2:s.right,strokeOpacity:.3}):null]})})}),ye.hasAnyValue(f)&&p[f]&&p[f].memo&&Object(N.jsxs)("div",{className:"position-fixed p-3 bg-light rounded",style:{top:10,left:10},children:[Object(N.jsx)("div",{className:"fw-bold",children:p[f].date}),Object(N.jsx)("div",{style:{lineBreak:"anywhere",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:p[f].memo})]})]})},De=a(211),Ie={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-20),Won:m.lightenDarkenColor(m.makeRandomColor(),-20),Dollar:m.lightenDarkenColor(m.makeRandomColor(),-20),LUXUARY:m.lightenDarkenColor(m.makeRandomColor(),-20),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-20),Reits:m.lightenDarkenColor(m.makeRandomColor(),-20),"S&P500":m.lightenDarkenColor(m.makeRandomColor(),-20),"Stocks-KR":m.lightenDarkenColor(m.makeRandomColor(),-20),"Stocks-US":m.lightenDarkenColor(m.makeRandomColor(),-20),"T-bond_I":m.lightenDarkenColor(m.makeRandomColor(),-20)},Ce=function(e){var t=e.data,a=c.a.useState({left:"",right:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,a){if(t&&t.length){var n,c=[],r=!1,o=0,l=Object(le.a)(t);try{for(l.s();!(n=l.n()).done;){var i=n.value;if(i.date===e&&(r=!0,o=i.accumulation-i.total),r&&(c.push(Object(h.a)(Object(h.a)({},i),{},{accumulation:i.accumulation-o})),i.date===a))break}}catch(s){l.e(s)}finally{l.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});var u=t[0].buy_volume||0,f=t[0].buy_volume||0,x=t[0].count||0,O=t[0].count||0;t.forEach((function(e){e.buy_volume<u&&(u=e.buy_volume),e.sell_volume<u&&(u=e.sell_volume),e.buy_volume>f&&(f=e.buy_volume),e.sell_volume>f&&(f=e.sell_volume),e.count<x&&(x=e.count),e.count>O&&(O=e.count)}));var m=function(e){var t=e.active,a=e.payload,n=e.label;if(!t||!a||!a.length)return null;var c=a[0].payload.total,r="#555",o=a.filter((function(e){return"Accumulation"===e.name}))[0];return Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),a.map((function(e,t){return"Accumulation"===e.name?null:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," "))})})]},e.name)})),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r},children:"Total"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:r,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c).padStart(14," "))})})]}),o&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]})]})})]})};return Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:400,children:Object(N.jsxs)(se.a,{width:500,height:300,data:s,margin:{top:30,right:30,left:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=j(e,t);o({left:"",right:""}),d(n)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",wrapperStyle:{top:0}}),Object(N.jsx)(de.a,{strokeDasharray:"3 3"}),Object(N.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8}),Object(N.jsx)(he.a,{yAxisId:"left",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(he.a,{yAxisId:"right",orientation:"right",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(je.a,{content:Object(N.jsx)(m,{})}),Object(N.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#000"}),Object(N.jsx)(De.a,{yAxisId:"left",dataKey:"KOSPI",fill:Ie.KOSPI,stackId:"stack"}),Object(N.jsx)(De.a,{yAxisId:"left",dataKey:"S&P500",fill:Ie["S&P500"],stackId:"stack"}),Object(N.jsx)(De.a,{yAxisId:"left",dataKey:"NASDAQ",fill:Ie.NASDAQ,stackId:"stack"}),Object(N.jsx)(De.a,{yAxisId:"left",dataKey:"LUXUARY",fill:Ie.LUXUARY,stackId:"stack"}),Object(N.jsx)(fe.a,{yAxisId:"right",type:"natural",name:"Accumulation",dataKey:"accumulation",stroke:"#D44",strokeWidth:2}),r.left&&r.right?Object(N.jsx)(pe.a,{x1:r.left,x2:r.right,yAxisId:"left",strokeOpacity:.3}):null]})})})},Me=a(108),Re=a(212),Te=function(e){var t=e.data,a=c.a.useState({left:"",right:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,a){if(t&&t.length){var n,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===a))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});var u=t[0].buy_volume||0,f=t[0].buy_volume||0,x=t[0].count||0,O=t[0].count||0;t.forEach((function(e){e.buy_volume<u&&(u=e.buy_volume),e.sell_volume<u&&(u=e.sell_volume),e.buy_volume>f&&(f=e.buy_volume),e.sell_volume>f&&(f=e.sell_volume),e.count<x&&(x=e.count),e.count>O&&(O=e.count)}));var m=function(e){var t=e.active,a=e.payload,n=e.label;if(!t||!a||!a.length)return null;var r,o,l,i,s=a[0].payload;return a.forEach((function(e){switch(e.name){case"price":r=e;break;case"average price":o=e;break;case"buy":l=e;break;case"sell":i=e}})),l&&(l.buy_volume=s.buy_volume),i&&(i.sell_volume=s.sell_volume),o&&(o.count=s.count),Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),r&&r.value&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(14," "))})})]},r.name),o&&o.value&&o.count&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]},o.name),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:"count"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.count).padStart(14," "))})})]},"count")]}),(l&&l.value&&l.buy_volume||i&&i.value&&i.sell_volume)&&Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),l&&l.value&&l.buy_volume&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:"buy_price"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.value).padStart(14," "))})})]},l.name),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:"buy_volume"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.buy_volume).padStart(14," "))})})]},"buy_volume")]}),i&&i.value&&i.sell_volume&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:"sell_price"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.value).padStart(14," "))})})]},i.name),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:"sell_volume"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.sell_volume).padStart(14," "))})})]},"sell_volume")]})]})})]})},p=function(e){var t=e.cx,a=e.cy,n=e.stroke,c=e.payload.count;if(c<1)return null;var r=c/O*512;return Object(N.jsx)("svg",{x:t-20,y:a-20,width:40,height:40,fill:n,fillOpacity:.2,viewBox:"0 0 1024 1024",children:Object(N.jsx)("circle",{cx:512,cy:512,r:r})})};return Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:400,children:Object(N.jsxs)(se.a,{width:500,height:400,data:s,margin:{top:10,left:30,right:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=j(e,t);o({left:"",right:""}),d(n)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(N.jsx)(de.a,{stroke:"#DDD"}),Object(N.jsx)(je.a,{content:Object(N.jsx)(m,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",height:36,iconSize:12}),Object(N.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{fontSize:10,domain:[function(e){return parseInt(.995*e)},function(e){return parseInt(1.005*e)}],tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(Me.a,{dataKey:"sell_volume",name:"sell_volume",domain:[u,f],range:[50,500],unit:"ea",zAxisId:"sell_vol"}),Object(N.jsx)(Me.a,{dataKey:"buy_volume",name:"buy_volume",domain:[u,f],range:[50,500],unit:"ea",zAxisId:"buy_vol"}),Object(N.jsx)(fe.a,{type:"natural",dataKey:"price"}),Object(N.jsx)(fe.a,{type:"natural",name:"average price",dataKey:"a_price",stroke:"#0A0",dot:Object(N.jsx)(p,{})}),Object(N.jsx)(Re.a,{name:"sell",dataKey:"sell_price",shape:"circle",stroke:"#00F",fillOpacity:.5,fill:"#00F9",legendType:"circle",zAxisId:"sell_vol"}),Object(N.jsx)(Re.a,{name:"buy",dataKey:"buy_price",shape:"circle",stroke:"#F00",fillOpacity:.5,fill:"#F009",legendType:"circle",zAxisId:"buy_vol"}),r.left&&r.right?Object(N.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},Ee={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-50),Won:m.lightenDarkenColor(m.makeRandomColor(),-50),Dollar:m.lightenDarkenColor(m.makeRandomColor(),-50),Luxuary:m.lightenDarkenColor(m.makeRandomColor(),-50),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-50),Reits:m.lightenDarkenColor(m.makeRandomColor(),-50),"S&P500":m.lightenDarkenColor(m.makeRandomColor(),-50),"Stocks-KR":m.lightenDarkenColor(m.makeRandomColor(),-50),"Stocks-US":m.lightenDarkenColor(m.makeRandomColor(),-50),"T-bond_I":m.lightenDarkenColor(m.makeRandomColor(),-50),"P-Metal":m.lightenDarkenColor(m.makeRandomColor(),-50)},Ke=function(e){var t=e.data,a=c.a.useState({left:"",right:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,a){if(t&&t.length){var n,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===a))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});var u=function(e){var t=e.active,a=e.payload,n=e.label;return t&&a&&a.length?Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),a.map((function(e){var t=(100*e.value/e.payload.Total).toFixed(2).padStart(5," ");return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," ")," (").concat(t,"%)")})})]},e.name)})).reverse(),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{className:"fw-bolder",style:{color:"black"},children:"Total"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:"black"},children:" :  "})}),Object(N.jsx)("td",{className:"text-end",children:Object(N.jsx)("code",{className:"text-dark fw-bolder",style:{textAlign:"end",fontSize:"".concat(14,"px")},children:"\uffe6 ".concat(y.number2commadStringWithIntl(a[0].payload.Total))})})]})]})})]}):null},f=function(e){var t=e.x,a=e.y,n=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(N.jsx)("g",{children:Object(N.jsx)("text",{x:t,y:a-n,textAnchor:"middle",fontSize:o,fontWeight:l,children:y.number2shortenString(c)})}):Object(N.jsx)("g",{})};return Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:600,children:Object(N.jsxs)(Se.a,{width:500,height:400,data:s,defaultShowTooltip:!0,margin:{top:20,right:30,left:30,bottom:50},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=j(e,t);o({left:"",right:""}),d(n)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(N.jsx)(de.a,{strokeDasharray:"1 2"}),Object(N.jsx)(be.a,{dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{allowDataOverflow:!0,domain:[0,function(e){return parseInt(1.1*e)}],fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(je.a,{content:Object(N.jsx)(u,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Won",stackId:"1",stroke:Ee.Won,fill:Ee.Won,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Won",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Dollar",stackId:"1",stroke:Ee.Dollar,fill:Ee.Dollar,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Dollar",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"KOSPI",stackId:"1",stroke:Ee.KOSPI,fill:Ee.KOSPI,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_KOSPI",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"S&P500",stackId:"1",stroke:Ee["S&P500"],fill:Ee["S&P500"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_S&P500",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"NASDAQ",stackId:"1",stroke:Ee.NASDAQ,fill:Ee.NASDAQ,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_NASDAQ",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Luxuary",stackId:"1",stroke:Ee.Luxuary,fill:Ee.Luxuary,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Luxuary",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Stocks-KR",stackId:"1",stroke:Ee["Stocks-KR"],fill:Ee["Stocks-KR"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Stocks-KR",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Stocks-US",stackId:"1",stroke:Ee["Stocks-US"],fill:Ee["Stocks-US"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Stocks-US",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"Reits",stackId:"1",stroke:Ee.Reits,fill:Ee.Reits,animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_Reits",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"T-bond_I",stackId:"1",stroke:Ee["T-bond_I"],fill:Ee["T-bond_I"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_T-bond_I",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(N.jsxs)(Oe.a,{type:"monotone",dataKey:"P-Metal",stackId:"1",stroke:Ee["P-Metal"],fill:Ee["P-Metal"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(N.jsx)(xe.a,{dataKey:"PERCENT_P-Metal",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}}),null!=s&&s.length>25?Object(N.jsx)(xe.a,{dataKey:"Total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2shortenString(e)},content:f}):Object(N.jsx)(xe.a,{dataKey:"Total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2commadStringWithIntl(e)},content:f})]}),r.left&&r.right?Object(N.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},Pe=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useState({}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState({}),d=Object(b.a)(s,2),j=d[0],u=d[1],f=c.a.useState("KOSPI"),x=Object(b.a)(f,2),O=x[0],m=x[1],p=c.a.useState([]),y=Object(b.a)(p,2),v=y[0],S=y[1],_=l[O]||[],k=c.a.useRef(),w=c.a.useCallback((function(e){var t=[],a={},n={},c=[],r={},o=[];Object.keys(e).forEach((function(c){"Total"===c?e[c].forEach((function(e){var a=g.serialDateToJSDate(e["\uc77c\uc790"]),n=ne()(a).format("YY.MM.DD");delete e["\uc77c\uc790"],r[n]||(r[n]={}),r[n].return_of_asset=parseFloat((e.c_return||0).toFixed(2)),r[n].memo=e.memo;var c=(100*parseFloat(e.cash_ratio)).toFixed(2);r[n].safety_asset_ratio=c;var o={};["Won","Dollar","KOSPI","S&P500","NASDAQ","Luxuary","Reits","Stocks-KR","Stocks-US","T-bond_I","P-Metal"].forEach((function(t){o["PERCENT_".concat(t)]=function(t){return parseFloat((100*e[t]/e.Total).toFixed(2))}(t)})),t.push(Object(h.a)(Object(h.a)(Object(h.a)({},e),o),{},{date:n}))})):"KOSPI"===c||"S&P500"===c||"NASDAQ"===c||"LUXUARY"===c?a[c]=e[c].map((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]),a=ne()(t).format("YY.MM.DD");if(n[a]||(n[a]={total:0}),e["\ub9e4\uc218\ub7c9"]&&e["\ub9e4\ub3c4\ub7c9"]){var o=Math.min(e["\ub9e4\uc218\ub7c9"],e["\ub9e4\ub3c4\ub7c9"]),l=(e["\ub9e4\ub3c4\uac00\uaca9"]-e["\ub9e4\uc218\uac00\uaca9"])*o;n[a][c]=l,n[a].total+=l}return"KOSPI"!==c&&"S&P500"!==c&&"NASDAQ"!==c||(r[a]||(r[a]={}),r[a][c]=e.x1),"LUXUARY"===c&&(r[a]||(r[a]={}),r[a][c]=e["\uac00\uaca9"]),{date:a,price:e["\uac00\uaca9"],buy_price:e["\ub9e4\uc218\uac00\uaca9"],sell_price:e["\ub9e4\ub3c4\uac00\uaca9"],buy_volume:e["\ub9e4\uc218\ub7c9"],sell_volume:e["\ub9e4\ub3c4\ub7c9"],a_price:e["\ud3c9\uade0\ub2e8\uac00"],count:e["\ubcf4\uc720\ub7c9"]}})):"day_trade"===c?e[c].forEach((function(e){var t=ne()(g.serialDateToJSDate(e.date)).format("YY.MM.DD");r[t]||(r[t]={}),r[t][c]=parseFloat(e.return.toFixed(2))})):"Global_Index"===c&&e[c].forEach((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]),a=ne()(t).format("YY.MM.DD");r[a]||(r[a]={}),r[a][c]=e["\uac00\uaca9"]}))}));var l=0;return Object.keys(n).forEach((function(e,t){l+=n[e].total,c.push(Object(h.a)(Object(h.a)({date:e},n[e]),{},{accumulation:l}))})),Object.keys(r).forEach((function(e,t){o.push(Object(h.a)({date:e},r[e]))})),{total_asset_data:t,algorithm_trade_data:a,arbitrage_data:c,alpha_data:o}}),[]);return c.a.useEffect((function(){var e=localStorage.getItem("last_finance_data");if(e){var t=JSON.parse(e);try{var a=w(t),c=a.total_asset_data,r=a.algorithm_trade_data,o=a.arbitrage_data,l=a.alpha_data;n(c),i(r),S(o),u(l)}catch(s){localStorage.removeItem("last_finance_data"),window.location.reload()}}}),[w]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"text-start fw-bold my-5 px-4 w-100",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"TRADE HISTORY"}),Object(N.jsxs)("div",{className:"mt-5 d-flex justify-content-center w-100",children:[Object(N.jsx)("div",{className:"pe-2",children:Object(N.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=YourIndividualID","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("form",{ref:k,children:Object(N.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,a=new FileReader;a.onload=function(){var e=a.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var a=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=a})),k.current.reset(),localStorage.setItem("last_finance_data",JSON.stringify(c));var r=w(c),o=r.total_asset_data,l=r.algorithm_trade_data,s=r.arbitrage_data,d=r.alpha_data;n(o),i(l),S(s),u(d)},a.readAsBinaryString(t.files[0])}})}),Object(N.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:"ALGORITHM TRADE"})})}),Object(N.jsx)("div",{className:"mt-5 px-3 fw-bold",children:"Select data"}),Object(N.jsx)("div",{className:"px-3 d-flex flex-wrap",children:Object.keys(l).map((function(e,t){return Object(N.jsxs)("div",{className:"form-check px-3 py-2",children:[Object(N.jsx)("input",{className:"form-check-input",type:"radio",name:"radio_".concat(e),id:"radio_".concat(e),checked:O===e,onChange:function(t){return m(e)}}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"radio_".concat(e),children:e})]},t)}))}),Object(N.jsx)("div",{className:"mt-4",children:Object(N.jsx)(Te,{data:_})}),Object(N.jsx)("div",{className:"mt-5",children:Object(N.jsx)(Ce,{data:v})}),Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:"TOTAL ASSET RATIO"})})}),Object(N.jsx)("div",{className:"mt-5",children:Object(N.jsx)(Ke,{data:a})}),Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:"ALPHA"})})}),Object(N.jsx)("div",{className:"mt-5",children:Object(N.jsx)(Ae,{data:j})})]})},Fe=function(e){var t=e.data,a=c.a.useState({left:"",right:""}),n=Object(b.a)(a,2),r=n[0],o=n[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,a){if(t&&t.length){var n,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.date_time===e&&(r=!0),r&&(c.push(l),l.date_time===a))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date_time,t[t.length-1].date_time);d(e)}}),[t,j]),!s||!s.length)return Object(N.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(N.jsx)("h2",{children:"NO DATA"})});var u,f=t[0].buy_volume||0,x=t[0].buy_volume||0,O=Object(le.a)(t);try{for(O.s();!(u=O.n()).done;){var m=u.value;(m.buy_volume||m.sell_volume)&&(m.buy_volume<f&&(f=m.buy_volume),m.sell_volume<f&&(f=m.sell_volume),m.buy_volume>x&&(x=m.buy_volume),m.sell_volume>x&&(x=m.sell_volume))}}catch(g){O.e(g)}finally{O.f()}var p=function(e){var t=e.active,a=e.payload,n=e.label;if(!t||!a||!a.length)return null;var r,o,l,i,s=a[0].payload;return a.forEach((function(e){switch(e.name){case"price":r=e;break;case"buy":o=e;break;case"sell":l=e;break;case"rsi":i=e}})),o&&(o.buy_volume=s.buy_volume),l&&(l.sell_volume=s.sell_volume),Object(N.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(N.jsx)("p",{className:"fs-5 fw-bold text-center",children:n}),Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),r&&r.value&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(14," "))})})]},r.name),i&&i.value&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:"".concat(i.name)})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.value).padStart(14," "))})})]},i.name),(o&&o.value&&o.buy_volume||l&&l.value&&l.sell_volume)&&Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)("hr",{className:"my-2"})})}),o&&o.value&&o.buy_volume&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:"buy_price"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]},o.name),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:"buy_volume"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.buy_volume).padStart(14," "))})})]},"buy_volume")]}),l&&l.value&&l.sell_volume&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:"sell_price"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.value).padStart(14," "))})})]},l.name),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:"sell_volume"})}),Object(N.jsx)("td",{children:Object(N.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(N.jsx)("td",{children:Object(N.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.sell_volume).padStart(14," "))})})]},"sell_volume")]})]})})]})};return Object(N.jsx)("div",{style:{userSelect:"none"},children:Object(N.jsx)(ie.a,{width:"100%",height:400,children:Object(N.jsxs)(se.a,{width:500,height:400,data:s,margin:{top:10,left:30,right:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date_time,t[t.length-1].date_time);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var a=[t,e];e=a[0],t=a[1]}var n=j(e,t);o({left:"",right:""}),d(n)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(N.jsx)(de.a,{stroke:"#DDD"}),Object(N.jsx)(je.a,{content:Object(N.jsx)(p,{})}),Object(N.jsx)(ue.a,{align:"left",verticalAlign:"top",height:36,iconSize:12}),Object(N.jsx)(be.a,{dataKey:"date_time",domain:["auto","auto"],fontSize:10,angle:-40,height:40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(N.jsx)(he.a,{yAxisId:"left",fontSize:10,domain:[function(e){return parseInt(.995*e)},function(e){return parseInt(1.005*e)}],tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(N.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(N.jsx)(Me.a,{dataKey:"sell_volume",name:"sell_volume",domain:[f,x],range:[0,100],unit:"ea",zAxisId:"sell_vol"}),Object(N.jsx)(Me.a,{dataKey:"buy_volume",name:"buy_volume",domain:[f,x],range:[0,100],unit:"ea",zAxisId:"buy_vol"}),Object(N.jsx)(fe.a,{yAxisId:"left",type:"monotone",dataKey:"price",dot:null,isAnimationActive:!1}),Object(N.jsx)(fe.a,{yAxisId:"right",type:"natural",dataKey:"rsi",dot:null,stroke:"#CCC",isAnimationActive:!1}),Object(N.jsx)(Re.a,{yAxisId:"left",name:"sell",dataKey:"sell_price",shape:"circle",stroke:"#00F",fillOpacity:.5,fill:"#00F9",legendType:"circle",zAxisId:"sell_vol",isAnimationActive:!1}),Object(N.jsx)(Re.a,{yAxisId:"left",name:"buy",dataKey:"buy_price",shape:"circle",stroke:"#F00",fillOpacity:.5,fill:"#F009",legendType:"circle",zAxisId:"buy_vol",isAnimationActive:!1}),r.left&&r.right?Object(N.jsx)(pe.a,{yAxisId:"left",x1:r.left,x2:r.right,strokeOpacity:.3}):null,Object(N.jsx)(me.a,{yAxisId:"right",y:70,stroke:"#F00"}),Object(N.jsx)(me.a,{yAxisId:"right",y:30,stroke:"#00F"})]})})})},ze=function(){var e=c.a.useState({}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useRef(),o=c.a.useCallback((function(e){var t={},a={};Object.keys(e).forEach((function(t){"KODEX \ub808\ubc84\ub9ac\uc9c0"===t||"\uc2e0\ud55c \ub808\ubc84\ub9ac\uc9c0 S&P500 \uc120\ubb3c ETN"===t||"TRUE \ub808\ubc84\ub9ac\uc9c0 \ub098\uc2a4\ub2e5 100 ETN"===t||"HANARO \uae00\ub85c\ubc8c\ub7ed\uc154\ub9acS&P(\ud569\uc131)"===t?e[t].forEach((function(e){var n=new Date(e["\uc77c\uc790"]);n.getMinutes()%3>0&&n.setMinutes(n.getMinutes()-n.getMinutes()%3);var c=ne()(n).format("YY.MM.DD HH:mm"),r=t;a[c]||(a[c]={}),a[c][r]||(a[c][r]={}),a[c][r].price=e["\uc885\uac00"],a[c][r].rsi=parseFloat((100*e.RSI).toFixed(2))})):"\uac70\ub798\ub0b4\uc5ed"===t&&e[t].forEach((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"],e["\uc8fc\ubb38\uc2dc\uac01"]);t.getMinutes()%3>0&&t.setMinutes(t.getMinutes()-t.getMinutes()%3);var n=ne()(t).format("YY.MM.DD HH:mm"),c=e["\uc885\ubaa9\uba85"];a[n]||(a[n]={}),a[n][c]||(a[n][c]={}),"\ud604\uae08\ub9e4\ub3c4"===e["\uc8fc\ubb38\uad6c\ubd84"]?(a[n][c].sell_price=e["\uc8fc\ubb38\ub2e8\uac00"],a[n][c].sell_volume=e["\uc8fc\ubb38\uc218\ub7c9"]):"\ud604\uae08\ub9e4\uc218"===e["\uc8fc\ubb38\uad6c\ubd84"]&&(a[n][c].buy_price=e["\uc8fc\ubb38\ub2e8\uac00"],a[n][c].buy_volume=e["\uc8fc\ubb38\uc218\ub7c9"])}))}));var n=Object.keys(a);return n.sort(),n.forEach((function(e,n,c){Object.keys(a[e]).forEach((function(n){t[n]||(t[n]=[]),t[n].push(Object(h.a)({date_time:e},a[e][n]))}))})),Object.keys(t).forEach((function(e){var a=0,n=0;t[e]=t[e].map((function(e,t,c){var r=e.price||a,o=e.rsi||n;return a=r,n=o,Object(h.a)(Object(h.a)({},e),{},{price:r,rsi:o})}))})),t}),[]);return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"text-start fw-bold my-5 px-4",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"DAY TRADES"}),Object(N.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[Object(N.jsx)("div",{className:"pe-2",children:Object(N.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=1odYcI7b41XpWwZUs--q41rjhw7plenW6","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("form",{ref:r,children:Object(N.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,a=new FileReader;a.onload=function(){var e=a.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var a=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=a})),r.current.reset(),localStorage.setItem("day_trade_data",JSON.stringify(c)),n(o(c))},a.readAsBinaryString(t.files[0])}})}),Object(N.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),["KODEX \ub808\ubc84\ub9ac\uc9c0","\uc2e0\ud55c \ub808\ubc84\ub9ac\uc9c0 S&P500 \uc120\ubb3c ETN","TRUE \ub808\ubc84\ub9ac\uc9c0 \ub098\uc2a4\ub2e5 100 ETN","HANARO \uae00\ub85c\ubc8c\ub7ed\uc154\ub9acS&P(\ud569\uc131)"].map((function(e){return Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(N.jsx)("h1",{children:Object(N.jsx)("b",{children:e})})}),Object(N.jsx)("div",{className:"mt-4",children:Object(N.jsx)(Fe,{data:a[e]})})]},e)}))]})},Le=function(e){return Object(N.jsxs)(_.d,{children:[Object(N.jsx)(_.b,{path:"/auth/register",render:function(e){return Object(N.jsx)(F,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/auth/login",render:function(e){return Object(N.jsx)(L,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/d3/bubbles",render:function(e){return Object(N.jsx)($,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/youtube-search",render:function(e){return Object(N.jsx)(ce,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/trade-history",render:function(e){return Object(N.jsx)(we,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/trade-history-v1",render:function(e){return Object(N.jsx)(Pe,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{path:"/day-trades",render:function(e){return Object(N.jsx)(ze,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{exact:!0,path:"/",render:function(e){return Object(N.jsx)(M,Object(h.a)({},e))}}),Object(N.jsx)(_.b,{render:function(e){return Object(N.jsx)(_.a,{to:"/"})}})]})};var We=function(){var e=c.a.useReducer((function(e,t){return Object(h.a)(Object(h.a)({},e),t)}),v),t=Object(b.a)(e,2),a=t[0],n=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState(!1),d=Object(b.a)(s,2),x=d[0],O=d[1];function p(){return(p=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/util/check");case 3:O(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("App.checkServer",e.t0),O(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i((function(e){if(!e.length)return e;var t=e.slice();return t.shift(),t})),l.length){e.next=5;break}return e.next=4,m.delay(200);case 4:document.getElementsByTagName("body")[0].classList.remove("overflow-hidden");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(u.a)(j.a.mark((function e(t){var a,n,c,r,o,s,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.Modal,n=t.props,c=void 0===n?{}:n,r=t.onConfirm,o=void 0===r?function(){}:r,s=t.onCancel,d=void 0===s?function(){}:s,e.abrupt("return",new Promise((function(e,t){l.length||document.getElementsByTagName("body")[0].classList.add("overflow-hidden");i((function(t){var n=t.slice();return n.push(Object(N.jsx)(a,Object(h.a)(Object(h.a)({},c),{},{onConfirm:function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.next=4,y();case 4:e(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return t.next=4,y();case 4:e(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),n}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){!function(){p.apply(this,arguments)}()}),[]),Object(N.jsx)(f.a,{children:Object(N.jsx)(S.Provider,{value:Object.assign({},a,{setState:n,pushMessageModal:function(e){return _.apply(this,arguments)}}),children:Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(D,{modals:l,closeCurrentModal:y}),Object(N.jsxs)("nav",{className:"d-block d-sm-none position-fixed sticky-top w-100",children:[Object(N.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})})})}),Object(N.jsx)("div",{className:"collapse bg-dark",id:"navbarToggleExternalContent",children:Object(N.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",style:{minHeight:"".concat(100,"vh")},children:[x&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(N.jsx)("li",{className:"ps-2",children:Object(N.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})]}),Object(N.jsx)("nav",{className:"d-block d-sm-none",style:{height:50}}),Object(N.jsx)("nav",{className:"d-none d-sm-inline-block position-fixed top-0 end-0 bg-dark",style:{zIndex:1030,borderRadius:"0px 0px 0px 16px"},children:Object(N.jsxs)("ul",{className:"nav d-flex justify-content-end fw-bold",children:[x&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold ps-4",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(N.jsx)("li",{children:Object(N.jsx)(f.b,{exact:!0,to:"/",className:"nav-link fw-bold",children:"TEST"})})]})}),Object(N.jsx)(Le,{})]})})})};o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(We,{})}),document.getElementById("root")),l()}},[[407,1,2]]]);
//# sourceMappingURL=main.c31f81cf.chunk.js.map