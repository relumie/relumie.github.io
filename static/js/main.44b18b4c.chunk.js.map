{"version":3,"sources":["reportWebVitals.js","utils/util_common.js","components/contexts.js","styles/cs.js","components/modals/modal_wrapper.js","components/modals/modal_alert.js","components/views/v_main.js","api/api.js","components/views/auth/v_register.js","utils/util_api.js","components/views/auth/v_login.js","components/views/d3/v_bubbles.js","components/fragments/main_routes.js","components/app.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UtilCommon","ms","Promise","resolve","setTimeout","app_state_default","isWideMode","AppState","React","createContext","cs","classNames","bind","styles","ModalWrapper","props","useState","visible","setVisible","opacity","setOpacity","modals","setModals","useEffect","animation_duration","a","delay","length","showModal","hideModal","className","onClick","closeCurrentModal","defaultProps","console","log","ModalAlert","style","maxHeight","overflow","type","onCancel","whiteSpace","lineBreak","width","maxWidth","message","onConfirm","VMain","Consumer","state","e","pushMessageModal","Modal","modal_result","JSON","stringify","api","axios","create","baseURL","process","timeout","headers","interceptors","request","use","config","response","error","reject","status","url","params","data","VRegister","axios_cancel_source","CancelToken","source","cancel","app_state","useContext","login_id","password","password_confirm","email","form_data","setFormData","handleInput","name","target","value","submit","preventDefault","post","cancelToken","token","result","onSubmit","onChange","placeholder","UtilApi","errorMessageMap","defaultErrorMessageMap","Object","assign","input","toLowerCase","errors","keys","i","key","indexOf","VLogin","res","content","auth","isCancel","translateErrorMessages","VBubbles","setData","d3","arr","rawData","max_amount","d","total_amount","findRadius","exponent","range","domain","nodes","map","id","radius","grant_title","org","organization","group","year","start_year","x","Math","random","y","sort","b","createNodes","MainRoutes","path","render","exact","to","App","useReducer","prev_state","new_state","setState","message_modals","setMessageModals","isServerOn","setIsServerOn","closeMessageModal","p_message_modals","n_message_modals","slice","shift","document","getElementsByTagName","classList","remove","add","push","checkServer","Provider","Fragment","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","minHeight","fontSize","height","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44b18b4c.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","class UtilCommon {\r\n  static async delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n}\r\nexport default UtilCommon;","import React from 'react';\r\n\r\nconst app_state_default = {\r\n  isWideMode: false,\r\n};\r\nconst AppState = React.createContext(app_state_default);\r\n\r\nexport {\r\n  AppState, app_state_default,  \r\n};","import classNames from 'classnames/bind';\r\nimport styles from './_styles.scss';\r\nconst cs = classNames.bind(styles);\r\nexport default cs;","import React, { useEffect } from 'react';\r\nimport cs from '../../styles/cs';\r\nimport UtilCommon from '../../utils/util_common';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [opacity, setOpacity] = React.useState(false);\r\n  const [modals, setModals] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    async function showModal(animation_duration) {\r\n      setOpacity(false);\r\n      setVisible(true);\r\n      setModals(props.modals);\r\n      await UtilCommon.delay(animation_duration);\r\n      setOpacity(true);\r\n    };\r\n\r\n    async function hideModal(animation_duration) {\r\n      setOpacity(false);\r\n      await UtilCommon.delay(animation_duration);\r\n      setVisible(false);\r\n      setModals(props.modals);\r\n    }\r\n\r\n    if (props.modals.length > modals.length)\r\n      showModal(100);\r\n    else if (props.modals.length < modals.length)\r\n      hideModal(200);\r\n\r\n  }, [props.modals, modals]);\r\n\r\n  if (!modals.length)\r\n    return null;\r\n\r\n  return ( \r\n    <div className={cs({ 'modal-wrapper': true, visible, opacity })}>\r\n      <div className=\"modal-wrapper-backdrop\" onClick={props.closeCurrentModal}/>\r\n      <div className=\"modal-wrapper-container\">\r\n        {modals[0]}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalWrapper.defaultProps = {\r\n  modals: [],\r\n  closeCurrentModal: () => console.log('closeCurrentModal() is not defined.')  \r\n}\r\n \r\nexport default ModalWrapper;","const ModalAlert = (props) => {\r\n  return ( \r\n    <div style={{ maxHeight: `${80}vh`, overflow: 'auto' }}>\r\n      <div>\r\n        <button type='button' onClick={props.onCancel}>×</button>\r\n      </div>\r\n      <div style={{whiteSpace: 'pre-wrap', lineBreak: \"anywhere\", width: `${720}px`, maxWidth: `${90}vw`}}>\r\n        {props.message}\r\n      </div>\r\n      <div>\r\n        <button type='button' onClick={props.onConfirm}>Ok</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalAlert.defaultProps = {\r\n  message: 'NO MESSAGE',\r\n  onConfirm: () => {},\r\n  onCancel : () => {},\r\n}\r\n \r\nexport default ModalAlert;","import { AppState } from \"../contexts\";\r\nimport { ModalAlert } from \"../modals\";\r\n\r\nconst VMain = () => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Here's main\r\n      </div>\r\n      <br/>\r\n\r\n      <AppState.Consumer>\r\n        {state => (\r\n          <div style={{ whiteSpace: 'pre-wrap' }}>\r\n            <div>\r\n              <button type='button' onClick={async e => {\r\n                const modal_result = await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다.'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 73473'); }\r\n                });\r\n                console.log('MODAL_CONFIRMED? : ' + modal_result);\r\n                if (modal_result === false)\r\n                  return;\r\n                await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다. 2'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 52374'); }\r\n                });\r\n              }}>\r\n                PUSH MODAL\r\n              </button>\r\n            </div>\r\n            <div>\r\n              {JSON.stringify(state, '', 2)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </AppState.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VMain;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${process.env.REACT_APP_SERVER_API}/api`,\r\n  timeout: 3000,\r\n  headers: {\r\n    'content-type': 'application/json'\r\n  },\r\n});\r\n\r\n\r\napi.interceptors.request.use(function (config) {\r\n  // var auth = DataAuth.get();\r\n  // if (!auth?.value?.token)\r\n  //   return config;\r\n  \r\n  // config.headers['x-api-key'] = auth.value.token;\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(response => {\r\n  return response;\r\n}, error => {\r\n  /* pattern_reference: Axios Handle Errors (https://www.npmjs.com/package/axios#handling-errors) */\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    // console.log(error.response.data);\r\n    // console.log(error.response.status);\r\n    // console.log(error.response.headers);\r\n    return Promise.reject({\r\n      status : error.response.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      ...error.response.data // contain message on general\r\n    });\r\n  } else if (error.request) {\r\n    // The request was made but no response was received\r\n    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n    // http.ClientRequest in node.js\r\n    // console.log(error.request);\r\n    return Promise.reject({\r\n      status : error.request.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      message: error.message\r\n    });\r\n  } else {\r\n    // Something happened in setting up the request that triggered an Error\r\n    return Promise.reject(error);\r\n  }\r\n});\r\n\r\nexport default api;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VRegister = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      let result = await api.post('/auth/register', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password'],\r\n        '#email': form_data['email'],\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '가입되었습니다'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n\r\n      console.log(result)\r\n    } catch (e) {\r\n      console.log(e);      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     name=\"login_id\"         value={form_data['login_id']}         onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" name=\"password\"         value={form_data['password']}         onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <input type=\"password\" name=\"password_confirm\" value={form_data['password_confirm']} onChange={handleInput} placeholder=\"CONFIRM PASSWORD\"/>\r\n        <input type=\"email\"    name=\"email\"            value={form_data['email']}            onChange={handleInput} placeholder=\"EMAIL\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"REGISTER\"/>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VRegister;","class UtilApi {\r\n  /**\r\n   * \r\n   * @param {{message: string}} error API error\r\n   * @param {{error_message: string}} errorMessageMap The value is translated message.\r\n   */\r\n  static translateErrorMessages(error = {}, errorMessageMap = {}) {\r\n    if (!error?.message)\r\n      return;\r\n\r\n    const defaultErrorMessageMap = {\r\n      'SequelizeDatabaseError': 'DB 구문 에러.\\n관리자에게 문의해주세요',\r\n      'timeout of': '서버 응답시간이 초과되었습니다.\\n다시 시도해주세요.'\r\n    };\r\n    \r\n    errorMessageMap = Object.assign(defaultErrorMessageMap, errorMessageMap);\r\n\r\n    const input = error.message.toLowerCase();\r\n    const errors = Object.keys(errorMessageMap);\r\n    for (let i = 0; i < errors.length; ++i) {\r\n      const key = errors[i];\r\n      if (input.indexOf(key.toLowerCase()) >= 0)\r\n        return errorMessageMap[key];\r\n    }\r\n    return;\r\n  }\r\n}\r\nexport default UtilApi;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport UtilApi from '../../../utils/util_api';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VLogin = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const auth = await api.post('/auth/login', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password']\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n        .then(res => res?.data?.content)\r\n      \r\n      console.log(auth)\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '로그인 성공'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    } catch (e) {\r\n      if (axios.isCancel(e)) {\r\n        console.log('Canceled.');\r\n        return;\r\n      }\r\n\r\n      const message = UtilApi.translateErrorMessages(e, {\r\n        'no user': '해당하는 유저가 없습니다.'\r\n      });\r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p py-3\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     className=\"form-control\"  name=\"login_id\" value={form_data['login_id']} onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" className=\"form-control\"  name=\"password\" value={form_data['password']} onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary w-100\" />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VLogin;","import React from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst VBubbles = () => {\r\n  const [data, setData] = React.useState([]);\r\n  const [grouping, setGrouping] = React.useState('all');\r\n\r\n  function createNodes(rawData) {\r\n    const max_amount = d3.max(rawData, d => +d.total_amount);\r\n    const findRadius = d3.scalePow()\r\n      .exponent(0.5)\r\n      .range([2, 85])\r\n      .domain([0, max_amount]);\r\n\r\n    let nodes = rawData.map(d => ({\r\n      id: d.id,\r\n      radius: findRadius(+d.total_amount),\r\n      value: +d.total_amount,\r\n      name: d.grant_title,\r\n      org: d.organization,\r\n      group: d.group,\r\n      year: d.start_year,\r\n      x: Math.random() * 900,\r\n      y: Math.random() * 800\r\n    }));\r\n\r\n    // prevent occlusion of smaller nodes.\r\n    nodes.sort((a, b) => b.value - a.value);\r\n    \r\n    return nodes;\r\n  }\r\n  \r\n  React.useEffect(() => {\r\n    d3.csv('/data/gates_money.csv')\r\n      .then((arr) => {\r\n        setData(createNodes(arr));\r\n      });\r\n  }, []);\r\n\r\n  return ( \r\n    <div style={{ whiteSpace: 'pre-wrap', lineBreak: 'anywhere' }}>\r\n      {JSON.stringify(data, '', 2)}\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default VBubbles;","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { VLogin, VMain, VRegister, VBubbles } from '../views';\r\n\r\n\r\nconst MainRoutes = (props) => {\r\n  return ( \r\n    <Switch>\r\n      <Route path=\"/auth/register\" render={(props) => <VRegister {...props}/>}/>\r\n      <Route path=\"/auth/login\"    render={(props) => <VLogin    {...props}/>}/>\r\n      <Route path=\"/d3/bubbles\"    render={(props) => <VBubbles  {...props}/>}/>\r\n      <Route exact path=\"/\"        render={(props) => <VMain     {...props}/>}/>\r\n      <Route                       render={(props) => <Redirect to=\"/\" />}/>\r\n    </Switch>\r\n  );\r\n}\r\n \r\nexport default MainRoutes;","import React from 'react';\r\nimport { BrowserRouter, Link, NavLink } from 'react-router-dom';\r\nimport { UtilCommon } from '../utils';\r\nimport { AppState, app_state_default } from './contexts';\r\nimport MainRoutes from './fragments/main_routes';\r\nimport { ModalWrapper } from './modals';\r\n\r\nimport api from '../api/api';\r\n\r\nfunction App() {\r\n  const reducer = (prev_state, new_state) => ({ ...prev_state, ...new_state });\r\n  const [state, setState] = React.useReducer(reducer, app_state_default);\r\n  const [message_modals, setMessageModals] = React.useState([\r\n    // <ModalAlert />\r\n  ]);\r\n  const [isServerOn, setIsServerOn] = React.useState(false);\r\n\r\n  async function checkServer() {\r\n    try {\r\n      await api.post('/util/check')\r\n\r\n      setIsServerOn(true);\r\n    } catch (e) {\r\n      console.log('App.checkServer', e);\r\n      setIsServerOn(false);\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    checkServer();\r\n  }, []);\r\n\r\n\r\n  // Functions for message_modals >>>>>>>>>>>>>>>>>>\r\n  async function closeMessageModal(e) {\r\n    setMessageModals(p_message_modals => {\r\n      if (!p_message_modals.length)\r\n        return p_message_modals;\r\n\r\n      let n_message_modals = p_message_modals.slice();\r\n      n_message_modals.shift();      \r\n      return n_message_modals;  \r\n    });\r\n\r\n    if (!message_modals.length) {\r\n      await UtilCommon.delay(200); // close animation time\r\n      (document.getElementsByTagName('body')[0]).classList.remove('overflow-hidden');\r\n    }\r\n  }\r\n\r\n  async function pushMessageModal({Modal, props = {}, onConfirm = () => {}, onCancel = () => {}}) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!message_modals.length) {\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.add('overflow-hidden');\r\n      }\r\n\r\n      setMessageModals(p_message_modals => {\r\n        let n_message_modals = p_message_modals.slice();\r\n        n_message_modals.push((\r\n          <Modal\r\n            {...props}\r\n            onConfirm={async e => {\r\n              await onConfirm();\r\n              await closeMessageModal();\r\n              resolve(true);\r\n            }}\r\n            onCancel={async e => {\r\n              await onCancel();\r\n              await closeMessageModal();\r\n              resolve(false);\r\n            }}\r\n          />\r\n        ));\r\n        return n_message_modals;\r\n      });\r\n    });    \r\n  }\r\n  // <<<<<<<<<<<<<<<< Functions for message_modals\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AppState.Provider value={Object.assign({}, state, {      \r\n        setState,\r\n        pushMessageModal,\r\n      })}>\r\n        <React.Fragment>\r\n          <ModalWrapper modals={message_modals} closeCurrentModal={closeMessageModal} />\r\n            <nav className=\"d-block d-sm-none position-fixed w-100\">\r\n              <div className=\"navbar navbar-dark bg-dark\">\r\n                <div className=\"container-fluid\">\r\n                  <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"collapse bg-dark\" id=\"navbarToggleExternalContent\">\r\n                <ul className=\"nav nav-pills flex-column mb-auto fw-bold\" style={{ minHeight: `${100}vh` }}>\r\n                  {isServerOn && (\r\n                    <React.Fragment>\r\n                      <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                      <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                    </React.Fragment>\r\n                  )}\r\n                  \r\n                    <li><Link to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</Link></li>\r\n                  <li className=\"ps-2\"><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                  <li><NavLink to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n            <div className=\"d-block d-sm-none\" style={{ height: `${56}px` }}></div>\r\n\r\n            <div className=\"d-flex\">\r\n              <aside className=\"flex-shrink-0 d-none d-sm-block h-100 overflow-auto bg-dark\" style={{ width: `${16}em`, minHeight: `${100}vh` }}>\r\n                <nav>\r\n                  <ul className=\"nav nav-pills flex-column mb-auto fw-bold\">\r\n                    {isServerOn && (\r\n                      <React.Fragment>\r\n                        <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                        <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                      </React.Fragment>\r\n                    )}                    \r\n                    <li><Link to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</Link></li>\r\n                    <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold ps-4\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                    <li><NavLink exact to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                  </ul>\r\n                </nav>\r\n              </aside>\r\n              <main className=\"flex-fill overflow-auto\" style={{ height: `${100}vh` }}>\r\n                <MainRoutes />\r\n              </main>\r\n            </div>\r\n        </React.Fragment>\r\n      </AppState.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n// bootstrap dependency\nimport '@popperjs/core';\nimport 'bootstrap/dist/js/bootstrap.js';\n// style\nimport './styles/_styles.scss';\n// components\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}