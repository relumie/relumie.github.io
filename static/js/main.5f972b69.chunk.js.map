{"version":3,"sources":["reportWebVitals.js","utils/util_common.js","utils/util_html.js","utils/util_converter.js","utils/util_sheet.js","components/contexts.js","styles/cs.js","components/modals/modal_wrapper.js","components/modals/modal_alert.js","components/views/v_main.js","api/api.js","components/views/auth/v_register.js","utils/util_api.js","components/views/auth/v_login.js","components/fragments/bubbles/tooltip.js","components/fragments/bubbles/bubbles.js","components/fragments/bubbles/grouping_picker.js","components/fragments/bubbles/year_titles.js","components/views/d3/v_bubbles.js","components/views/v_youtube_search.js","components/views/recharts/rechart_alpha.js","components/views/recharts/rechart_arbitrage.js","components/views/recharts/rechart_day_trade.js","components/views/recharts/rechart_total_asset.js","components/views/v_trade_history.js","components/routers/main_routes.js","components/app.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UtilCommon","ms","Promise","resolve","setTimeout","Math","floor","random","toString","col","amt","replace","color","min","max","parseInt","substr","UtilHtml","e","callback","window","event","keyCode","which","UtilConverter","number","Intl","NumberFormat","format","UtilSheet","excelSerialDate","Date","UTC","app_state_default","isWideMode","AppState","React","createContext","cs","classNames","bind","styles","ModalWrapper","props","useState","visible","setVisible","opacity","setOpacity","modals","setModals","useEffect","animation_duration","a","delay","length","showModal","hideModal","className","onClick","closeCurrentModal","defaultProps","console","log","ModalAlert","style","maxHeight","overflow","type","onCancel","whiteSpace","lineBreak","width","maxWidth","message","onConfirm","VMain","Consumer","state","pushMessageModal","Modal","modal_result","JSON","stringify","api","axios","create","baseURL","process","timeout","headers","interceptors","request","use","config","response","error","reject","status","url","params","data","VRegister","axios_cancel_source","CancelToken","source","cancel","app_state","useContext","login_id","password","password_confirm","email","form_data","setFormData","handleInput","name","target","value","submit","preventDefault","post","cancelToken","token","result","onSubmit","onChange","placeholder","UtilApi","errorMessageMap","defaultErrorMessageMap","Object","assign","input","toLowerCase","errors","keys","i","key","indexOf","VLogin","res","content","auth","isCancel","translateErrorMessages","tooltip","tooltipId","tt","d3","append","attr","hideTooltip","updatePosition","ttw","tth","wscrX","scrollX","wscrY","scrollY","curX","document","getElementById","clientX","pageX","curY","clientY","pageY","ttleft","xOffset","innerWidth","tttop","yOffset","showTooltip","html","floatingTooltip","fillColor","domain","range","Bubbles","shouldComponentUpdate","g","forceStrength","center","simulation","velocityDecay","force","strength","x","y","charge","on","ticked","stop","d","this","radius","selectAll","nextProps","renderBubbles","groupByYear","regroupBubbles","bubbles","id","exit","remove","enter","classed","group","darker","showDetail","hideDetail","transition","duration","nodes","alpha","restart","yearCenters","year","ref","setState","onRef","Component","GroupingPicker","onBtnClick","onChanged","active","YearsTitles","map","fontSize","textAnchor","alignmentBaseline","BubbleChart","height","children","VBubbles","setData","grouping","setGrouping","d3Params","setD3Params","clientWidth","clientHeight","2008","2009","2010","rawData","max_amount","total_amount","findRadius","exponent","grant_title","org","organization","start_year","sort","b","createNodes","n_grouping","VYoutubeSearch","query","pageToken","bannedChannels","searchInfo","setSearchInfo","list","setList","history","setHistory","last_history","localStorage","getItem","parse","requestSearch","lastHistory","slice","pop","get","q","part","fields","maxResults","order","result_list","bannedChannelsList","split","channelTitle","trim","nHistory","push","setItem","nextPageToken","datum","nList","items","filter","item","title","he","decode","snippet","concat","h","top","onKeyDown","searchEnter","arr","videoId","href","rel","src","alt","nBannedChannels","moment","_colors_map","lightenDarkenColor","makeRandomColor","RechartAlpha","bottom","_domain","setDomain","left","right","_refArea","setRefArea","_purified_data","setPurifiedData","_reviseData","useCallback","from","to","initial_values","purified_data","accumulation_of_return_of_asset","is_selected_range","parseFloat","toFixed","date","background","AlphaTooltip","payload","label","payload_return_of_asset","colSpan","textAlign","number2commadStringWithIntl","padStart","userSelect","ResponsiveContainer","LineChart","onMouseDown","activeLabel","onMouseMove","onMouseUp","ceil","getAxisYDomain","margin","CartesianGrid","strokeDasharray","Tooltip","Legend","align","verticalAlign","iconSize","wrapperStyle","XAxis","allowDataOverflow","dataKey","angle","tickSize","tickMargin","padding","tickFormatter","YAxis","Line","stroke","strokeWidth","animationDuration","LabelList","offset","position","fontWeight","dot","ReferenceLine","ReferenceArea","x1","x2","strokeOpacity","RechartArbitrage","ArbitrageTooltip","payloads","total_arbitrage","total_color","payload_accumulation","ComposedChart","syncId","stackOffset","unixTime","yAxisId","price","orientation","Bar","fill","stackId","RechartDayTrade","min_traded_volume","max_trade_volume","forEach","AssetRatioTooltip","payload_price","payload_avg_price","payload_buy","payload_sell","full_payload","Fragment","CountDot","cx","cy","count","size","fillOpacity","viewBox","r","ZAxis","unit","zAxisId","Scatter","shape","legendType","RechartTotalAsstRatio","_percent_added_data","setPercentAddedData","percent_added_data","percentages","getPercentage","percent","reverse","AreaChart","defaultShowTooltip","Area","formatter","v","VTradeHistory","_total_asset_data","setTotalAssetData","_algorithm_trade_data","setAlgorithmTradeData","_alpha_data","setAlphaData","_selected_algorithm_trade_data_name","setSelectedAlgorithmTradeDataName","_arbitrage_data","setArbitrageData","_selected_algorithm_trade_data","_refPricesFileForm","useRef","_parseData","total_asset_data","algorithm_trade_data","arbitrage_data_pre","arbitrage_data","alpha_data_pre","alpha_data","sheetName","row","serialDateToJSDate","arbitrage","buy_price","sell_price","buy_volume","sell_volume","a_price","accumulation","local_data","accept","getMilliseconds","reader","FileReader","onload","fdata","read_buffer","xlsx","read","SheetNames","data_rows","utils","sheet_to_json","Sheets","current","reset","readAsBinaryString","files","htmlFor","checked","MainRoutes","path","render","exact","App","useReducer","prev_state","new_state","message_modals","setMessageModals","isServerOn","setIsServerOn","closeMessageModal","p_message_modals","n_message_modals","shift","getElementsByTagName","classList","add","checkServer","Provider","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","minHeight","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.5f972b69.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","class UtilCommon {\r\n  static async delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  static makeRandomColor() {\r\n    return '#' + Math.floor(Math.random()*16777215).toString(16);\r\n  }\r\n\r\n  static lightenDarkenColor(col, amt) {\r\n    return '#' + col.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amt)).toString(16)).substr(-2));\r\n  }\r\n}\r\nexport default UtilCommon;","class UtilHtml {\r\n  static searchEnter(e, callback) {\r\n    if (!e)\r\n      e = window.event;\r\n    const key = e.keyCode ? e.keyCode : e.which;\r\n    if (key === 13) {\r\n      callback();\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\nexport default UtilHtml;","class UtilConverter {\r\n  static number2commadStringWithIntl(number) {\r\n    try {\r\n      var formatter = new Intl.NumberFormat(\"en-US\");\r\n      return formatter.format(number);\r\n    } catch (e) {\r\n      return number;\r\n    }\r\n  }\r\n}\r\nexport default UtilConverter;","class UtilSheet {\r\n  static serialDateToJSDate(excelSerialDate) {\r\n    return new Date(Date.UTC(0, 0, excelSerialDate - 1, -9)); // time-zone -9\r\n  }\r\n}\r\nexport default UtilSheet;","import React from 'react';\r\n\r\nconst app_state_default = {\r\n  isWideMode: false,\r\n};\r\nconst AppState = React.createContext(app_state_default);\r\n\r\nexport {\r\n  AppState, app_state_default,  \r\n};","import classNames from 'classnames/bind';\r\nimport styles from './_styles.scss';\r\nconst cs = classNames.bind(styles);\r\nexport default cs;","import React, { useEffect } from 'react';\r\nimport cs from '../../styles/cs';\r\nimport UtilCommon from '../../utils/util_common';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [opacity, setOpacity] = React.useState(false);\r\n  const [modals, setModals] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    async function showModal(animation_duration) {\r\n      setOpacity(false);\r\n      setVisible(true);\r\n      setModals(props.modals);\r\n      await UtilCommon.delay(animation_duration);\r\n      setOpacity(true);\r\n    };\r\n\r\n    async function hideModal(animation_duration) {\r\n      setOpacity(false);\r\n      await UtilCommon.delay(animation_duration);\r\n      setVisible(false);\r\n      setModals(props.modals);\r\n    }\r\n\r\n    if (props.modals.length > modals.length)\r\n      showModal(100);\r\n    else if (props.modals.length < modals.length)\r\n      hideModal(200);\r\n\r\n  }, [props.modals, modals]);\r\n\r\n  if (!modals.length)\r\n    return null;\r\n\r\n  return ( \r\n    <div className={cs({ 'modal-wrapper': true, visible, opacity })}>\r\n      <div className=\"modal-wrapper-backdrop\" onClick={props.closeCurrentModal}/>\r\n      <div className=\"modal-wrapper-container\">\r\n        {modals[0]}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalWrapper.defaultProps = {\r\n  modals: [],\r\n  closeCurrentModal: () => console.log('closeCurrentModal() is not defined.')  \r\n}\r\n \r\nexport default ModalWrapper;","const ModalAlert = (props) => {\r\n  return ( \r\n    <div style={{ maxHeight: `${80}vh`, overflow: 'auto' }}>\r\n      <div className=\"text-end pt-2 pe-2\">\r\n        <button type='button' className=\"btn-close\" onClick={props.onCancel} />\r\n      </div>\r\n      <div className=\"py-3\" style={{whiteSpace: 'pre-wrap', lineBreak: \"anywhere\", width: `${480}px`, maxWidth: `${90}vw`}}>\r\n        {props.message}\r\n      </div>\r\n      <div className=\"text-end\">\r\n        <button type='button' className=\"btn btn-primary text-light fw-bold rounded\" onClick={props.onConfirm}>확인</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalAlert.defaultProps = {\r\n  message: 'NO MESSAGE',\r\n  onConfirm: () => {},\r\n  onCancel : () => {},\r\n}\r\n \r\nexport default ModalAlert;","import { AppState } from \"../contexts\";\r\nimport { ModalAlert } from \"../modals\";\r\n\r\nconst VMain = () => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Here's main\r\n      </div>\r\n      <br/>\r\n\r\n      <AppState.Consumer>\r\n        {state => (\r\n          <div style={{ whiteSpace: 'pre-wrap' }}>\r\n            <div>\r\n              <button type='button' onClick={async e => {\r\n                const modal_result = await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다.'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 73473'); }\r\n                });\r\n                console.log('MODAL_CONFIRMED? : ' + modal_result);\r\n                if (modal_result === false)\r\n                  return;\r\n                await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다. 2'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 52374'); }\r\n                });\r\n              }}>\r\n                PUSH MODAL\r\n              </button>\r\n            </div>\r\n            <div>\r\n              {JSON.stringify(state, '', 2)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </AppState.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VMain;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${process.env.REACT_APP_SERVER_API}/api`,\r\n  timeout: 3000,\r\n  headers: {\r\n    'content-type': 'application/json'\r\n  },\r\n});\r\n\r\n\r\napi.interceptors.request.use(function (config) {\r\n  // var auth = DataAuth.get();\r\n  // if (!auth?.value?.token)\r\n  //   return config;\r\n  \r\n  // config.headers['x-api-key'] = auth.value.token;\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(response => {\r\n  return response;\r\n}, error => {\r\n  /* pattern_reference: Axios Handle Errors (https://www.npmjs.com/package/axios#handling-errors) */\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    // console.log(error.response.data);\r\n    // console.log(error.response.status);\r\n    // console.log(error.response.headers);\r\n    return Promise.reject({\r\n      status : error.response.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      ...error.response.data // contain message on general\r\n    });\r\n  } else if (error.request) {\r\n    // The request was made but no response was received\r\n    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n    // http.ClientRequest in node.js\r\n    // console.log(error.request);\r\n    return Promise.reject({\r\n      status : error.request.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      message: error.message\r\n    });\r\n  } else {\r\n    // Something happened in setting up the request that triggered an Error\r\n    return Promise.reject(error);\r\n  }\r\n});\r\n\r\nexport default api;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VRegister = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      let result = await api.post('/auth/register', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password'],\r\n        '#email': form_data['email'],\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '가입되었습니다'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n\r\n      console.log(result)\r\n    } catch (e) {\r\n      console.log(e);      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     name=\"login_id\"         value={form_data['login_id']}         onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" name=\"password\"         value={form_data['password']}         onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <input type=\"password\" name=\"password_confirm\" value={form_data['password_confirm']} onChange={handleInput} placeholder=\"CONFIRM PASSWORD\"/>\r\n        <input type=\"email\"    name=\"email\"            value={form_data['email']}            onChange={handleInput} placeholder=\"EMAIL\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"REGISTER\"/>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VRegister;","class UtilApi {\r\n  /**\r\n   * \r\n   * @param {{message: string}} error API error\r\n   * @param {{error_message: string}} errorMessageMap The value is translated message.\r\n   */\r\n  static translateErrorMessages(error = {}, errorMessageMap = {}) {\r\n    if (!error?.message)\r\n      return;\r\n\r\n    const defaultErrorMessageMap = {\r\n      'SequelizeDatabaseError': 'DB 구문 에러.\\n관리자에게 문의해주세요',\r\n      'timeout of': '서버 응답시간이 초과되었습니다.\\n다시 시도해주세요.'\r\n    };\r\n    \r\n    errorMessageMap = Object.assign(defaultErrorMessageMap, errorMessageMap);\r\n\r\n    const input = error.message.toLowerCase();\r\n    const errors = Object.keys(errorMessageMap);\r\n    for (let i = 0; i < errors.length; ++i) {\r\n      const key = errors[i];\r\n      if (input.indexOf(key.toLowerCase()) >= 0)\r\n        return errorMessageMap[key];\r\n    }\r\n    return;\r\n  }\r\n}\r\nexport default UtilApi;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport UtilApi from '../../../utils/util_api';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VLogin = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const auth = await api.post('/auth/login', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password']\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n        .then(res => res?.data?.content)\r\n      \r\n      console.log(auth)\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '로그인 성공'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    } catch (e) {\r\n      if (axios.isCancel(e)) {\r\n        console.log('Canceled.');\r\n        return;\r\n      }\r\n\r\n      const message = UtilApi.translateErrorMessages(e, {\r\n        'no user': '해당하는 유저가 없습니다.'\r\n      });\r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p py-3\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     className=\"form-control\"  name=\"login_id\" value={form_data['login_id']} onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" className=\"form-control\"  name=\"password\" value={form_data['password']} onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary w-100\" />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VLogin;","import * as d3 from 'd3';\r\nimport './tooltip.scss';\r\n\r\n\r\nfunction floatingTooltip(tooltipId, width) {\r\n  // Local variable to hold tooltip div for manipulation in other functions.\r\n  const tt = d3.select('body').append('div')\r\n    .attr('class', 'bubble-tooltip')\r\n    .attr('id', tooltipId)\r\n    .style('pointer-events', 'none');\r\n\r\n  if (width)\r\n    tt.style('width', width)\r\n\r\n  hideTooltip(); // initially hide\r\n    \r\n  function hideTooltip () {\r\n    tt.style('opacity', 0.0);\r\n  }\r\n\r\n  function showTooltip (content, event) {\r\n    tt.style('opacity', 1.0)\r\n      .html(content)\r\n\r\n    updatePosition(event);\r\n  }\r\n\r\n  function updatePosition(event) {\r\n    const xOffset = 20;\r\n    const yOffset = 10;\r\n\r\n    const ttw = tt.style('width');\r\n    const tth = tt.style('height');\r\n\r\n    const wscrX = window.scrollX;\r\n    const wscrY = window.scrollY;\r\n\r\n    const curX = (document.getElementById) ? event.clientX + wscrX : event.pageX;\r\n    const curY = (document.getElementById) ? event.clientY + wscrY : event.pageY;\r\n\r\n    let ttleft = ((curX - wscrX + xOffset * 2 + ttw) > window.innerWidth)\r\n      ? curX - ttw - xOffset * 2 \r\n      : curX + xOffset;\r\n    if (ttleft < wscrX + xOffset)\r\n      ttleft = wscrX + xOffset;\r\n\r\n    let tttop = ((curY - wscrY + yOffset * 2 + tth) > window.innerWidth)\r\n      ? curY - tth - yOffset * 2 \r\n      : curY + yOffset;\r\n    if (tttop < wscrY + yOffset)\r\n      tttop = wscrY + yOffset;\r\n\r\n    tt\r\n      .style('top', `${tttop}px`)\r\n      .style('left', `${ttleft}px`);    \r\n  }\r\n\r\n  return {\r\n    showTooltip,\r\n    hideTooltip,\r\n    updatePosition,\r\n  };\r\n}\r\n\r\nconst tooltip = floatingTooltip('gates_tooltip', 240);\r\nexport default tooltip;","import React from 'react'\r\nimport * as d3 from 'd3';\r\nimport tooltip from './tooltip';\r\n\r\nconst fillColor = d3.scaleOrdinal().domain(['low', 'medium', 'high']).range(['#525b7a', '#beccde', '#5aa2bc']);\r\n\r\nclass Bubbles extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { \r\n      g: null\r\n    }\r\n\r\n    const { forceStrength, center } = this.props\r\n    this.simulation = d3.forceSimulation()\r\n      .velocityDecay(0.2)\r\n      .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n      .force('y', d3.forceY().strength(forceStrength).y(center.y))\r\n      .force('charge', d3.forceManyBody(this.charge.bind(this)))\r\n      .on('tick', this.ticked.bind(this))\r\n      .stop()\r\n  }\r\n\r\n  charge(d) {\r\n    return -this.props.forceStrength * (d.radius ** 2.0)\r\n  }\r\n\r\n  ticked() {\r\n    this.state.g.selectAll('.bubble')\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n  }\r\n\r\n\r\n  \r\n  shouldComponentUpdate = () => false\r\n\r\n  // TODO: replace it with other method (deprecated)\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data !== this.props.data)\r\n      this.renderBubbles(nextProps.data)\r\n    if (nextProps.groupByYear !== this.props.groupByYear)\r\n      this.regroupBubbles(nextProps.groupByYear)\r\n  }\r\n  \r\n\r\n\r\n  renderBubbles(data) {\r\n    const bubbles = this.state.g.selectAll('.bubble')\r\n      .data(data, d => d.id)\r\n\r\n    // EXIT\r\n    bubbles.exit().remove()\r\n\r\n    // ENTER\r\n    const bubblesE = bubbles.enter().append('circle')\r\n      .classed('bubble', true)\r\n      .attr('r', 0)\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n      .attr('fill', d => fillColor(d.group))\r\n      .attr('stroke', d => d3.rgb(fillColor(d.group)).darker())\r\n      .attr('stroke-width', 2)\r\n      // TODO: ADD TOOLTIP\r\n      .on('mouseover', showDetail)\r\n      .on('mouseout', hideDetail)\r\n\r\n      bubblesE.transition().duration(2000)\r\n        .attr('r', d => d.radius)\r\n        .on('end', () => {\r\n          this.simulation.nodes(data)\r\n            .alpha(1)\r\n            .restart()\r\n        })\r\n  }\r\n  \r\n  regroupBubbles (groupByYear) {\r\n    const { forceStrength, yearCenters, center } = this.props;\r\n    if (groupByYear)\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(d => yearCenters[d.year].x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(d => yearCenters[d.year].y));        \r\n    else\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(center.y));\r\n    \r\n    this.simulation.alpha(1).restart();\r\n  }\r\n\r\n\r\n  onRef (ref) {\r\n    this.setState({ g: d3.select(ref) }, () => this.renderBubbles(this.props.data))\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n      <g ref={this.onRef.bind(this)} className=\"bubbles\" />\r\n    )\r\n  }\r\n}\r\n \r\nexport default Bubbles;\r\n\r\nexport function showDetail(d) {\r\n  d3.select(this).attr('stroke', 'black');\r\n\r\n  const content = `<span class=\"name\">Title: </span><span class=\"value\">${d.name}</span><br/>`\r\n    + `<span class=\"name\">Amount: </span><span class=\"value\">$${d.value}</span><br/>`\r\n    + `<span class=\"name\">Year: </span><span class=\"value\">${d.year}</span>`;\r\n\r\n  tooltip.showTooltip(content, d3.event);\r\n}\r\n\r\n\r\nexport function hideDetail(d) {\r\n  d3.select(this).attr('stroke', d3.rgb(fillColor(d.group)).darker());\r\n  \r\n  tooltip.hideTooltip();\r\n}","  \r\nimport React from 'react';\r\nimport './grouping_picker.scss';\r\n\r\nexport default class GroupingPicker extends React.Component {\r\n  onBtnClick = (event) => {\r\n    this.props.onChanged(event.target.name)\r\n  }\r\n  render() {\r\n    const { active } = this.props\r\n    return (\r\n      <div className=\"GroupingPicker\">\r\n        <button className={`button ${active === 'all' && 'active'}`} name=\"all\" onClick={this.onBtnClick}>All Grants</button>\r\n        <button className={`button ${active === 'year' && 'active'}`} name=\"year\" onClick={this.onBtnClick}>Grants By Year</button>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nexport default function YearsTitles({ yearCenters }) {\r\n  return (\r\n    <g className=\"yearsTitles\">\r\n      {\r\n        Object.keys(yearCenters).map(year =>\r\n          <text\r\n            key={year}\r\n            x={yearCenters[year].x}\r\n            y={50}\r\n            fontSize=\"35\"\r\n            textAnchor=\"middle\"\r\n            alignmentBaseline=\"middle\"\r\n          >\r\n            {\r\n              year\r\n            }\r\n          </text>)\r\n      }\r\n    </g>\r\n  )\r\n}","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport { Bubbles, GroupingPicker, YearsTitles } from '../../fragments';\r\n\r\n\r\n\r\n\r\n\r\nconst VBubbles = () => {\r\n  const [data, setData] = React.useState([]);\r\n  const [grouping, setGrouping] = React.useState('all');\r\n  const [d3Params, setD3Params] = React.useState({})\r\n\r\n  \r\n\r\n  const onGroupingChanged = (n_grouping) => setGrouping(n_grouping)\r\n  \r\n  React.useEffect(() => {\r\n    const width  = document.getElementById('main').clientWidth // 960\r\n    const height = document.getElementById('main').clientHeight - 49 // 640\r\n    const center = { x: width / 2, y: height / 2 }\r\n    const yearCenters = {\r\n      2008: { x: width / 4, y: height / 2 },\r\n      2009: { x: width / 2, y: height / 2 },\r\n      2010: { x: (3 / 4) * width, y: height / 2 },\r\n    }\r\n    setD3Params({ width, height, center, yearCenters })\r\n    \r\n    const createNodes = (rawData) => {\r\n      if (!width || !height)\r\n        return;\r\n  \r\n      const max_amount = d3.max(rawData, d => +d.total_amount);\r\n      const findRadius = d3.scalePow()\r\n        .exponent(0.5)\r\n        .range([2, 85])\r\n        .domain([0, max_amount]);\r\n  \r\n      let nodes = rawData.map(d => ({\r\n        id: d.id,\r\n        radius: findRadius(+d.total_amount),\r\n        value: +d.total_amount,\r\n        name: d.grant_title,\r\n        org: d.organization,\r\n        group: d.group,\r\n        year: d.start_year,\r\n        x: Math.random() * width,\r\n        y: Math.random() * height\r\n      }));\r\n  \r\n      // prevent occlusion of smaller nodes.\r\n      nodes.sort((a, b) => b.value - a.value);\r\n      \r\n      return nodes\r\n    }\r\n\r\n    d3.csv('/data/gates_money.csv', function (error, data) {\r\n      if (error) {\r\n        console.log('error', error);\r\n        return\r\n      }\r\n      let nodes = createNodes(data);\r\n      setData(nodes);\r\n    })\r\n      // .then((arr) => {\r\n      //   console.log(arr);\r\n      //   // setData(createNodes(arr));\r\n      // });\r\n  }, []);\r\n\r\n  return ( \r\n    <div style={{ whiteSpace: 'pre-wrap', lineBreak: 'anywhere', height: `${100}%`, overflow: 'auto' }}>\r\n      <GroupingPicker onChanged={onGroupingChanged} active={grouping} />\r\n      {(d3Params.width && d3Params.height) && (\r\n        <BubbleChart width={d3Params.width} height={d3Params.height}>\r\n          <Bubbles data={data} forceStrength={0.08} center={d3Params.center} yearCenters={d3Params.yearCenters} groupByYear={grouping === 'year'} />\r\n          {grouping === 'year' && (\r\n            <YearsTitles width={d3Params.width} yearCenters={d3Params.yearCenters} />\r\n          )}\r\n        </BubbleChart>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst BubbleChart = ({width, height, children}) => {\r\n  return ( \r\n    <svg className=\"bubbleChart\" width={width} height={height}>\r\n      {children}\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default VBubbles;","import React from 'react';\r\nimport axios from 'axios';\r\nimport he from 'he';\r\nimport { UtilHtml } from '../../utils';\r\nimport moment from 'moment';\r\n\r\nconst VYoutubeSearch = () => {\r\n  const [searchInfo, setSearchInfo] = React.useState({query: '', pageToken: '', bannedChannels: ''});\r\n  const [list, setList] = React.useState([]);\r\n  const [history, setHistory] = React.useState([]); // {query: '', pageToken: '', bannedChannels: ''}\r\n\r\n  React.useEffect(() => {\r\n    let last_history = localStorage.getItem('youtube_history');\r\n    if (!last_history)\r\n      return;\r\n    \r\n    setHistory(JSON.parse(last_history));\r\n  }, [setHistory]);\r\n\r\n\r\n  const requestSearch = async (e) => {\r\n    let pageToken = searchInfo.pageToken;\r\n    if (history.length) {\r\n      const lastHistory = history.slice().pop();\r\n      if (\r\n        (lastHistory.query !== searchInfo.query) ||\r\n        (lastHistory.bannedChannels !== searchInfo.bannedChannels)\r\n      ) {\r\n        pageToken = '';\r\n      }\r\n    }\r\n\r\n    let result_list;\r\n    try {\r\n      // https://developers.google.com/youtube/v3/getting-started#quota\r\n      result_list = await axios.get('https://www.googleapis.com/youtube/v3/search', {\r\n        params: {\r\n          pageToken,\r\n          key: process.env.REACT_APP_GOOGLE_API_KEY,\r\n          q: searchInfo.query,\r\n          part: 'snippet',\r\n          fields: 'nextPageToken,items(id(videoId),snippet(channelTitle,title,publishTime,thumbnails(medium(url))))',\r\n          maxResults: 50,\r\n          order: 'date',\r\n          type: 'video'\r\n        }            \r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n      return;\r\n    }\r\n\r\n    const bannedChannelsList = searchInfo.bannedChannels.split(',').map(channelTitle => channelTitle.trim());\r\n    \r\n    const nHistory = history.slice();\r\n    nHistory.push(searchInfo);\r\n    setHistory(nHistory);\r\n    localStorage.setItem('youtube_history', JSON.stringify(nHistory));\r\n    setSearchInfo({...searchInfo, pageToken: result_list.data.nextPageToken});\r\n\r\n    const keys = list.map(datum => datum['id']['videoId']);\r\n\r\n    const nList = result_list.data.items\r\n      .filter(item => {\r\n        if (bannedChannelsList.indexOf(item['snippet']['channelTitle']) >= 0)\r\n          return false;\r\n\r\n        if (!pageToken)\r\n          return true;\r\n\r\n        if (pageToken && keys.indexOf(item['id']['videoId']) >= 0)\r\n          return false;\r\n\r\n        return true;\r\n      })\r\n      .map(item => {\r\n        const title = he.decode(item['snippet']['title']);\r\n        return {\r\n          ...item,\r\n          snippet: {\r\n            ...item.snippet,\r\n            title\r\n          }\r\n        };\r\n      });\r\n    if (pageToken)\r\n      setList(list.concat(nList));\r\n    else\r\n      setList(nList);\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex\">\r\n      <div className=\"flex-shrink-0 d-none d-sm-block overflow-auto bg-gray text-light\" style={{ width: `${16}em`, height: `${100}vh` }}>\r\n        <nav>\r\n          <ul className=\"nav nav-pills flex-column mb-auto fw-bold\">\r\n            {history.map((h, i) => {\r\n              return (\r\n                <li key={i}>\r\n                  <button type=\"button\" className=\"btn btn-primary w-100\" onClick={e => setSearchInfo(h)}>\r\n                    {h.query}\r\n                  </button>\r\n                </li>\r\n              );\r\n            })}            \r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <div className=\"container-fluid overflow-scroll\" style={{height: \"100vh\"}}>\r\n        <div className=\"position-sticky\" style={{top: 0}}>\r\n          <div className=\"d-flex\">\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\" \r\n                value={searchInfo.query} \r\n                onChange={e => setSearchInfo({...searchInfo, query: e.target.value})} \r\n                onKeyDown={e => UtilHtml.searchEnter(e, requestSearch)}\r\n              />\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary\"\r\n              onClick={requestSearch}\r\n            >\r\n              {list.length ? 'More' : 'Search'}\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex\">\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\"\r\n                value={searchInfo.bannedChannels}\r\n                onChange={e => setSearchInfo({ ...searchInfo, bannedChannels: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <div style={{height: \"64px\"}}></div> */}\r\n        <div className=\"row mt-5\">\r\n          {list.map((datum, i, arr) => {\r\n            const videoId = datum['id']['videoId'];\r\n            return (\r\n              <div key={videoId} className=\"col-3\">\r\n                  <div>\r\n                    <a href={`https://www.youtube.com/watch?v=${videoId}`} target=\"_blank\" rel=\"noreferrer\">\r\n                      <img src={datum['snippet']['thumbnails']['medium']['url']} alt={`tmb_${i}`} />\r\n                    </a>\r\n                  </div>\r\n                <div>{datum['snippet']['title']}</div>\r\n                <div className=\"text-end\">\r\n                  <span className=\"text-danger selectable tooltip\" onClick={e => {\r\n                    var nBannedChannels = (searchInfo['bannedChannels']) \r\n                      ? datum['snippet']['channelTitle'] + ','  + searchInfo['bannedChannels']\r\n                      : datum['snippet']['channelTitle']\r\n                    setSearchInfo({...searchInfo, bannedChannels: nBannedChannels})\r\n                  }}>\r\n                    {datum['snippet']['channelTitle']}\r\n                    <span className=\"tooltiptext\">Ban this Channel</span>\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-gray-500 text-end\" style={{fontSize: `${8}px`}}>\r\n                  {moment(datum['snippet']['publishTime']).format('YY.MM.DD HH:mm')}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default VYoutubeSearch;","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { CartesianGrid, LabelList, Legend, Line, LineChart, ReferenceArea, ReferenceLine, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"NASDAQ\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"S&P200\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"return_of_asset\": \"#000\"\r\n};\r\n\r\nconst RechartAlpha = (props) => {\r\n  const { data } = props;\r\n\r\n  const [_domain, setDomain] = React.useState({top: 'dataMax + 1', bottom: 'dataMin - 1'});\r\n  const [_refArea, setRefArea] = React.useState({left: '', right: ''});\r\n\r\n  const [_purified_data, setPurifiedData] = React.useState([]);  \r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let initial_values = {};\r\n\r\n    let purified_data = [];\r\n    let accumulation_of_return_of_asset = 0;\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from) {\r\n        is_selected_range = true;\r\n        initial_values = {\r\n          'KOSPI' : datum['KOSPI'],\r\n          'S&P500': datum['S&P500'],\r\n          'NASDAQ': datum['NASDAQ'],\r\n        }\r\n      }\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n\r\n      accumulation_of_return_of_asset = (datum['date'] === from) ? 0 : parseFloat((accumulation_of_return_of_asset + datum['return_of_asset']).toFixed(2));\r\n      purified_data.push({\r\n        date: datum['date'],\r\n        'return_of_asset': accumulation_of_return_of_asset,\r\n        'KOSPI' : parseFloat(((datum['KOSPI' ] - initial_values['KOSPI' ]) * 100 / initial_values['KOSPI' ]).toFixed(2)),\r\n        'S&P500': parseFloat(((datum['S&P500'] - initial_values['S&P500']) * 100 / initial_values['S&P500']).toFixed(2)),\r\n        'NASDAQ': parseFloat(((datum['NASDAQ'] - initial_values['NASDAQ']) * 100 / initial_values['NASDAQ']).toFixed(2))\r\n      });\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n  \r\n  if (!data || !data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n  \r\n\r\n  function getAxisYDomain(from, to, data) {\r\n    let [bottom, top] = [data[0]['return_of_asset'], data[0]['return_of_asset']];\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from)\r\n        is_selected_range = true;\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      if (datum['return_of_asset'] > top) top = datum['return_of_asset'];\r\n      if (datum['return_of_asset'] < bottom) bottom = datum['return_of_asset'];\r\n\r\n      if (datum['S&P500'] > top) top = datum['S&P500'];\r\n      if (datum['S&P500'] < bottom) bottom = datum['S&P500'];\r\n\r\n      if (datum['NASDAQ'] > top) top = datum['NASDAQ'];\r\n      if (datum['NASDAQ'] < bottom) bottom = datum['NASDAQ'];\r\n\r\n      if (datum['KOSPI'] > top) top = datum['KOSPI'];\r\n      if (datum['KOSPI'] < bottom) bottom = datum['KOSPI'];\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n    return [(Math.floor(bottom - 1) | 0), (Math.ceil(top + 1) | 0)];\r\n  };\r\n  \r\n  function zoom() {\r\n    let { left, right } = _refArea;\r\n\r\n    if (left === right || right === '') {\r\n      setRefArea({\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    // yAxis domain\r\n    const [bottom, top] = getAxisYDomain(left, right, purified_data);\r\n\r\n    setRefArea({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    setDomain({\r\n      bottom,\r\n      top\r\n    });\r\n\r\n    setPurifiedData(purified_data);\r\n  }\r\n\r\n  function zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    setRefArea({left: '', right: ''});\r\n    setDomain({top: 'dataMax + 1', bottom: 'dataMin - 1'});\r\n    setPurifiedData(purified_data);\r\n  }\r\n  \r\n\r\n\r\n\r\n  const AlphaTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n\r\n    const payload_return_of_asset = payload.filter(payload => payload['name'] === 'Return of Asset')[0];\r\n    const date = moment(label).format('YY.MM.DD');    \r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{date}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload_return_of_asset && (\r\n              <tr>\r\n                <td><p style={{ color: payload_return_of_asset['color'] }}>{`${payload_return_of_asset['name']}`}</p></td>\r\n                <td><p style={{ color: payload_return_of_asset['color'] }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_return_of_asset['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_return_of_asset['value']).padStart(8, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload.map((payload, i) => {\r\n              if (payload['name'] === 'Return of Asset')\r\n                return null;\r\n\r\n              return (\r\n                <tr key={payload['name']}>\r\n                  <td><p style={{ color: payload['color'] }}>{`${payload['name']}`}</p></td>\r\n                  <td><p style={{ color: payload['color'] }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload['value']).padStart(8, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              );\r\n            })}            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return ( \r\n    <div style={{ userSelect: 'none' }}>\r\n      <div className=\"px-3 pb-3\">\r\n        <button type=\"button\" className=\"btn btn-outline-dark\" onClick={zoomOut}>Zoom Out</button>\r\n      </div>\r\n      <ResponsiveContainer width=\"100%\" height={400}>\r\n          <LineChart\r\n            width={800}\r\n            height={400}\r\n            data={_purified_data}\r\n            onMouseDown={(e) => e && (_refArea.left !== e.activeLabel) && setRefArea({ left: e.activeLabel, right: _refArea['right'] })}\r\n            onMouseMove={(e) => e && _refArea.left && (_refArea.right !== e.activeLabel) && setRefArea({ right: e.activeLabel, left: _refArea['left'] })}\r\n            onMouseUp={zoom}\r\n            margin={{\r\n              top: 40,\r\n              right: 30,\r\n              left: 30,\r\n              bottom: 50,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <Tooltip content={<AlphaTooltip />} />\r\n            <Legend align=\"left\" verticalAlign=\"top\" iconSize={20} wrapperStyle={{top: 0}} />\r\n            <XAxis\r\n              allowDataOverflow\r\n              dataKey=\"date\"\r\n              fontSize={10}\r\n              angle={-40}\r\n              textAnchor=\"end\"\r\n              // verticalAnchor=\"middle\"\r\n              tickSize={4}\r\n              tickMargin={8}\r\n              padding={{ left: 50, right: 50 }}\r\n              tickFormatter={(date) => {\r\n                if (date instanceof Date)\r\n                  return moment(date).format('YY.MM.DD');\r\n                return date;\r\n              }} \r\n            />\r\n            <YAxis\r\n              allowDataOverflow \r\n              domain={[_domain['bottom'], _domain['top'  ]]}\r\n              // padding={{ bottom: 50, top: 50 }}\r\n              tickFormatter={(value) => {\r\n                return parseFloat(value.toFixed(2));\r\n              }} \r\n            />\r\n            <Line\r\n              type=\"natural\" dataKey={'return_of_asset'} name=\"Return of Asset\"\r\n              stroke={_colors_map['return_of_asset']} strokeWidth={2}\r\n              animationDuration={300}\r\n            >\r\n              <LabelList dataKey={'return_of_asset'} offset={10} position=\"top\" fontWeight=\"bold\" />\r\n            </Line>\r\n\r\n            <Line type=\"natural\" name={'KOSPI' } dataKey={'KOSPI' } stroke={_colors_map['KOSPI' ]} animationDuration={300} dot={false} />\r\n            <Line type=\"natural\" name={'S&P500'} dataKey={'S&P500'} stroke={_colors_map['S&P500']} animationDuration={300} dot={false} />\r\n            <Line type=\"natural\" name={'NASDAQ'} dataKey={'NASDAQ'} stroke={_colors_map['NASDAQ']} animationDuration={300} dot={false} />\r\n            \r\n            <ReferenceLine y={0} stroke=\"#000\" />\r\n\r\n            {_refArea['left'] && _refArea['right'] ? (\r\n              <ReferenceArea x1={_refArea['left']} x2={_refArea['right']} strokeOpacity={0.3} />\r\n            ) : null}\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default RechartAlpha;","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Bar, CartesianGrid, ComposedChart, Legend, Line, ReferenceLine, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\n\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Won\"       : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Dollar\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"LUXUARY\"   : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"NASDAQ\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Reits\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"S&P500\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Stocks-KR\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Stocks-US\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"T-bond_I\"  : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n};\r\n\r\n\r\nconst RechartArbitrage = (props) => {\r\n  const { data } = props;\r\n\r\n  if (!data || !data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n  const ArbitrageTooltip = ({ active, payload: payloads, label }) => {\r\n    if (!active || !payloads || !payloads.length)\r\n      return null;\r\n    \r\n    const full_payload = payloads[0]['payload'];\r\n    const total_arbitrage = full_payload['total'];\r\n    const total_color = '#555';\r\n\r\n    const payload_accumulation = payloads.filter(payload => payload['name'] === 'Accumulation')[0];\r\n\r\n    const date = moment(label).format('YY.MM.DD');    \r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{date}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payloads.map((payload, i) => {\r\n              if (payload['name'] === 'Accumulation')\r\n                return null;\r\n\r\n              return (\r\n                <tr key={payload['name']}>\r\n                  <td><p style={{ color: payload['color'] }}>{`${payload['name']}`}</p></td>\r\n                  <td><p style={{ color: payload['color'] }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              )\r\n            })}\r\n            \r\n            \r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr> \r\n            <tr>\r\n              <td><p style={{ color: total_color }}>{`Total`}</p></td>\r\n              <td><p style={{ color: total_color }}>{` :  `}</p></td>\r\n              <td><code className=\"w-100\" style={{ color: total_color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                {`${UtilConverter.number2commadStringWithIntl(total_arbitrage).padStart(14, ' ')}`}\r\n              </code></td>\r\n            </tr>\r\n            {payload_accumulation && (\r\n              <tr>\r\n                <td><p style={{ color: payload_accumulation['color'] }}>{`${payload_accumulation['name']}`}</p></td>\r\n                <td><p style={{ color: payload_accumulation['color'] }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_accumulation['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_accumulation['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  return (     \r\n    <ResponsiveContainer width=\"100%\" height={400}>\r\n        <ComposedChart\r\n          syncId=\"dayTradeChart\"\r\n          width={500}\r\n          height={300}\r\n          data={data}\r\n          stackOffset=\"sign\"\r\n          margin={{\r\n            top: 30,\r\n            right: 30,\r\n            left: 30,\r\n            bottom: 20,\r\n          }}\r\n        >          \r\n          <Legend align=\"left\" verticalAlign=\"top\" wrapperStyle={{top: 0}} />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis\r\n            dataKey=\"date\"\r\n            domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            angle={-40}\r\n            textAnchor=\"end\"\r\n            // verticalAnchor=\"middle\"\r\n            tickSize={4}\r\n            tickMargin={8}\r\n            tickFormatter={(unixTime) => moment(unixTime).format('YY.MM.DD')}\r\n          />\r\n          <YAxis yAxisId=\"left\" fontSize={10} tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} />\r\n          <YAxis yAxisId=\"right\" orientation=\"right\" fontSize={10} tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} />\r\n          <Tooltip content={<ArbitrageTooltip />}/>\r\n          <ReferenceLine yAxisId=\"left\" y={0} stroke=\"#000\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"KOSPI\"   fill={_colors_map[\"KOSPI\"  ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"S&P500\"  fill={_colors_map[\"S&P500\" ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"NASDAQ\"  fill={_colors_map[\"NASDAQ\" ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"LUXUARY\" fill={_colors_map[\"LUXUARY\"]} stackId=\"stack\" />\r\n          \r\n          <Line yAxisId=\"right\" type=\"natural\" name=\"Accumulation\" dataKey=\"accumulation\" stroke=\"#D44\" strokeWidth={2} />\r\n        </ComposedChart>\r\n      </ResponsiveContainer>\r\n  );\r\n}\r\n \r\nexport default RechartArbitrage;","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { CartesianGrid, ComposedChart, Legend, Line, ResponsiveContainer, Scatter, Tooltip, XAxis, YAxis, ZAxis } from \"recharts\";\r\nimport { UtilConverter } from \"../../../utils\";\r\n\r\nconst RechartDayTrade = (props) => {\r\n  const { data } = props;\r\n\r\n  if (!data || !data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n  // set min, max trade volume\r\n  let min_traded_volume = 100000, max_trade_volume = 0;  \r\n  data.forEach((datum) => {\r\n    if (datum['buy_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['sell_volume'];\r\n    if (datum['buy_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['sell_volume'];\r\n  });\r\n  if (!data.length) {\r\n    min_traded_volume = 0;\r\n    max_trade_volume = 100000;\r\n  }\r\n\r\n\r\n\r\n\r\n  const AssetRatioTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n    \r\n    const full_payload = payload[0]['payload'];\r\n\r\n    const date = moment(label).format('YY.MM.DD');\r\n\r\n    let payload_price,\r\n        payload_avg_price,\r\n        payload_buy,\r\n        payload_sell;\r\n\r\n    payload.forEach(datum => {\r\n      switch (datum['name']) {\r\n        case 'price':\r\n          payload_price = datum;\r\n          break;      \r\n        case 'average price':\r\n          payload_avg_price = datum;\r\n          break;      \r\n        case 'buy':\r\n          payload_buy = datum;\r\n          break;      \r\n        case 'sell':\r\n          payload_sell = datum;\r\n          break;      \r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    if (payload_buy)\r\n      payload_buy['buy_volume'] = full_payload['buy_volume'];\r\n    if (payload_sell)\r\n      payload_sell['sell_volume'] = full_payload['sell_volume'];\r\n    if (payload_avg_price)\r\n      payload_avg_price['count'] = full_payload['count'];\r\n\r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{date}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload_price && payload_price['value'] && (\r\n              <tr key={payload_price['name']}>\r\n                <td><p style={{ color: payload_price.color }}>{`${payload_price.name}`}</p></td>\r\n                <td><p style={{ color: payload_price.color }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_price['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            {payload_avg_price && payload_avg_price['value'] && payload_avg_price['count'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_avg_price['name']}>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{`${payload_avg_price.name}`}</p></td>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_avg_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_avg_price['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'count'}>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{'count'}</p></td>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_avg_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_avg_price['count']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}\r\n            \r\n            {((payload_buy && payload_buy['value'] && payload_buy['buy_volume']) || (payload_sell && payload_sell['value'] && payload_sell['sell_volume'])) && (\r\n              <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            )}           \r\n\r\n            {payload_buy && payload_buy['value'] && payload_buy['buy_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_buy['name']}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_price'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'buy_volume'}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_volume'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['buy_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {payload_sell && payload_sell['value'] && payload_sell['sell_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_sell['name']}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_price'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'sell_volume'}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_volume'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['sell_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  const CountDot = (props) => {\r\n    const { cx, cy, stroke, payload /*, value*/ } = props;\r\n    let count = payload['count'];\r\n    if (count < 1)\r\n      return;\r\n\r\n    let size = Math.min(10, Math.log(count))/10 * 480;\r\n    \r\n    return (\r\n      <svg x={cx - 20} y={cy - 20} width={40} height={40} fill={stroke} fillOpacity={0.2} viewBox=\"0 0 1024 1024\">\r\n        <circle cx={512} cy={512} r={size} />\r\n      </svg>\r\n    );\r\n  };\r\n\r\n\r\n  return (     \r\n    <ResponsiveContainer width=\"100%\" height={400}>\r\n      <ComposedChart\r\n        syncId=\"dayTradeChart\"\r\n        width={500}\r\n        height={400}\r\n        data={data}\r\n        margin={{\r\n          top: 30,\r\n          left: 30,\r\n          right: 30,\r\n          bottom: 20,\r\n        }}\r\n      >\r\n        <CartesianGrid stroke=\"#DDD\" />\r\n        <Tooltip content={<AssetRatioTooltip />} />\r\n        <Legend align=\"left\" verticalAlign=\"top\" height={36} iconSize={12} />\r\n\r\n        <XAxis \r\n          dataKey=\"date\"\r\n          domain={['auto', 'auto']}\r\n          fontSize={10}\r\n          angle={-40}\r\n          textAnchor=\"end\"\r\n          // verticalAnchor=\"middle\"\r\n          tickSize={4}\r\n          tickMargin={8}\r\n          tickFormatter={(unixTime) => moment(unixTime).format('YY.MM.DD')}\r\n          // label={{ value: 'DATE', position: 'insideBottomRight', offset: 0 }} \r\n          padding={{ left: 50, right: 50 }}\r\n        />\r\n        <YAxis\r\n          // dataKey=\"price\" \r\n          // domain={['auto', 'auto']}\r\n          fontSize={10}\r\n          domain={['dataMin', 'dataMax']}\r\n          padding={{ top: 20, bottom: 20 }}\r\n          // unit=\"\"\r\n          // type=\"number\"\r\n          // label={{ value: 'WON', angle: -90, position: 'insideLeft' }}\r\n          tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} \r\n        />\r\n        <ZAxis dataKey=\"sell_volume\" name=\"sell_volume\" domain={[min_traded_volume, max_trade_volume]} range={[50, 500]} unit=\"ea\" zAxisId=\"sell_vol\" />\r\n        <ZAxis dataKey=\"buy_volume\"  name=\"buy_volume\"  domain={[min_traded_volume, max_trade_volume]} range={[50, 500]} unit=\"ea\" zAxisId=\"buy_vol\" />\r\n        {/* <Scatter name=\"red\" dataKey=\"red\" fill=\"red\" /> */}\r\n        <Line type=\"natural\" dataKey=\"price\" />\r\n        <Line type=\"natural\" name=\"average price\" dataKey=\"a_price\" stroke=\"#0A0\" dot={<CountDot />} />\r\n        <Scatter name=\"buy\"  dataKey=\"buy_price\"  shape=\"circle\" stroke=\"#F00\" fillOpacity={0.5} fill=\"#F009\" legendType=\"circle\" zAxisId=\"buy_vol\"  />\r\n        <Scatter name=\"sell\" dataKey=\"sell_price\" shape=\"circle\" stroke=\"#00F\" fillOpacity={0.5} fill=\"#00F9\" legendType=\"circle\" zAxisId=\"sell_vol\" />\r\n        \r\n        {/* <Line dataKey=\"redLine\" stroke=\"red\" dot={false} activeDot={false} legendType=\"none\" /> */}\r\n      </ComposedChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n \r\nexport default RechartDayTrade;","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Area, AreaChart, CartesianGrid, LabelList, Legend, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Won\"       : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Dollar\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Luxuary\"   : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"NASDAQ\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Reits\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"S&P500\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Stocks-KR\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Stocks-US\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"T-bond_I\"  : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n};\r\n\r\n\r\nconst RechartTotalAsstRatio = (props) => {\r\n  const { data }  = props;\r\n\r\n  const [_percent_added_data, setPercentAddedData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    let percent_added_data = data.map((datum, i) => {\r\n      function getPercentage(key) {\r\n        return parseFloat(((100 * datum[key]) / datum['Total']).toFixed(2));\r\n      }\r\n      \r\n      var percentages = {};\r\n      [\r\n        \"KOSPI\"   , \r\n        \"Won\"      ,\r\n        \"Dollar\"   ,\r\n        \"Luxuary\"  ,\r\n        \"NASDAQ\"   ,\r\n        \"Reits\"    ,\r\n        \"S&P500\"   ,\r\n        \"Stocks-KR\",\r\n        \"Stocks-US\",\r\n        \"T-bond_I\" ,\r\n      ].forEach((key) => {\r\n        percentages[`PERCENT_${key}`] = getPercentage(key);\r\n      });\r\n\r\n      return {\r\n        ...datum,\r\n        ...percentages,\r\n      };\r\n    });\r\n    setPercentAddedData(percent_added_data);\r\n  }, [data]);\r\n\r\n  if (!data || !data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n\r\n  const AssetRatioTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n\r\n    const date = moment(label).format('YY.MM.DD');\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{date}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload.map(datum => {\r\n              let percent = ((100 * datum['value']) / datum['payload']['Total']).toFixed(2).padStart(5, ' ');\r\n              return (\r\n                <tr key={datum['name']}>\r\n                  <td><p style={{ color: datum.color }}>{`${datum.name}`}</p></td>\r\n                  <td><p style={{ color: datum.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: datum.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(datum['value']).padStart(14, ' ')} (${percent}%)`}\r\n                  </code></td>\r\n                </tr>\r\n              );                  \r\n            }).reverse()}\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            <tr>\r\n              <td><p className=\"fw-bolder\" style={{ color: 'black' }}>{`Total`}</p></td>\r\n              <td><p style={{ color: 'black' }}>{` :  `}</p></td>\r\n              <td className=\"text-end\"><code className=\"text-dark fw-bolder\" style={{ textAlign: \"end\", fontSize: `${14}px` }}>\r\n                {`￦ ${UtilConverter.number2commadStringWithIntl(payload[0]['payload']['Total'])}`}\r\n              </code></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return ( \r\n    <ResponsiveContainer width=\"100%\" height={600}>\r\n      <AreaChart\r\n        width={500}\r\n        height={400}\r\n        data={_percent_added_data}\r\n        defaultShowTooltip={true}\r\n        margin={{\r\n          top: 20,\r\n          right: 30,\r\n          left: 30,\r\n          bottom: 50,\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"1 2\" />\r\n        <XAxis dataKey=\"date\"\r\n          fontSize={10}\r\n          angle={-40}\r\n          textAnchor=\"end\"\r\n          // verticalAnchor=\"middle\"\r\n          tickSize={4}\r\n          tickMargin={8}\r\n          padding={{ left: 50, right: 50 }}\r\n          tickFormatter={(date) => {\r\n            if (date instanceof Date)\r\n              return moment(date).format('YY.MM.DD');\r\n            return date;\r\n          }}\r\n        />\r\n        <YAxis fontSize={10} tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} />\r\n        <Tooltip content={<AssetRatioTooltip />} />\r\n        <Legend align=\"left\" verticalAlign=\"top\" iconSize={20} wrapperStyle={{top: 0}} />\r\n        <Area type=\"monotone\" dataKey={\"Won\"      } stackId=\"1\" stroke={_colors_map[\"Won\"      ]} fill={_colors_map[\"Won\"      ]}><LabelList dataKey={\"PERCENT_Won\"      } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"Dollar\"   } stackId=\"1\" stroke={_colors_map[\"Dollar\"   ]} fill={_colors_map[\"Dollar\"   ]}><LabelList dataKey={\"PERCENT_Dollar\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"KOSPI\"    } stackId=\"1\" stroke={_colors_map[\"KOSPI\"    ]} fill={_colors_map[\"KOSPI\"    ]}><LabelList dataKey={\"PERCENT_KOSPI\"    } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"S&P500\"   } stackId=\"1\" stroke={_colors_map[\"S&P500\"   ]} fill={_colors_map[\"S&P500\"   ]}><LabelList dataKey={\"PERCENT_S&P500\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"NASDAQ\"   } stackId=\"1\" stroke={_colors_map[\"NASDAQ\"   ]} fill={_colors_map[\"NASDAQ\"   ]}><LabelList dataKey={\"PERCENT_NASDAQ\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"Luxuary\"  } stackId=\"1\" stroke={_colors_map[\"Luxuary\"  ]} fill={_colors_map[\"Luxuary\"  ]}><LabelList dataKey={\"PERCENT_Luxuary\"  } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"Stocks-KR\"} stackId=\"1\" stroke={_colors_map[\"Stocks-KR\"]} fill={_colors_map[\"Stocks-KR\"]}><LabelList dataKey={\"PERCENT_Stocks-KR\"} position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"Stocks-US\"} stackId=\"1\" stroke={_colors_map[\"Stocks-US\"]} fill={_colors_map[\"Stocks-US\"]}><LabelList dataKey={\"PERCENT_Stocks-US\"} position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"Reits\"    } stackId=\"1\" stroke={_colors_map[\"Reits\"    ]} fill={_colors_map[\"Reits\"    ]}><LabelList dataKey={\"PERCENT_Reits\"    } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} /></Area>\r\n        <Area type=\"monotone\" dataKey={\"T-bond_I\" } stackId=\"1\" stroke={_colors_map[\"T-bond_I\" ]} fill={_colors_map[\"T-bond_I\" ]}><LabelList dataKey={\"PERCENT_T-bond_I\" } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}} />\r\n          <LabelList dataKey={\"Total\"} position=\"top\" offset={14} fontSize={10} formatter={(datum) => {\r\n            return UtilConverter.number2commadStringWithIntl(datum);\r\n          }} />\r\n        </Area>\r\n      </AreaChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n \r\nexport default RechartTotalAsstRatio;","import React from \"react\";\r\nimport xlsx from 'xlsx';\r\nimport { UtilSheet } from \"../../utils\";\r\nimport RechartAlpha from \"./recharts/rechart_alpha\";\r\nimport RechartArbitrage from \"./recharts/rechart_arbitrage\";\r\nimport RechartDayTrade from \"./recharts/rechart_day_trade\";\r\nimport RechartTotalAsstRatio from \"./recharts/rechart_total_asset\";\r\n\r\nconst VTradeHistory = () => {\r\n  const [_total_asset_data                  , setTotalAssetData                ] = React.useState([]);  \r\n  const [_algorithm_trade_data              , setAlgorithmTradeData            ] = React.useState({});\r\n  const [_alpha_data                        , setAlphaData                     ] = React.useState({});\r\n  const [_selected_algorithm_trade_data_name, setSelectedAlgorithmTradeDataName] = React.useState('KOSPI');  \r\n  const [_arbitrage_data                    , setArbitrageData                 ] = React.useState([]);\r\n  \r\n  let _selected_algorithm_trade_data = _algorithm_trade_data[_selected_algorithm_trade_data_name] || [];\r\n\r\n  const _refPricesFileForm = React.useRef();\r\n\r\n\r\n  const _parseData = React.useCallback((data) => {\r\n    var total_asset_data = [];\r\n    var algorithm_trade_data = {};\r\n    let arbitrage_data_pre = {};\r\n    let arbitrage_data = [];\r\n\r\n    let alpha_data_pre = {};\r\n    let alpha_data = [];\r\n\r\n\r\n    Object.keys(data).forEach((sheetName) => {\r\n      if (sheetName === 'Total') {\r\n        total_asset_data = data[sheetName].map((row) => {\r\n          var date = UtilSheet.serialDateToJSDate(row['일자']);\r\n          delete row['일자'];\r\n          \r\n          // for alpha_data_pre\r\n          if (!alpha_data_pre[date])\r\n            alpha_data_pre[date] = {};\r\n          alpha_data_pre[date]['return_of_asset'] = parseFloat(row['day_return'].toFixed(2));\r\n\r\n\r\n          var sheet_rows = {\r\n            date,\r\n            ...row,\r\n          };\r\n          return sheet_rows;\r\n        });\r\n\r\n\r\n      } else if (sheetName === 'KOSPI' || sheetName === 'S&P500' || sheetName === 'NASDAQ' || sheetName === 'LUXUARY') {\r\n\r\n        algorithm_trade_data[sheetName] = data[sheetName].map((row) => {\r\n          var date = UtilSheet.serialDateToJSDate(row['일자']);\r\n\r\n          // for arbitrage_data_pre\r\n          if (!arbitrage_data_pre[date])\r\n           arbitrage_data_pre[date] = { 'total': 0 };\r\n          if (row['매수량'] && row['매도량']) {\r\n            let min_traded_volume = Math.min(row['매수량'], row['매도량']);\r\n            let arbitrage = (row['매도가격'] - row['매수가격']) * min_traded_volume;\r\n            arbitrage_data_pre[date][sheetName] = arbitrage;\r\n            arbitrage_data_pre[date]['total'] += arbitrage;\r\n          }\r\n\r\n          // for alpha_data_pre          \r\n          if (sheetName === 'KOSPI' || sheetName === 'S&P500' || sheetName === 'NASDAQ') {\r\n            alpha_data_pre[date][sheetName] = row['x1'];\r\n            if (!alpha_data_pre[date])\r\n            alpha_data_pre[date] = {};\r\n          }\r\n\r\n          return {\r\n            date,\r\n            price: row['가격'],\r\n            buy_price: row['매수가격'],\r\n            sell_price: row['매도가격'],\r\n            buy_volume: row['매수량'],\r\n            sell_volume: row['매도량'],\r\n            a_price: row['평균단가'],\r\n            count: row['보유량'],\r\n          };\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n    // arbitrage_data_pre => arbitrage_data\r\n    let accumulation = 0;\r\n    Object.keys(arbitrage_data_pre).forEach((key, i) => {\r\n      accumulation += arbitrage_data_pre[key]['total'];\r\n      arbitrage_data.push({\r\n        date: new Date(key),\r\n        ...arbitrage_data_pre[key],\r\n        accumulation\r\n      });\r\n    });\r\n\r\n    // alpha_data_pre => alpha_data\r\n    Object.keys(alpha_data_pre).forEach((key, i) => {\r\n      alpha_data.push({\r\n        date: new Date(key),\r\n        ...alpha_data_pre[key]\r\n      });\r\n    });\r\n\r\n    return {\r\n      total_asset_data,\r\n      algorithm_trade_data,\r\n      arbitrage_data,\r\n      alpha_data,\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    let local_data = localStorage.getItem('last_finance_data');\r\n    if (!local_data) \r\n      return;\r\n\r\n    var data = JSON.parse(local_data);\r\n    const { total_asset_data, algorithm_trade_data, arbitrage_data, alpha_data } = _parseData(data);\r\n    setTotalAssetData(total_asset_data);\r\n    setAlgorithmTradeData(algorithm_trade_data);\r\n    setArbitrageData(arbitrage_data);\r\n    setAlphaData(alpha_data);\r\n  }, [_parseData]);\r\n\r\n\r\n  /** CSV parse example ───────────────────────────────────── */\r\n  // function _setPrices(e) {   \r\n  //   var reader = new FileReader();\r\n  //   reader.onload = function(e) {\r\n  //     // Use reader.result\r\n  //     parseCSV(reader.result, {}, function (err, output) {\r\n  //       console.log(output);\r\n  //     });\r\n  //   }\r\n  //   reader.readAsText(e.target.files[0]);\r\n  // }\r\n  /** ───────────────────────────────────────────────────────── */\r\n\r\n  function uploadSheet(event) {\r\n    var input = event.target; \r\n    var reader = new FileReader();\r\n    reader.onload = function() { \r\n      var fdata = reader.result; \r\n      var read_buffer = xlsx.read(fdata, {type : 'binary'}); \r\n\r\n      let data = {};\r\n      read_buffer.SheetNames.forEach(function(sheetName) {\r\n        var data_rows = xlsx.utils.sheet_to_json(read_buffer.Sheets[sheetName]); \r\n        data[sheetName] = data_rows;\r\n      });\r\n      \r\n      _refPricesFileForm.current.reset();      \r\n      localStorage.setItem('last_finance_data', JSON.stringify(data));\r\n      const { total_asset_data, algorithm_trade_data, arbitrage_data, alpha_data } = _parseData(data);\r\n      setTotalAssetData(total_asset_data);\r\n      setAlgorithmTradeData(algorithm_trade_data);\r\n      setArbitrageData(arbitrage_data);\r\n      setAlphaData(alpha_data);\r\n    }; \r\n    reader.readAsBinaryString(input.files[0]); \r\n  }\r\n\r\n  return ( \r\n    <div>\r\n      <div className=\"text-start fw-bold my-5 px-4\" style={{fontSize: `calc(${2}rem + ${2}vw)`}}>\r\n        TRADE HISTORY\r\n      </div>\r\n      <div style={{whiteSpace: \"pre-wrap\"}}>\r\n        배당수익률의 반영,\r\n        보유-평가-당일손익 차트\r\n      </div>\r\n      <div className=\"mt-5 d-flex justify-content-center\">\r\n        <div className=\"pe-2\">\r\n          <label type=\"button\" className=\"btn btn-secondary\">DOWNLOAD SAMPLE</label>\r\n        </div>\r\n        <div>\r\n          <form ref={_refPricesFileForm}>\r\n            <input type=\"file\" accept=\".xlsx\" id=\"pricesFileInput\"\r\n              className=\"d-none\"\r\n              onClick={e => e.target.key = 'prices' + new Date().getMilliseconds()}\r\n              // name=\"pricesFile\" onChange={_setPrices}\r\n              name=\"pricesFile\" onChange={uploadSheet}\r\n            />\r\n          </form>\r\n          <label type=\"button\" htmlFor=\"pricesFileInput\" className=\"btn btn-danger\">UPLOAD XLSX</label>\r\n        </div>\r\n      </div>\r\n\r\n   \r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>ALGORITHM TRADE</b></h1>\r\n      </div>   \r\n      <div className=\"mt-5 px-3 fw-bold\">Select data</div>\r\n      <div className=\"px-3 d-flex flex-wrap\">\r\n        {Object.keys(_algorithm_trade_data).map((key, i) => {\r\n          return (\r\n            <div key={i} className=\"form-check px-3 py-2\">\r\n              <input\r\n                className=\"form-check-input\" type=\"radio\" name={`radio_${key}`} id={`radio_${key}`}\r\n                checked={_selected_algorithm_trade_data_name === key} onChange={e => setSelectedAlgorithmTradeDataName(key)}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor={`radio_${key}`}>\r\n                {key}\r\n              </label>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"mt-4\">\r\n        <RechartDayTrade data={_selected_algorithm_trade_data} />\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartArbitrage data={_arbitrage_data} />\r\n      </div>\r\n\r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>TOTAL ASSET RATIO</b></h1>\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartTotalAsstRatio data={_total_asset_data} />\r\n      </div>\r\n\r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>ALPHA</b></h1>\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartAlpha data={_alpha_data} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default VTradeHistory;","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { VLogin, VMain, VRegister, VBubbles, VYoutubeSearch, VTradeHistory } from '../views';\r\n\r\n\r\nconst MainRoutes = (props) => {\r\n  return ( \r\n    <Switch>\r\n      <Route path=\"/auth/register\"  render={(props) => <VRegister      {...props}/>}/>\r\n      <Route path=\"/auth/login\"     render={(props) => <VLogin         {...props}/>}/>\r\n      <Route path=\"/d3/bubbles\"     render={(props) => <VBubbles       {...props}/>}/>\r\n      <Route path=\"/youtube-search\" render={(props) => <VYoutubeSearch {...props}/>}/>\r\n      <Route path=\"/trade-history\"  render={(props) => <VTradeHistory  {...props}/>}/>\r\n      <Route exact path=\"/\"         render={(props) => <VMain          {...props}/>}/>\r\n      <Route                        render={(props) => <Redirect to=\"/\" />}/>\r\n    </Switch>\r\n  );\r\n}\r\n \r\nexport default MainRoutes;","import React from 'react';\r\nimport { BrowserRouter, NavLink } from 'react-router-dom';\r\nimport { UtilCommon } from '../utils';\r\nimport { AppState, app_state_default } from './contexts';\r\nimport MainRoutes from './routers/main_routes';\r\nimport { ModalWrapper } from './modals';\r\n\r\nimport api from '../api/api';\r\n\r\nfunction App() {\r\n  const reducer = (prev_state, new_state) => ({ ...prev_state, ...new_state });\r\n  const [state, setState] = React.useReducer(reducer, app_state_default);\r\n  const [message_modals, setMessageModals] = React.useState([\r\n    // <ModalAlert />\r\n  ]);\r\n  const [isServerOn, setIsServerOn] = React.useState(false);\r\n\r\n  async function checkServer() {\r\n    try {\r\n      await api.get('/util/check')\r\n\r\n      setIsServerOn(true);\r\n    } catch (e) {\r\n      console.log('App.checkServer', e);\r\n      setIsServerOn(false);\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    checkServer();\r\n  }, []);\r\n\r\n\r\n  // Functions for message_modals >>>>>>>>>>>>>>>>>>\r\n  async function closeMessageModal(e) {\r\n    setMessageModals(p_message_modals => {\r\n      if (!p_message_modals.length)\r\n        return p_message_modals;\r\n\r\n      let n_message_modals = p_message_modals.slice();\r\n      n_message_modals.shift();      \r\n      return n_message_modals;  \r\n    });\r\n\r\n    if (!message_modals.length) {\r\n      await UtilCommon.delay(200); // close animation time\r\n      (document.getElementsByTagName('body')[0]).classList.remove('overflow-hidden');\r\n    }\r\n  }\r\n\r\n  async function pushMessageModal({Modal, props = {}, onConfirm = () => {}, onCancel = () => {}}) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!message_modals.length) {\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.add('overflow-hidden');\r\n      }\r\n\r\n      setMessageModals(p_message_modals => {\r\n        let n_message_modals = p_message_modals.slice();\r\n        n_message_modals.push((\r\n          <Modal\r\n            {...props}\r\n            onConfirm={async e => {\r\n              await onConfirm();\r\n              await closeMessageModal();\r\n              resolve(true);\r\n            }}\r\n            onCancel={async e => {\r\n              await onCancel();\r\n              await closeMessageModal();\r\n              resolve(false);\r\n            }}\r\n          />\r\n        ));\r\n        return n_message_modals;\r\n      });\r\n    });    \r\n  }\r\n  // <<<<<<<<<<<<<<<< Functions for message_modals\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AppState.Provider value={Object.assign({}, state, {      \r\n        setState,\r\n        pushMessageModal,\r\n      })}>\r\n        <React.Fragment>\r\n          <ModalWrapper modals={message_modals} closeCurrentModal={closeMessageModal} />\r\n            <nav className=\"d-block d-sm-none position-fixed w-100\">\r\n              <div className=\"navbar navbar-dark bg-dark\">\r\n                <div className=\"container-fluid\">\r\n                  <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"collapse bg-dark\" id=\"navbarToggleExternalContent\">\r\n                <ul className=\"nav nav-pills flex-column mb-auto fw-bold\" style={{ minHeight: `${100}vh` }}>\r\n                  {isServerOn && (\r\n                    <React.Fragment>\r\n                      <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                      <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                    </React.Fragment>\r\n                  )}\r\n                  \r\n                    <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</NavLink></li>\r\n                  <li className=\"ps-2\"><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                  <li><NavLink to=\"/youtube-search\" className=\"nav-link fw-bold\">Youtube Search</NavLink></li>\r\n                  <li><NavLink to=\"/trade-history\" className=\"nav-link fw-bold\">Trade History</NavLink></li>\r\n                  <li><NavLink to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n            <div className=\"d-block d-sm-none\" style={{ height: `${48.5}px` }}></div>\r\n\r\n            <div className=\"d-flex\">\r\n              <aside className=\"flex-shrink-0 d-none d-sm-block overflow-auto bg-dark\" style={{ width: `${16}em`, height: `${100}vh` }}>\r\n                <nav>\r\n                  <ul className=\"nav nav-pills flex-column mb-auto fw-bold\">\r\n                    {isServerOn && (\r\n                      <React.Fragment>\r\n                        <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                        <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>                  \r\n                      </React.Fragment>\r\n                    )}                    \r\n                    <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</NavLink></li>\r\n                    <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold ps-4\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                    <li><NavLink to=\"/youtube-search\" className=\"nav-link fw-bold\">Youtube Search</NavLink></li>\r\n                    <li><NavLink to=\"/trade-history\" className=\"nav-link fw-bold\">Trade History</NavLink></li>\r\n                    <li><NavLink exact to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                  </ul>\r\n                </nav>\r\n              </aside>\r\n              <main id=\"main\" className=\"flex-fill overflow-auto\" style={{ height: `${100}vh` }}>\r\n                <MainRoutes />\r\n                <div style={{ height: `${20}vh`}}/>\r\n              </main>\r\n            </div>\r\n        </React.Fragment>\r\n      </AppState.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n// bootstrap dependency\nimport '@popperjs/core';\nimport 'bootstrap/dist/js/bootstrap.js';\n// style\nimport './styles/_styles.scss';\n// components\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}