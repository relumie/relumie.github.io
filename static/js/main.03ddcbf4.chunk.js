(this["webpackJsonprelumie-client-web"]=this["webpackJsonprelumie-client-web"]||[]).push([[0],{186:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(60),s=t.n(c),o=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,189)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),c(e),s(e)}))},i=(t(139),t(35)),l=t.n(i),u=t(2),d=t.n(u),b=t(6),j=t(7),p=t(5),f=t(12),h=t(25),m=t(26),O=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"delay",value:function(){var e=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),x={isWideMode:!1},v=r.a.createContext(x),g=t(3),w=t(61),C=t.n(w).a.bind(l.a),y=t(0),k=function(e){var n=r.a.useState(!1),t=Object(j.a)(n,2),c=t[0],s=t[1],o=r.a.useState(!1),i=Object(j.a)(o,2),l=i[0],u=i[1],p=r.a.useState([]),f=Object(j.a)(p,2),h=f[0],m=f[1];return Object(a.useEffect)((function(){function n(){return(n=Object(b.a)(d.a.mark((function n(t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!1),s(!0),m(e.modals),n.next=5,O.delay(t);case 5:u(!0);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function t(){return(t=Object(b.a)(d.a.mark((function n(t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!1),n.next=3,O.delay(t);case 3:s(!1),m(e.modals);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.modals.length>h.length?function(e){n.apply(this,arguments)}(100):e.modals.length<h.length&&function(e){t.apply(this,arguments)}(200)}),[e.modals,h]),h.length?Object(y.jsxs)("div",{className:C({"modal-wrapper":!0,visible:c,opacity:l}),children:[Object(y.jsx)("div",{className:"modal-wrapper-backdrop",onClick:e.closeCurrentModal}),Object(y.jsx)("div",{className:"modal-wrapper-container",children:h[0]})]}):null};k.defaultProps={modals:[],closeCurrentModal:function(){return console.log("closeCurrentModal() is not defined.")}};var N=k,M=function(e){return Object(y.jsxs)("div",{style:{maxHeight:"".concat(80,"vh"),overflow:"auto"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{type:"button",onClick:e.onCancel,children:"\xd7"})}),Object(y.jsx)("div",{style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",width:"".concat(720,"px"),maxWidth:"".concat(90,"vw")},children:e.message}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{type:"button",onClick:e.onConfirm,children:"Ok"})})]})};M.defaultProps={message:"NO MESSAGE",onConfirm:function(){},onCancel:function(){}};var S=M,E=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:"Here's main"}),Object(y.jsx)("br",{}),Object(y.jsx)(v.Consumer,{children:function(e){return Object(y.jsxs)("div",{style:{whiteSpace:"pre-wrap"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{type:"button",onClick:function(){var n=Object(b.a)(d.a.mark((function n(t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.pushMessageModal({Modal:S,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4."},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 73473")}});case 2:if(a=n.sent,console.log("MODAL_CONFIRMED? : "+a),!1!==a){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,e.pushMessageModal({Modal:S,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4. 2"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:"PUSH MODAL"})}),Object(y.jsx)("div",{children:JSON.stringify(e,"",2)})]})}})]})},_=t(14),L=t(16),T=t.n(L),R=T.a.create({baseURL:"".concat("http://1.233.86.212","/api"),timeout:3e3,headers:{"content-type":"application/json"}});R.interceptors.request.use((function(e){return e})),R.interceptors.response.use((function(e){return e}),(function(e){return e.response?Promise.reject(Object(p.a)({status:e.response.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data},e.response.data)):e.request?Promise.reject({status:e.request.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data,message:e.message}):Promise.reject(e)}));var D=R,F=function(e){var n=T.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return n.cancel()}}),[n]);var t=Object(a.useContext)(v),c=r.a.useState({login_id:"",password:"",password_confirm:"",email:""}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=function(e){var n=e.target.name;i((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(_.a)({},n,e.target.value))}))},u=function(){var e=Object(b.a)(d.a.mark((function e(a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,D.post("/auth/register",{login_id:o.login_id,password:o.password,"#email":o.email},{cancelToken:n.token});case 4:return r=e.sent,e.next=7,t.pushMessageModal({Modal:S,props:{message:"\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 7:console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(y.jsx)("form",{onSubmit:u,children:Object(y.jsxs)("div",{className:"mx-auto w-100p",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(y.jsx)("input",{type:"text",name:"login_id",value:o.login_id,onChange:l,placeholder:"ID"}),Object(y.jsx)("input",{type:"password",name:"password",value:o.password,onChange:l,placeholder:"PASSWORD"}),Object(y.jsx)("input",{type:"password",name:"password_confirm",value:o.password_confirm,onChange:l,placeholder:"CONFIRM PASSWORD"}),Object(y.jsx)("input",{type:"email",name:"email",value:o.email,onChange:l,placeholder:"EMAIL"}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"submit",value:"REGISTER"})})]})})},I=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"translateErrorMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e?void 0:e.message){var t={SequelizeDatabaseError:"DB \uad6c\ubb38 \uc5d0\ub7ec.\n\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694","timeout of":"\uc11c\ubc84 \uc751\ub2f5\uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."};n=Object.assign(t,n);for(var a=e.message.toLowerCase(),r=Object.keys(n),c=0;c<r.length;++c){var s=r[c];if(a.indexOf(s.toLowerCase())>=0)return n[s]}}}}]),e}(),P=function(e){var n=T.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return n.cancel()}}),[n]);var t=Object(a.useContext)(v),c=r.a.useState({login_id:"",password:"",password_confirm:"",email:""}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=function(e){var n=e.target.name;i((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(_.a)({},n,e.target.value))}))},u=function(){var e=Object(b.a)(d.a.mark((function e(a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,D.post("/auth/login",{login_id:o.login_id,password:o.password},{cancelToken:n.token}).then((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.content}));case 4:return r=e.sent,console.log(r),e.next=8,t.pushMessageModal({Modal:S,props:{message:"\ub85c\uadf8\uc778 \uc131\uacf5"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),!T.a.isCancel(e.t0)){e.next=15;break}return console.log("Canceled."),e.abrupt("return");case 15:return c=I.translateErrorMessages(e.t0,{"no user":"\ud574\ub2f9\ud558\ub294 \uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),e.next=18,t.pushMessageModal({Modal:S,props:{message:c},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(y.jsx)("form",{onSubmit:u,children:Object(y.jsxs)("div",{className:"mx-auto w-100p py-3",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(y.jsx)("input",{type:"text",className:"form-control",name:"login_id",value:o.login_id,onChange:l,placeholder:"ID"}),Object(y.jsx)("input",{type:"password",className:"form-control",name:"password",value:o.password,onChange:l,placeholder:"PASSWORD"}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"submit",value:"LOGIN",className:"btn btn-primary w-100"})})]})})},A=t(27),B=function(){var e=r.a.useState([]),n=Object(j.a)(e,2),t=n[0],a=n[1],c=r.a.useState("all"),s=Object(j.a)(c,2);s[0],s[1];return r.a.useEffect((function(){A.a("/data/gates_money.csv").then((function(e){a(function(e){var n=A.b(e,(function(e){return+e.total_amount})),t=A.c().exponent(.5).range([2,85]).domain([0,n]),a=e.map((function(e){return{id:e.id,radius:t(+e.total_amount),value:+e.total_amount,name:e.grant_title,org:e.organization,group:e.group,year:e.start_year,x:900*Math.random(),y:800*Math.random()}}));return a.sort((function(e,n){return n.value-e.value})),a}(e))}))}),[]),Object(y.jsx)("div",{style:{whiteSpace:"pre-wrap",lineBreak:"anywhere"},children:JSON.stringify(t,"",2)})},W=function(e){return Object(y.jsxs)(g.d,{children:[Object(y.jsx)(g.b,{path:"/auth/register",render:function(e){return Object(y.jsx)(F,Object(p.a)({},e))}}),Object(y.jsx)(g.b,{path:"/auth/login",render:function(e){return Object(y.jsx)(P,Object(p.a)({},e))}}),Object(y.jsx)(g.b,{path:"/d3/bubbles",render:function(e){return Object(y.jsx)(B,Object(p.a)({},e))}}),Object(y.jsx)(g.b,{exact:!0,path:"/",render:function(e){return Object(y.jsx)(E,Object(p.a)({},e))}}),Object(y.jsx)(g.b,{render:function(e){return Object(y.jsx)(g.a,{to:"/"})}})]})};var H=function(){var e=r.a.useReducer((function(e,n){return Object(p.a)(Object(p.a)({},e),n)}),x),n=Object(j.a)(e,2),t=n[0],a=n[1],c=r.a.useState([]),s=Object(j.a)(c,2),o=s[0],i=s[1],l=r.a.useState(!1),u=Object(j.a)(l,2),h=u[0],m=u[1];function g(){return(g=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("/util/check");case 3:m(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("App.checkServer",e.t0),m(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i((function(e){if(!e.length)return e;var n=e.slice();return n.shift(),n})),o.length){e.next=5;break}return e.next=4,O.delay(200);case 4:document.getElementsByTagName("body")[0].classList.remove("overflow-hidden");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(b.a)(d.a.mark((function e(n){var t,a,r,c,s,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.Modal,a=n.props,r=void 0===a?{}:a,c=n.onConfirm,s=void 0===c?function(){}:c,l=n.onCancel,u=void 0===l?function(){}:l,e.abrupt("return",new Promise((function(e,n){o.length||document.getElementsByTagName("body")[0].classList.add("overflow-hidden");i((function(n){var a=n.slice();return a.push(Object(y.jsx)(t,Object(p.a)(Object(p.a)({},r),{},{onConfirm:function(){var n=Object(b.a)(d.a.mark((function n(t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:return n.next=4,w();case 4:e(!0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onCancel:function(){var n=Object(b.a)(d.a.mark((function n(t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return n.next=4,w();case 4:e(!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}))),a}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){!function(){g.apply(this,arguments)}()}),[]),Object(y.jsx)(f.a,{children:Object(y.jsx)(v.Provider,{value:Object.assign({},t,{setState:a,pushMessageModal:function(e){return k.apply(this,arguments)}}),children:Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(N,{modals:o,closeCurrentModal:w}),Object(y.jsxs)("nav",{className:"d-block d-sm-none position-fixed w-100",children:[Object(y.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{className:"navbar-toggler-icon"})})})}),Object(y.jsx)("div",{className:"collapse bg-dark",id:"navbarToggleExternalContent",children:Object(y.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",style:{minHeight:"".concat(100,"vh")},children:[h&&Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(y.jsx)("li",{children:Object(y.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(y.jsx)("li",{className:"ps-2",children:Object(y.jsx)(f.c,{to:"/d3/bubbles",className:"nav-link fw-bold",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})]}),Object(y.jsx)("div",{className:"d-block d-sm-none",style:{height:"".concat(56,"px")}}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("aside",{className:"flex-shrink-0 d-none d-sm-block h-100 overflow-auto bg-dark",style:{width:"".concat(16,"em"),minHeight:"".concat(100,"vh")},children:Object(y.jsx)("nav",{children:Object(y.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",children:[h&&Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(y.jsx)("li",{children:Object(y.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{to:"/d3/bubbles",className:"nav-link fw-bold ps-4",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.c,{exact:!0,to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})}),Object(y.jsx)("main",{className:"flex-fill overflow-auto",style:{height:"".concat(100,"vh")},children:Object(y.jsx)(W,{})})]})]})})})};s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(H,{})}),document.getElementById("root")),o()},35:function(e,n,t){}},[[186,1,2]]]);
//# sourceMappingURL=main.03ddcbf4.chunk.js.map