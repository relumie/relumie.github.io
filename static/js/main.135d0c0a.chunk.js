(this["webpackJsonprelumie-client-web"]=this["webpackJsonprelumie-client-web"]||[]).push([[0],{135:function(e,t,n){},158:function(e,t){},261:function(e,t,n){},262:function(e,t,n){},267:function(e,t){},268:function(e,t){},407:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(83),o=n.n(r),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,417)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},l=(n(220),n(135)),i=n.n(l),d=n(15),u=n.n(d),j=n(24),b=n(9),h=n(12),f=n(26),x=n(31),m=n(32),p=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"delay",value:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"makeRandomColor",value:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)}},{key:"lightenDarkenColor",value:function(e,t){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+t)).toString(16)).substr(-2)}))}}]),e}(),O=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"searchEnter",value:function(e,t){return e||(e=window.event),13!==(e.keyCode?e.keyCode:e.which)||(t(),!1)}}]),e}(),y=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"number2commadStringWithIntl",value:function(e){try{return new Intl.NumberFormat("en-US").format(e)}catch(t){return e}}}]),e}(),g=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"serialDateToJSDate",value:function(e){return new Date(Date.UTC(0,0,e-1,-9))}}]),e}(),v={isWideMode:!1},S=c.a.createContext(v),k=n(22),w=n(191),N=n.n(w).a.bind(i.a),C=n(0),_=function(e){var t=c.a.useState(!1),n=Object(b.a)(t,2),r=n[0],o=n[1],s=c.a.useState(!1),l=Object(b.a)(s,2),i=l[0],d=l[1],h=c.a.useState([]),f=Object(b.a)(h,2),x=f[0],m=f[1];return Object(a.useEffect)((function(){function t(){return(t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),o(!0),m(e.modals),t.next=5,p.delay(n);case 5:d(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),t.next=3,p.delay(n);case 3:o(!1),m(e.modals);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.modals.length>x.length?function(e){t.apply(this,arguments)}(100):e.modals.length<x.length&&function(e){n.apply(this,arguments)}(200)}),[e.modals,x]),x.length?Object(C.jsxs)("div",{className:N({"modal-wrapper":!0,visible:r,opacity:i}),children:[Object(C.jsx)("div",{className:"modal-wrapper-backdrop",onClick:e.closeCurrentModal}),Object(C.jsx)("div",{className:"modal-wrapper-container",children:x[0]})]}):null};_.defaultProps={modals:[],closeCurrentModal:function(){return console.log("closeCurrentModal() is not defined.")}};var D=_,A=function(e){return Object(C.jsxs)("div",{style:{maxHeight:"".concat(80,"vh"),overflow:"auto"},children:[Object(C.jsx)("div",{className:"text-end pt-2 pe-2",children:Object(C.jsx)("button",{type:"button",className:"btn-close",onClick:e.onCancel})}),Object(C.jsx)("div",{className:"py-3",style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",width:"".concat(480,"px"),maxWidth:"".concat(90,"vw")},children:e.message}),Object(C.jsx)("div",{className:"text-end",children:Object(C.jsx)("button",{type:"button",className:"btn btn-primary text-light fw-bold rounded",onClick:e.onConfirm,children:"\ud655\uc778"})})]})};A.defaultProps={message:"NO MESSAGE",onConfirm:function(){},onCancel:function(){}};var I=A,T=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:"Here's main"}),Object(C.jsx)("br",{}),Object(C.jsx)(S.Consumer,{children:function(e){return Object(C.jsxs)("div",{style:{whiteSpace:"pre-wrap"},children:[Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"button",onClick:function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pushMessageModal({Modal:I,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4."},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 73473")}});case 2:if(a=t.sent,console.log("MODAL_CONFIRMED? : "+a),!1!==a){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.pushMessageModal({Modal:I,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4. 2"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"PUSH MODAL"})}),Object(C.jsx)("div",{children:JSON.stringify(e,"",2)})]})}})]})},M=n(69),R=n(50),P=n.n(R),E=P.a.create({baseURL:"".concat("https://1.233.86.212","/api"),timeout:3e3,headers:{"content-type":"application/json"}});E.interceptors.request.use((function(e){return e})),E.interceptors.response.use((function(e){return e}),(function(e){return e.response?Promise.reject(Object(h.a)({status:e.response.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data},e.response.data)):e.request?Promise.reject({status:e.request.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data,message:e.message}):Promise.reject(e)}));var K=E,F=function(e){var t=P.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return t.cancel()}}),[t]);var n=Object(a.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),s=o[0],l=o[1],i=function(e){var t=e.target.name;l((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(M.a)({},t,e.target.value))}))},d=function(){var e=Object(j.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,K.post("/auth/register",{login_id:s.login_id,password:s.password,"#email":s.email},{cancelToken:t.token});case 4:return c=e.sent,e.next=7,n.pushMessageModal({Modal:I,props:{message:"\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 7:console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("form",{onSubmit:d,children:Object(C.jsxs)("div",{className:"mx-auto w-100p",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(C.jsx)("input",{type:"text",name:"login_id",value:s.login_id,onChange:i,placeholder:"ID"}),Object(C.jsx)("input",{type:"password",name:"password",value:s.password,onChange:i,placeholder:"PASSWORD"}),Object(C.jsx)("input",{type:"password",name:"password_confirm",value:s.password_confirm,onChange:i,placeholder:"CONFIRM PASSWORD"}),Object(C.jsx)("input",{type:"email",name:"email",value:s.email,onChange:i,placeholder:"EMAIL"}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"submit",value:"REGISTER"})})]})})},z=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"translateErrorMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e?void 0:e.message){var n={SequelizeDatabaseError:"DB \uad6c\ubb38 \uc5d0\ub7ec.\n\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694","timeout of":"\uc11c\ubc84 \uc751\ub2f5\uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."};t=Object.assign(n,t);for(var a=e.message.toLowerCase(),c=Object.keys(t),r=0;r<c.length;++r){var o=c[r];if(a.indexOf(o.toLowerCase())>=0)return t[o]}}}}]),e}(),L=function(e){var t=P.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return t.cancel()}}),[t]);var n=Object(a.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),s=o[0],l=o[1],i=function(e){var t=e.target.name;l((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(M.a)({},t,e.target.value))}))},d=function(){var e=Object(j.a)(u.a.mark((function e(a){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,K.post("/auth/login",{login_id:s.login_id,password:s.password},{cancelToken:t.token}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content}));case 4:return c=e.sent,console.log(c),e.next=8,n.pushMessageModal({Modal:I,props:{message:"\ub85c\uadf8\uc778 \uc131\uacf5"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),!P.a.isCancel(e.t0)){e.next=15;break}return console.log("Canceled."),e.abrupt("return");case 15:return r=z.translateErrorMessages(e.t0,{"no user":"\ud574\ub2f9\ud558\ub294 \uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),e.next=18,n.pushMessageModal({Modal:I,props:{message:r},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("form",{onSubmit:d,children:Object(C.jsxs)("div",{className:"mx-auto w-100p py-3",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(C.jsx)("input",{type:"text",className:"form-control",name:"login_id",value:s.login_id,onChange:i,placeholder:"ID"}),Object(C.jsx)("input",{type:"password",className:"form-control",name:"password",value:s.password,onChange:i,placeholder:"PASSWORD"}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"submit",value:"LOGIN",className:"btn btn-primary w-100"})})]})})},W=n(21),Y=n(85),B=n(103),U=n(112);n(261);var Q=function(e,t){var n=W.select("body").append("div").attr("class","bubble-tooltip").attr("id",e).style("pointer-events","none");function a(){n.style("opacity",0)}function c(e){var t=n.style("width"),a=n.style("height"),c=window.scrollX,r=window.scrollY,o=document.getElementById?e.clientX+c:e.pageX,s=document.getElementById?e.clientY+r:e.pageY,l=o-c+40+t>window.innerWidth?o-t-40:o+20;l<c+20&&(l=c+20);var i=s-r+20+a>window.innerWidth?s-a-20:s+10;i<r+10&&(i=r+10),n.style("top","".concat(i,"px")).style("left","".concat(l,"px"))}return t&&n.style("width",t),a(),{showTooltip:function(e,t){n.style("opacity",1).html(e),c(t)},hideTooltip:a,updatePosition:c}}("gates_tooltip",240),q=W.scaleOrdinal().domain(["low","medium","high"]).range(["#525b7a","#beccde","#5aa2bc"]),X=function(e){Object(B.a)(n,e);var t=Object(U.a)(n);function n(e){var a;Object(x.a)(this,n),(a=t.call(this,e)).shouldComponentUpdate=function(){return!1},a.state={g:null};var c=a.props,r=c.forceStrength,o=c.center;return a.simulation=W.forceSimulation().velocityDecay(.2).force("x",W.forceX().strength(r).x(o.x)).force("y",W.forceY().strength(r).y(o.y)).force("charge",W.forceManyBody(a.charge.bind(Object(Y.a)(a)))).on("tick",a.ticked.bind(Object(Y.a)(a))).stop(),a}return Object(m.a)(n,[{key:"charge",value:function(e){return-this.props.forceStrength*Math.pow(e.radius,2)}},{key:"ticked",value:function(){this.state.g.selectAll(".bubble").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}},{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.renderBubbles(e.data),e.groupByYear!==this.props.groupByYear&&this.regroupBubbles(e.groupByYear)}},{key:"renderBubbles",value:function(e){var t=this,n=this.state.g.selectAll(".bubble").data(e,(function(e){return e.id}));n.exit().remove(),n.enter().append("circle").classed("bubble",!0).attr("r",0).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("fill",(function(e){return q(e.group)})).attr("stroke",(function(e){return W.rgb(q(e.group)).darker()})).attr("stroke-width",2).on("mouseover",H).on("mouseout",J).transition().duration(2e3).attr("r",(function(e){return e.radius})).on("end",(function(){t.simulation.nodes(e).alpha(1).restart()}))}},{key:"regroupBubbles",value:function(e){var t=this.props,n=t.forceStrength,a=t.yearCenters,c=t.center;e?this.simulation.force("x",W.forceX().strength(n).x((function(e){return a[e.year].x}))).force("y",W.forceY().strength(n).y((function(e){return a[e.year].y}))):this.simulation.force("x",W.forceX().strength(n).x(c.x)).force("y",W.forceY().strength(n).y(c.y)),this.simulation.alpha(1).restart()}},{key:"onRef",value:function(e){var t=this;this.setState({g:W.select(e)},(function(){return t.renderBubbles(t.props.data)}))}},{key:"render",value:function(){return Object(C.jsx)("g",{ref:this.onRef.bind(this),className:"bubbles"})}}]),n}(c.a.Component);function H(e){W.select(this).attr("stroke","black");var t='<span class="name">Title: </span><span class="value">'.concat(e.name,"</span><br/>")+'<span class="name">Amount: </span><span class="value">$'.concat(e.value,"</span><br/>")+'<span class="name">Year: </span><span class="value">'.concat(e.year,"</span>");Q.showTooltip(t,W.event)}function J(e){W.select(this).attr("stroke",W.rgb(q(e.group)).darker()),Q.hideTooltip()}n(262);var G=function(e){Object(B.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onBtnClick=function(t){e.props.onChanged(t.target.name)},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.active;return Object(C.jsxs)("div",{className:"GroupingPicker",children:[Object(C.jsx)("button",{className:"button ".concat("all"===e&&"active"),name:"all",onClick:this.onBtnClick,children:"All Grants"}),Object(C.jsx)("button",{className:"button ".concat("year"===e&&"active"),name:"year",onClick:this.onBtnClick,children:"Grants By Year"})]})}}]),n}(c.a.Component);function Z(e){var t=e.yearCenters;return Object(C.jsx)("g",{className:"yearsTitles",children:Object.keys(t).map((function(e){return Object(C.jsx)("text",{x:t[e].x,y:50,fontSize:"35",textAnchor:"middle",alignmentBaseline:"middle",children:e},e)}))})}var $=function(e){var t=e.width,n=e.height,a=e.children;return Object(C.jsx)("svg",{className:"bubbleChart",width:t,height:n,children:a})},V=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState("all"),o=Object(b.a)(r,2),s=o[0],l=o[1],i=c.a.useState({}),d=Object(b.a)(i,2),u=d[0],j=d[1];return c.a.useEffect((function(){var e=document.getElementById("main").clientWidth,t=document.getElementById("main").clientHeight-49;j({width:e,height:t,center:{x:e/2,y:t/2},yearCenters:{2008:{x:e/4,y:t/2},2009:{x:e/2,y:t/2},2010:{x:3/4*e,y:t/2}}});W.csv("/data/gates_money.csv",(function(n,c){if(n)console.log("error",n);else{var r=function(n){if(e&&t){var a=W.max(n,(function(e){return+e.total_amount})),c=W.scalePow().exponent(.5).range([2,85]).domain([0,a]),r=n.map((function(n){return{id:n.id,radius:c(+n.total_amount),value:+n.total_amount,name:n.grant_title,org:n.organization,group:n.group,year:n.start_year,x:Math.random()*e,y:Math.random()*t}}));return r.sort((function(e,t){return t.value-e.value})),r}}(c);a(r)}}))}),[]),Object(C.jsxs)("div",{style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",height:"".concat(100,"%"),overflow:"auto"},children:[Object(C.jsx)(G,{onChanged:function(e){return l(e)},active:s}),u.width&&u.height&&Object(C.jsxs)($,{width:u.width,height:u.height,children:[Object(C.jsx)(X,{data:n,forceStrength:.08,center:u.center,yearCenters:u.yearCenters,groupByYear:"year"===s}),"year"===s&&Object(C.jsx)(Z,{width:u.width,yearCenters:u.yearCenters})]})]})},ee=n(194),te=n.n(ee),ne=n(35),ae=n.n(ne),ce=function(){var e=c.a.useState({query:"",pageToken:"",bannedChannels:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),s=o[0],l=o[1],i=c.a.useState([]),d=Object(b.a)(i,2),f=d[0],x=d[1];c.a.useEffect((function(){var e=localStorage.getItem("youtube_history");e&&x(JSON.parse(e))}),[x]);var m=function(){var e=Object(j.a)(u.a.mark((function e(t){var c,r,o,i,d,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.pageToken,f.length&&((r=f.slice().pop()).query===n.query&&r.bannedChannels===n.bannedChannels||(c="")),e.prev=2,e.next=5,P.a.get("https://www.googleapis.com/youtube/v3/search",{params:{pageToken:c,key:"AIzaSyA7zpvNp8vqxTGeGCu57iywRBTru-0s0Zo",q:n.query,part:"snippet",fields:"nextPageToken,items(id(videoId),snippet(channelTitle,title,publishTime,thumbnails(medium(url))))",maxResults:50,order:"date",type:"video"}});case 5:o=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return");case 12:i=n.bannedChannels.split(",").map((function(e){return e.trim()})),(d=f.slice()).push(n),x(d),localStorage.setItem("youtube_history",JSON.stringify(d)),a(Object(h.a)(Object(h.a)({},n),{},{pageToken:o.data.nextPageToken})),j=s.map((function(e){return e.id.videoId})),b=o.data.items.filter((function(e){return!(i.indexOf(e.snippet.channelTitle)>=0)&&(!c||!(c&&j.indexOf(e.id.videoId)>=0))})).map((function(e){var t=te.a.decode(e.snippet.title);return Object(h.a)(Object(h.a)({},e),{},{snippet:Object(h.a)(Object(h.a)({},e.snippet),{},{title:t})})})),l(c?s.concat(b):b);case 21:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("div",{className:"flex-shrink-0 d-none d-sm-block overflow-auto bg-gray text-light",style:{width:"".concat(16,"em"),height:"".concat(100,"vh")},children:Object(C.jsx)("nav",{children:Object(C.jsx)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",children:f.map((function(e,t){return Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(t){return a(e)},children:e.query})},t)}))})})}),Object(C.jsxs)("div",{className:"container-fluid overflow-scroll",style:{height:"100vh"},children:[Object(C.jsxs)("div",{className:"position-sticky",style:{top:0},children:[Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"text",className:"form-control",value:n.query,onChange:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{query:e.target.value}))},onKeyDown:function(e){return O.searchEnter(e,m)}})}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary",onClick:m,children:s.length?"More":"Search"})]}),Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"text",className:"form-control",value:n.bannedChannels,onChange:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{bannedChannels:e.target.value}))}})})})]}),Object(C.jsx)("div",{className:"row mt-5",children:s.map((function(e,t,c){var r=e.id.videoId;return Object(C.jsxs)("div",{className:"col-3",children:[Object(C.jsx)("div",{children:Object(C.jsx)("a",{href:"https://www.youtube.com/watch?v=".concat(r),target:"_blank",rel:"noreferrer",children:Object(C.jsx)("img",{src:e.snippet.thumbnails.medium.url,alt:"tmb_".concat(t)})})}),Object(C.jsx)("div",{children:e.snippet.title}),Object(C.jsx)("div",{className:"text-end",children:Object(C.jsxs)("span",{className:"text-danger selectable tooltip",onClick:function(t){var c=n.bannedChannels?e.snippet.channelTitle+","+n.bannedChannels:e.snippet.channelTitle;a(Object(h.a)(Object(h.a)({},n),{},{bannedChannels:c}))},children:[e.snippet.channelTitle,Object(C.jsx)("span",{className:"tooltiptext",children:"Ban this Channel"})]})}),Object(C.jsx)("div",{className:"text-gray-500 text-end",style:{fontSize:"".concat(8,"px")},children:ae()(e.snippet.publishTime).format("YY.MM.DD HH:mm")})]},r)}))})]})]})},re=n(140),oe=n.n(re),se=n(23),le=n(410),ie=n(411),de=n(414),ue=n(91),je=n(89),be=n(75),he=n(76),fe=n(106),xe=n(56),me=n(202),pe=n(205),Oe={KOSPI:p.lightenDarkenColor(p.makeRandomColor(),-20),NASDAQ:p.lightenDarkenColor(p.makeRandomColor(),-20),"S&P200":p.lightenDarkenColor(p.makeRandomColor(),-20),return_of_asset:"#000"},ye=function(e){var t=e.data,n=c.a.useState({top:"dataMax + 1",bottom:"dataMin - 1"}),a=Object(b.a)(n,2),r=a[0],o=a[1],s=c.a.useState({left:"",right:""}),l=Object(b.a)(s,2),i=l[0],d=l[1],u=c.a.useState([]),j=Object(b.a)(u,2),h=j[0],f=j[1],x=c.a.useCallback((function(e,n){if(t&&t.length){var a,c={},r=[],o=0,s=!1,l=Object(se.a)(t);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(i.date===e&&(s=!0,c={KOSPI:i.KOSPI,"S&P500":i["S&P500"],NASDAQ:i.NASDAQ}),s&&(o=i.date===e?0:parseFloat((o+i.return_of_asset).toFixed(2)),r.push({date:i.date,return_of_asset:o,KOSPI:parseFloat((100*(i.KOSPI-c.KOSPI)/c.KOSPI).toFixed(2)),"S&P500":parseFloat((100*(i["S&P500"]-c["S&P500"])/c["S&P500"]).toFixed(2)),NASDAQ:parseFloat((100*(i.NASDAQ-c.NASDAQ)/c.NASDAQ).toFixed(2))}),i.date===n))break}}catch(d){l.e(d)}finally{l.f()}return r}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=x(t[0].date,t[t.length-1].date);f(e)}}),[t,x]),!t||!t.length)return Object(C.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(C.jsx)("h2",{children:"NO DATA"})});var m=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=n.filter((function(e){return"Return of Asset"===e.name}))[0],r=ae()(a).format("YY.MM.DD");return Object(C.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(C.jsx)("p",{className:"fs-5 fw-bold text-center",children:r}),Object(C.jsx)("table",{children:Object(C.jsxs)("tbody",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),c&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:c.color},children:"".concat(c.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:c.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:c.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c.value).padStart(8," "))})})]}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),n.map((function(e,t){return"Return of Asset"===e.name?null:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(8," "))})})]},e.name)}))]})})]})};return Object(C.jsxs)("div",{style:{userSelect:"none"},children:[Object(C.jsx)("div",{className:"px-3 pb-3",children:Object(C.jsx)("button",{type:"button",className:"btn btn-outline-dark",onClick:function(){var e=x(t[0].date,t[t.length-1].date);d({left:"",right:""}),o({top:"dataMax + 1",bottom:"dataMin - 1"}),f(e)},children:"Zoom Out"})}),Object(C.jsx)(le.a,{width:"100%",height:400,children:Object(C.jsxs)(ie.a,{width:800,height:400,data:h,onMouseDown:function(e){return e&&i.left!==e.activeLabel&&d({left:e.activeLabel,right:i.right})},onMouseMove:function(e){return e&&i.left&&i.right!==e.activeLabel&&d({right:e.activeLabel,left:i.left})},onMouseUp:function(){var e=i.left,t=i.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=x(e,t),c=function(e,t,n){var a,c=[n[0].return_of_asset,n[0].return_of_asset],r=c[0],o=c[1],s=!1,l=Object(se.a)(n);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(i.date===e&&(s=!0),s&&(i.return_of_asset>o&&(o=i.return_of_asset),i.return_of_asset<r&&(r=i.return_of_asset),i["S&P500"]>o&&(o=i["S&P500"]),i["S&P500"]<r&&(r=i["S&P500"]),i.NASDAQ>o&&(o=i.NASDAQ),i.NASDAQ<r&&(r=i.NASDAQ),i.KOSPI>o&&(o=i.KOSPI),i.KOSPI<r&&(r=i.KOSPI),i.date===t))break}}catch(d){l.e(d)}finally{l.f()}return[0|Math.floor(r-1),0|Math.ceil(o+1)]}(e,t,a),r=Object(b.a)(c,2),s=r[0],l=r[1];d({left:"",right:""}),o({bottom:s,top:l}),f(a)}else d({left:"",right:""})},margin:{top:40,right:30,left:30,bottom:50},children:[Object(C.jsx)(de.a,{strokeDasharray:"3 3"}),Object(C.jsx)(ue.a,{content:Object(C.jsx)(m,{})}),Object(C.jsx)(je.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(C.jsx)(be.a,{allowDataOverflow:!0,dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50},tickFormatter:function(e){return e instanceof Date?ae()(e).format("YY.MM.DD"):e}}),Object(C.jsx)(he.a,{allowDataOverflow:!0,domain:[r.bottom,r.top]}),Object(C.jsx)(fe.a,{type:"natural",dataKey:"return_of_asset",stroke:Oe.return_of_asset,animationDuration:300,name:"Return of Asset",children:Object(C.jsx)(xe.a,{dataKey:"return_of_asset",offset:10,position:"top"})}),Object(C.jsx)(fe.a,{type:"natural",dataKey:"KOSPI",stroke:Oe.KOSPI,animationDuration:300,dot:!1}),Object(C.jsx)(fe.a,{type:"natural",dataKey:"S&P500",stroke:Oe["S&P500"],animationDuration:300,dot:!1}),Object(C.jsx)(fe.a,{type:"natural",dataKey:"NASDAQ",stroke:Oe.NASDAQ,animationDuration:300,dot:!1}),Object(C.jsx)(me.a,{y:0,stroke:"#000"}),i.left&&i.right?Object(C.jsx)(pe.a,{x1:i.left,x2:i.right,strokeOpacity:.3}):null]})})]})},ge=n(415),ve=n(211),Se={KOSPI:p.lightenDarkenColor(p.makeRandomColor(),-20),Won:p.lightenDarkenColor(p.makeRandomColor(),-20),Dollar:p.lightenDarkenColor(p.makeRandomColor(),-20),LUXUARY:p.lightenDarkenColor(p.makeRandomColor(),-20),NASDAQ:p.lightenDarkenColor(p.makeRandomColor(),-20),Reits:p.lightenDarkenColor(p.makeRandomColor(),-20),"S&P500":p.lightenDarkenColor(p.makeRandomColor(),-20),"Stocks-KR":p.lightenDarkenColor(p.makeRandomColor(),-20),"Stocks-US":p.lightenDarkenColor(p.makeRandomColor(),-20),"T-bond_I":p.lightenDarkenColor(p.makeRandomColor(),-20)},ke=function(e){var t=e.data;if(!t||!t.length)return Object(C.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(C.jsx)("h2",{children:"NO DATA"})});var n=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=n[0].payload.total,r="#555",o=n.filter((function(e){return"Accumulation"===e.name}))[0],s=ae()(a).format("YY.MM.DD");return Object(C.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(C.jsx)("p",{className:"fs-5 fw-bold text-center",children:s}),Object(C.jsx)("table",{children:Object(C.jsxs)("tbody",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),n.map((function(e,t){return"Accumulation"===e.name?null:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," "))})})]},e.name)})),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:r},children:"Total"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:r},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:r,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c).padStart(14," "))})})]}),o&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]})]})})]})};return Object(C.jsx)(le.a,{width:"100%",height:400,children:Object(C.jsxs)(ge.a,{syncId:"dayTradeChart",width:500,height:300,data:t,stackOffset:"sign",margin:{top:30,right:30,left:30,bottom:20},children:[Object(C.jsx)(je.a,{align:"left",verticalAlign:"top",wrapperStyle:{top:0}}),Object(C.jsx)(de.a,{strokeDasharray:"3 3"}),Object(C.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,tickFormatter:function(e){return ae()(e).format("YY.MM.DD")}}),Object(C.jsx)(he.a,{yAxisId:"left",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(C.jsx)(he.a,{yAxisId:"right",orientation:"right",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(C.jsx)(ue.a,{content:Object(C.jsx)(n,{})}),Object(C.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#000"}),Object(C.jsx)(ve.a,{yAxisId:"left",dataKey:"KOSPI",fill:Se.KOSPI,stackId:"stack"}),Object(C.jsx)(ve.a,{yAxisId:"left",dataKey:"S&P500",fill:Se["S&P500"],stackId:"stack"}),Object(C.jsx)(ve.a,{yAxisId:"left",dataKey:"NASDAQ",fill:Se.NASDAQ,stackId:"stack"}),Object(C.jsx)(ve.a,{yAxisId:"left",dataKey:"LUXUARY",fill:Se.LUXUARY,stackId:"stack"}),Object(C.jsx)(fe.a,{yAxisId:"right",type:"natural",name:"Accumulation",dataKey:"accumulation",stroke:"#D44",strokeWidth:2})]})})},we=n(109),Ne=n(212),Ce=function(e){var t=e.data;if(!t||!t.length)return Object(C.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(C.jsx)("h2",{children:"NO DATA"})});var n=1e5,a=0;t.forEach((function(e){e.buy_volume<n&&(n=e.buy_volume),e.sell_volume<n&&(n=e.sell_volume),e.buy_volume>a&&(a=e.buy_volume),e.sell_volume>a&&(a=e.sell_volume)})),t.length||(n=0,a=1e5);var r=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var r,o,s,l,i=n[0].payload,d=ae()(a).format("YY.MM.DD");return n.forEach((function(e){switch(e.name){case"price":r=e;break;case"average price":o=e;break;case"buy":s=e;break;case"sell":l=e}})),s&&(s.buy_volume=i.buy_volume),l&&(l.sell_volume=i.sell_volume),o&&(o.count=i.count),Object(C.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(C.jsx)("p",{className:"fs-5 fw-bold text-center",children:d}),Object(C.jsx)("table",{children:Object(C.jsxs)("tbody",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),r&&r.value&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(14," "))})})]},r.name),o&&o.value&&o.count&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]},o.name),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:"count"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.count).padStart(14," "))})})]},"count")]}),(s&&s.value&&s.buy_volume||l&&l.value&&l.sell_volume)&&Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),s&&s.value&&s.buy_volume&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:s.color},children:"buy_price"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:s.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:s.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(s.value).padStart(14," "))})})]},s.name),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:s.color},children:"buy_volume"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:s.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:s.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(s.buy_volume).padStart(14," "))})})]},"buy_volume")]}),l&&l.value&&l.sell_volume&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:l.color},children:"sell_price"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.value).padStart(14," "))})})]},l.name),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:l.color},children:"sell_volume"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.sell_volume).padStart(14," "))})})]},"sell_volume")]})]})})]})},o=function(e){var t=e.cx,n=e.cy,a=e.stroke,c=e.payload.count;if(!(c<1)){var r=Math.min(10,Math.log(c))/10*480;return Object(C.jsx)("svg",{x:t-20,y:n-20,width:40,height:40,fill:a,fillOpacity:.2,viewBox:"0 0 1024 1024",children:Object(C.jsx)("circle",{cx:512,cy:512,r:r})})}};return Object(C.jsx)(le.a,{width:"100%",height:400,children:Object(C.jsxs)(ge.a,{syncId:"dayTradeChart",width:500,height:400,data:t,margin:{top:30,left:30,right:30,bottom:20},children:[Object(C.jsx)(de.a,{stroke:"#DDD"}),Object(C.jsx)(ue.a,{content:Object(C.jsx)(r,{})}),Object(C.jsx)(je.a,{align:"left",verticalAlign:"top",height:36,iconSize:12}),Object(C.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,tickFormatter:function(e){return ae()(e).format("YY.MM.DD")},padding:{left:50,right:50}}),Object(C.jsx)(he.a,{fontSize:10,domain:["dataMin","dataMax"],padding:{top:20,bottom:20},tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(C.jsx)(we.a,{dataKey:"sell_volume",name:"sell_volume",domain:[n,a],range:[50,500],unit:"ea",zAxisId:"sell_vol"}),Object(C.jsx)(we.a,{dataKey:"buy_volume",name:"buy_volume",domain:[n,a],range:[50,500],unit:"ea",zAxisId:"buy_vol"}),Object(C.jsx)(fe.a,{type:"natural",dataKey:"price"}),Object(C.jsx)(fe.a,{type:"natural",name:"average price",dataKey:"a_price",stroke:"#0A0",dot:Object(C.jsx)(o,{})}),Object(C.jsx)(Ne.a,{name:"buy",dataKey:"buy_price",shape:"circle",stroke:"#F00",fillOpacity:.5,fill:"#F009",legendType:"circle",zAxisId:"buy_vol"}),Object(C.jsx)(Ne.a,{name:"sell",dataKey:"sell_price",shape:"circle",stroke:"#00F",fillOpacity:.5,fill:"#00F9",legendType:"circle",zAxisId:"sell_vol"})]})})},_e=n(416),De=n(107),Ae={KOSPI:p.lightenDarkenColor(p.makeRandomColor(),-50),Won:p.lightenDarkenColor(p.makeRandomColor(),-50),Dollar:p.lightenDarkenColor(p.makeRandomColor(),-50),Luxuary:p.lightenDarkenColor(p.makeRandomColor(),-50),NASDAQ:p.lightenDarkenColor(p.makeRandomColor(),-50),Reits:p.lightenDarkenColor(p.makeRandomColor(),-50),"S&P500":p.lightenDarkenColor(p.makeRandomColor(),-50),"Stocks-KR":p.lightenDarkenColor(p.makeRandomColor(),-50),"Stocks-US":p.lightenDarkenColor(p.makeRandomColor(),-50),"T-bond_I":p.lightenDarkenColor(p.makeRandomColor(),-50)},Ie=function(e){var t=e.data,n=c.a.useState([]),a=Object(b.a)(n,2),r=a[0],o=a[1];if(c.a.useEffect((function(){var e=t.map((function(e,t){var n={};return["KOSPI","Won","Dollar","Luxuary","NASDAQ","Reits","S&P500","Stocks-KR","Stocks-US","T-bond_I"].forEach((function(t){n["PERCENT_".concat(t)]=function(t){return parseFloat((100*e[t]/e.Total).toFixed(2))}(t)})),Object(h.a)(Object(h.a)({},e),n)}));o(e)}),[t]),!t||!t.length)return Object(C.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(C.jsx)("h2",{children:"NO DATA"})});var s=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=ae()(a).format("YY.MM.DD");return Object(C.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(C.jsx)("p",{className:"fs-5 fw-bold text-center",children:c}),Object(C.jsx)("table",{children:Object(C.jsxs)("tbody",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),n.map((function(e){var t=(100*e.value/e.payload.Total).toFixed(2).padStart(5," ");return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(C.jsx)("td",{children:Object(C.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," ")," (").concat(t,"%)")})})]},e.name)})).reverse(),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("hr",{className:"my-2"})})}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("p",{className:"fw-bolder",style:{color:"black"},children:"Total"})}),Object(C.jsx)("td",{children:Object(C.jsx)("p",{style:{color:"black"},children:" :  "})}),Object(C.jsx)("td",{className:"text-end",children:Object(C.jsx)("code",{className:"text-dark fw-bolder",style:{textAlign:"end",fontSize:"".concat(14,"px")},children:"\uffe6 ".concat(y.number2commadStringWithIntl(n[0].payload.Total))})})]})]})})]})};return Object(C.jsx)(le.a,{width:"100%",height:600,children:Object(C.jsxs)(_e.a,{width:500,height:400,data:r,defaultShowTooltip:!0,margin:{top:20,right:30,left:30,bottom:50},children:[Object(C.jsx)(de.a,{strokeDasharray:"1 2"}),Object(C.jsx)(be.a,{dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50},tickFormatter:function(e){return e instanceof Date?ae()(e).format("YY.MM.DD"):e}}),Object(C.jsx)(he.a,{fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(C.jsx)(ue.a,{content:Object(C.jsx)(s,{})}),Object(C.jsx)(je.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Won",stackId:"1",stroke:Ae.Won,fill:Ae.Won,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Won",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Dollar",stackId:"1",stroke:Ae.Dollar,fill:Ae.Dollar,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Dollar",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"KOSPI",stackId:"1",stroke:Ae.KOSPI,fill:Ae.KOSPI,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_KOSPI",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"S&P500",stackId:"1",stroke:Ae["S&P500"],fill:Ae["S&P500"],children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_S&P500",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"NASDAQ",stackId:"1",stroke:Ae.NASDAQ,fill:Ae.NASDAQ,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_NASDAQ",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Luxuary",stackId:"1",stroke:Ae.Luxuary,fill:Ae.Luxuary,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Luxuary",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Stocks-KR",stackId:"1",stroke:Ae["Stocks-KR"],fill:Ae["Stocks-KR"],children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Stocks-KR",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Stocks-US",stackId:"1",stroke:Ae["Stocks-US"],fill:Ae["Stocks-US"],children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Stocks-US",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsx)(De.a,{type:"monotone",dataKey:"Reits",stackId:"1",stroke:Ae.Reits,fill:Ae.Reits,children:Object(C.jsx)(xe.a,{dataKey:"PERCENT_Reits",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})}),Object(C.jsxs)(De.a,{type:"monotone",dataKey:"T-bond_I",stackId:"1",stroke:Ae["T-bond_I"],fill:Ae["T-bond_I"],children:[Object(C.jsx)(xe.a,{dataKey:"PERCENT_T-bond_I",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}}),Object(C.jsx)(xe.a,{dataKey:"Total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2commadStringWithIntl(e)}})]})]})})},Te=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState({}),o=Object(b.a)(r,2),s=o[0],l=o[1],i=c.a.useState({}),d=Object(b.a)(i,2),u=d[0],j=d[1],f=c.a.useState("KOSPI"),x=Object(b.a)(f,2),m=x[0],p=x[1],O=c.a.useState([]),y=Object(b.a)(O,2),v=y[0],S=y[1],k=s[m]||[],w=c.a.useRef(),N=c.a.useCallback((function(e){var t=[],n={},a={},c=[],r={},o=[];Object.keys(e).forEach((function(c){"Total"===c?t=e[c].map((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]);return delete e["\uc77c\uc790"],r[t]||(r[t]={}),r[t].return_of_asset=parseFloat(e.day_return.toFixed(2)),Object(h.a)({date:t},e)})):"KOSPI"!==c&&"S&P500"!==c&&"NASDAQ"!==c&&"LUXUARY"!==c||(n[c]=e[c].map((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]);if(a[t]||(a[t]={total:0}),e["\ub9e4\uc218\ub7c9"]&&e["\ub9e4\ub3c4\ub7c9"]){var n=Math.min(e["\ub9e4\uc218\ub7c9"],e["\ub9e4\ub3c4\ub7c9"]),o=(e["\ub9e4\ub3c4\uac00\uaca9"]-e["\ub9e4\uc218\uac00\uaca9"])*n;a[t][c]=o,a[t].total+=o}return r[t]||(r[t]={}),r[t][c]=e["\uac00\uaca9"],{date:t,price:e["\uac00\uaca9"],buy_price:e["\ub9e4\uc218\uac00\uaca9"],sell_price:e["\ub9e4\ub3c4\uac00\uaca9"],buy_volume:e["\ub9e4\uc218\ub7c9"],sell_volume:e["\ub9e4\ub3c4\ub7c9"],a_price:e["\ud3c9\uade0\ub2e8\uac00"],count:e["\ubcf4\uc720\ub7c9"]}})))}));var s=0;return Object.keys(a).forEach((function(e,t){s+=a[e].total,c.push(Object(h.a)(Object(h.a)({date:new Date(e)},a[e]),{},{accumulation:s}))})),Object.keys(r).forEach((function(e,t){o.push(Object(h.a)({date:new Date(e)},r[e]))})),{total_asset_data:t,algorithm_trade_data:n,arbitrage_data:c,alpha_data:o}}),[]);return c.a.useEffect((function(){var e=localStorage.getItem("last_finance_data");if(e){var t=JSON.parse(e),n=N(t),c=n.total_asset_data,r=n.algorithm_trade_data,o=n.arbitrage_data,s=n.alpha_data;a(c),l(r),S(o),j(s)}}),[N]),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"text-start fw-bold my-5 px-4",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"TRADE HISTORY"}),Object(C.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:"\ubc30\ub2f9\uc218\uc775\ub960\uc758 \ubc18\uc601, \ubcf4\uc720-\ud3c9\uac00-\ub2f9\uc77c\uc190\uc775 \ucc28\ud2b8"}),Object(C.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[Object(C.jsx)("div",{className:"pe-2",children:Object(C.jsx)("label",{type:"button",className:"btn btn-secondary",children:"DOWNLOAD SAMPLE"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("form",{ref:w,children:Object(C.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var n=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=n})),w.current.reset(),localStorage.setItem("last_finance_data",JSON.stringify(c));var r=N(c),o=r.total_asset_data,s=r.algorithm_trade_data,i=r.arbitrage_data,d=r.alpha_data;a(o),l(s),S(i),j(d)},n.readAsBinaryString(t.files[0])}})}),Object(C.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),Object(C.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(C.jsx)("h1",{children:Object(C.jsx)("b",{children:"ALGORITHM TRADE"})})}),Object(C.jsx)("div",{className:"mt-5 px-3 fw-bold",children:"Select data"}),Object(C.jsx)("div",{className:"px-3 d-flex flex-wrap",children:Object.keys(s).map((function(e,t){return Object(C.jsxs)("div",{className:"form-check px-3 py-2",children:[Object(C.jsx)("input",{className:"form-check-input",type:"radio",name:"radio_".concat(e),id:"radio_".concat(e),checked:m===e,onChange:function(t){return p(e)}}),Object(C.jsx)("label",{className:"form-check-label",htmlFor:"radio_".concat(e),children:e})]},t)}))}),Object(C.jsx)("div",{className:"mt-4",children:Object(C.jsx)(Ce,{data:k})}),Object(C.jsx)("div",{className:"mt-5",children:Object(C.jsx)(ke,{data:v})}),Object(C.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(C.jsx)("h1",{children:Object(C.jsx)("b",{children:"TOTAL ASSET RATIO"})})}),Object(C.jsx)("div",{className:"mt-5",children:Object(C.jsx)(Ie,{data:n})}),Object(C.jsx)("div",{className:"mt-5",children:Object(C.jsx)(ye,{data:u})})]})},Me=function(e){return Object(C.jsxs)(k.d,{children:[Object(C.jsx)(k.b,{path:"/auth/register",render:function(e){return Object(C.jsx)(F,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{path:"/auth/login",render:function(e){return Object(C.jsx)(L,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{path:"/d3/bubbles",render:function(e){return Object(C.jsx)(V,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{path:"/youtube-search",render:function(e){return Object(C.jsx)(ce,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{path:"/trade-history",render:function(e){return Object(C.jsx)(Te,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{exact:!0,path:"/",render:function(e){return Object(C.jsx)(T,Object(h.a)({},e))}}),Object(C.jsx)(k.b,{render:function(e){return Object(C.jsx)(k.a,{to:"/"})}})]})};var Re=function(){var e=c.a.useReducer((function(e,t){return Object(h.a)(Object(h.a)({},e),t)}),v),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),s=o[0],l=o[1],i=c.a.useState(!1),d=Object(b.a)(i,2),x=d[0],m=d[1];function O(){return(O=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/util/check");case 3:m(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("App.checkServer",e.t0),m(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l((function(e){if(!e.length)return e;var t=e.slice();return t.shift(),t})),s.length){e.next=5;break}return e.next=4,p.delay(200);case 4:document.getElementsByTagName("body")[0].classList.remove("overflow-hidden");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(j.a)(u.a.mark((function e(t){var n,a,c,r,o,i,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Modal,a=t.props,c=void 0===a?{}:a,r=t.onConfirm,o=void 0===r?function(){}:r,i=t.onCancel,d=void 0===i?function(){}:i,e.abrupt("return",new Promise((function(e,t){s.length||document.getElementsByTagName("body")[0].classList.add("overflow-hidden");l((function(t){var a=t.slice();return a.push(Object(C.jsx)(n,Object(h.a)(Object(h.a)({},c),{},{onConfirm:function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.next=4,y();case 4:e(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return t.next=4,y();case 4:e(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),a}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){!function(){O.apply(this,arguments)}()}),[]),Object(C.jsx)(f.a,{children:Object(C.jsx)(S.Provider,{value:Object.assign({},n,{setState:a,pushMessageModal:function(e){return k.apply(this,arguments)}}),children:Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)(D,{modals:s,closeCurrentModal:y}),Object(C.jsxs)("nav",{className:"d-block d-sm-none position-fixed w-100",children:[Object(C.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(C.jsx)("div",{className:"container-fluid",children:Object(C.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{className:"navbar-toggler-icon"})})})}),Object(C.jsx)("div",{className:"collapse bg-dark",id:"navbarToggleExternalContent",children:Object(C.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",style:{minHeight:"".concat(100,"vh")},children:[x&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(C.jsx)("li",{className:"ps-2",children:Object(C.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/trade-history",className:"nav-link fw-bold",children:"Trade History"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})]}),Object(C.jsx)("div",{className:"d-block d-sm-none",style:{height:"".concat(48.5,"px")}}),Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("aside",{className:"flex-shrink-0 d-none d-sm-block overflow-auto bg-dark",style:{width:"".concat(16,"em"),height:"".concat(100,"vh")},children:Object(C.jsx)("nav",{children:Object(C.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",children:[x&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold ps-4",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{to:"/trade-history",className:"nav-link fw-bold",children:"Trade History"})}),Object(C.jsx)("li",{children:Object(C.jsx)(f.b,{exact:!0,to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})}),Object(C.jsxs)("main",{id:"main",className:"flex-fill overflow-auto",style:{height:"".concat(100,"vh")},children:[Object(C.jsx)(Me,{}),Object(C.jsx)("div",{style:{height:"".concat(20,"vh")}})]})]})]})})})};o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(Re,{})}),document.getElementById("root")),s()}},[[407,1,2]]]);
//# sourceMappingURL=main.135d0c0a.chunk.js.map