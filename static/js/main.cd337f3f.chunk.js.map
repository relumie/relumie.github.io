{"version":3,"sources":["reportWebVitals.js","utils/util_common.js","components/contexts.js","styles/cs.js","components/modals/modal_wrapper.js","components/modals/modal_alert.js","components/views/v_main.js","api/api.js","components/views/auth/v_register.js","utils/util_api.js","components/views/auth/v_login.js","components/fragments/bubbles/tooltip.js","components/fragments/bubbles/bubbles.js","components/fragments/bubbles/grouping_picker.js","components/fragments/bubbles/year_titles.js","components/views/d3/v_bubbles.js","components/routers/main_routes.js","components/app.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UtilCommon","ms","Promise","resolve","setTimeout","app_state_default","isWideMode","AppState","React","createContext","cs","classNames","bind","styles","ModalWrapper","props","useState","visible","setVisible","opacity","setOpacity","modals","setModals","useEffect","animation_duration","a","delay","length","showModal","hideModal","className","onClick","closeCurrentModal","defaultProps","console","log","ModalAlert","style","maxHeight","overflow","type","onCancel","whiteSpace","lineBreak","width","maxWidth","message","onConfirm","VMain","Consumer","state","e","pushMessageModal","Modal","modal_result","JSON","stringify","api","axios","create","baseURL","process","timeout","headers","interceptors","request","use","config","response","error","reject","status","url","params","data","VRegister","axios_cancel_source","CancelToken","source","cancel","app_state","useContext","login_id","password","password_confirm","email","form_data","setFormData","handleInput","name","target","value","submit","preventDefault","post","cancelToken","token","result","onSubmit","onChange","placeholder","UtilApi","errorMessageMap","defaultErrorMessageMap","Object","assign","input","toLowerCase","errors","keys","i","key","indexOf","VLogin","res","content","auth","isCancel","translateErrorMessages","tooltip","tooltipId","tt","d3","append","attr","hideTooltip","updatePosition","event","ttw","tth","wscrX","window","scrollX","wscrY","scrollY","curX","document","getElementById","clientX","pageX","curY","clientY","pageY","ttleft","xOffset","innerWidth","tttop","yOffset","showTooltip","html","floatingTooltip","fillColor","domain","range","Bubbles","shouldComponentUpdate","g","forceStrength","center","simulation","velocityDecay","force","strength","x","y","charge","on","ticked","stop","d","this","radius","selectAll","nextProps","renderBubbles","groupByYear","regroupBubbles","bubbles","id","exit","remove","enter","classed","group","darker","showDetail","hideDetail","transition","duration","nodes","alpha","restart","yearCenters","year","ref","setState","onRef","Component","GroupingPicker","onBtnClick","onChanged","active","YearsTitles","map","fontSize","textAnchor","alignmentBaseline","BubbleChart","height","children","VBubbles","setData","grouping","setGrouping","d3Params","setD3Params","clientWidth","clientHeight","2008","2009","2010","rawData","max_amount","total_amount","findRadius","exponent","grant_title","org","organization","start_year","Math","random","sort","b","createNodes","n_grouping","MainRoutes","path","render","exact","to","App","useReducer","prev_state","new_state","message_modals","setMessageModals","isServerOn","setIsServerOn","get","closeMessageModal","p_message_modals","n_message_modals","slice","shift","getElementsByTagName","classList","add","push","checkServer","Provider","Fragment","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","minHeight","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.cd337f3f.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","class UtilCommon {\r\n  static async delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n}\r\nexport default UtilCommon;","import React from 'react';\r\n\r\nconst app_state_default = {\r\n  isWideMode: false,\r\n};\r\nconst AppState = React.createContext(app_state_default);\r\n\r\nexport {\r\n  AppState, app_state_default,  \r\n};","import classNames from 'classnames/bind';\r\nimport styles from './_styles.scss';\r\nconst cs = classNames.bind(styles);\r\nexport default cs;","import React, { useEffect } from 'react';\r\nimport cs from '../../styles/cs';\r\nimport UtilCommon from '../../utils/util_common';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [opacity, setOpacity] = React.useState(false);\r\n  const [modals, setModals] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    async function showModal(animation_duration) {\r\n      setOpacity(false);\r\n      setVisible(true);\r\n      setModals(props.modals);\r\n      await UtilCommon.delay(animation_duration);\r\n      setOpacity(true);\r\n    };\r\n\r\n    async function hideModal(animation_duration) {\r\n      setOpacity(false);\r\n      await UtilCommon.delay(animation_duration);\r\n      setVisible(false);\r\n      setModals(props.modals);\r\n    }\r\n\r\n    if (props.modals.length > modals.length)\r\n      showModal(100);\r\n    else if (props.modals.length < modals.length)\r\n      hideModal(200);\r\n\r\n  }, [props.modals, modals]);\r\n\r\n  if (!modals.length)\r\n    return null;\r\n\r\n  return ( \r\n    <div className={cs({ 'modal-wrapper': true, visible, opacity })}>\r\n      <div className=\"modal-wrapper-backdrop\" onClick={props.closeCurrentModal}/>\r\n      <div className=\"modal-wrapper-container\">\r\n        {modals[0]}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalWrapper.defaultProps = {\r\n  modals: [],\r\n  closeCurrentModal: () => console.log('closeCurrentModal() is not defined.')  \r\n}\r\n \r\nexport default ModalWrapper;","const ModalAlert = (props) => {\r\n  return ( \r\n    <div style={{ maxHeight: `${80}vh`, overflow: 'auto' }}>\r\n      <div className=\"text-end pt-2 pe-2\">\r\n        <button type='button' className=\"btn-close\" onClick={props.onCancel} />\r\n      </div>\r\n      <div className=\"py-3\" style={{whiteSpace: 'pre-wrap', lineBreak: \"anywhere\", width: `${480}px`, maxWidth: `${90}vw`}}>\r\n        {props.message}\r\n      </div>\r\n      <div className=\"text-end\">\r\n        <button type='button' className=\"btn btn-primary text-light fw-bold rounded\" onClick={props.onConfirm}>확인</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalAlert.defaultProps = {\r\n  message: 'NO MESSAGE',\r\n  onConfirm: () => {},\r\n  onCancel : () => {},\r\n}\r\n \r\nexport default ModalAlert;","import { AppState } from \"../contexts\";\r\nimport { ModalAlert } from \"../modals\";\r\n\r\nconst VMain = () => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Here's main\r\n      </div>\r\n      <br/>\r\n\r\n      <AppState.Consumer>\r\n        {state => (\r\n          <div style={{ whiteSpace: 'pre-wrap' }}>\r\n            <div>\r\n              <button type='button' onClick={async e => {\r\n                const modal_result = await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다.'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 73473'); }\r\n                });\r\n                console.log('MODAL_CONFIRMED? : ' + modal_result);\r\n                if (modal_result === false)\r\n                  return;\r\n                await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다. 2'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 52374'); }\r\n                });\r\n              }}>\r\n                PUSH MODAL\r\n              </button>\r\n            </div>\r\n            <div>\r\n              {JSON.stringify(state, '', 2)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </AppState.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VMain;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${process.env.REACT_APP_SERVER_API}/api`,\r\n  timeout: 10000,\r\n  headers: {\r\n    'content-type': 'application/json'\r\n  },\r\n});\r\n\r\n\r\napi.interceptors.request.use(function (config) {\r\n  // var auth = DataAuth.get();\r\n  // if (!auth?.value?.token)\r\n  //   return config;\r\n  \r\n  // config.headers['x-api-key'] = auth.value.token;\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(response => {\r\n  return response;\r\n}, error => {\r\n  /* pattern_reference: Axios Handle Errors (https://www.npmjs.com/package/axios#handling-errors) */\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    // console.log(error.response.data);\r\n    // console.log(error.response.status);\r\n    // console.log(error.response.headers);\r\n    return Promise.reject({\r\n      status : error.response.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      ...error.response.data // contain message on general\r\n    });\r\n  } else if (error.request) {\r\n    // The request was made but no response was received\r\n    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n    // http.ClientRequest in node.js\r\n    // console.log(error.request);\r\n    return Promise.reject({\r\n      status : error.request.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      message: error.message\r\n    });\r\n  } else {\r\n    // Something happened in setting up the request that triggered an Error\r\n    return Promise.reject(error);\r\n  }\r\n});\r\n\r\nexport default api;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VRegister = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      let result = await api.post('/auth/register', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password'],\r\n        '#email': form_data['email'],\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '가입되었습니다'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n\r\n      console.log(result)\r\n    } catch (e) {\r\n      console.log(e);      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     name=\"login_id\"         value={form_data['login_id']}         onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" name=\"password\"         value={form_data['password']}         onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <input type=\"password\" name=\"password_confirm\" value={form_data['password_confirm']} onChange={handleInput} placeholder=\"CONFIRM PASSWORD\"/>\r\n        <input type=\"email\"    name=\"email\"            value={form_data['email']}            onChange={handleInput} placeholder=\"EMAIL\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"REGISTER\"/>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VRegister;","class UtilApi {\r\n  /**\r\n   * \r\n   * @param {{message: string}} error API error\r\n   * @param {{error_message: string}} errorMessageMap The value is translated message.\r\n   */\r\n  static translateErrorMessages(error = {}, errorMessageMap = {}) {\r\n    if (!error?.message)\r\n      return;\r\n\r\n    const defaultErrorMessageMap = {\r\n      'SequelizeDatabaseError': 'DB 구문 에러.\\n관리자에게 문의해주세요',\r\n      'timeout of': '서버 응답시간이 초과되었습니다.\\n다시 시도해주세요.'\r\n    };\r\n    \r\n    errorMessageMap = Object.assign(defaultErrorMessageMap, errorMessageMap);\r\n\r\n    const input = error.message.toLowerCase();\r\n    const errors = Object.keys(errorMessageMap);\r\n    for (let i = 0; i < errors.length; ++i) {\r\n      const key = errors[i];\r\n      if (input.indexOf(key.toLowerCase()) >= 0)\r\n        return errorMessageMap[key];\r\n    }\r\n    return;\r\n  }\r\n}\r\nexport default UtilApi;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport UtilApi from '../../../utils/util_api';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VLogin = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const auth = await api.post('/auth/login', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password']\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n        .then(res => res?.data?.content)\r\n      \r\n      console.log(auth)\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '로그인 성공'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    } catch (e) {\r\n      if (axios.isCancel(e)) {\r\n        console.log('Canceled.');\r\n        return;\r\n      }\r\n\r\n      const message = UtilApi.translateErrorMessages(e, {\r\n        'no user': '해당하는 유저가 없습니다.'\r\n      });\r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p py-3\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     className=\"form-control\"  name=\"login_id\" value={form_data['login_id']} onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" className=\"form-control\"  name=\"password\" value={form_data['password']} onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary w-100\" />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VLogin;","import * as d3 from 'd3';\r\nimport './tooltip.scss';\r\n\r\n\r\nfunction floatingTooltip(tooltipId, width) {\r\n  // Local variable to hold tooltip div for manipulation in other functions.\r\n  const tt = d3.select('body').append('div')\r\n    .attr('class', 'tooltip')\r\n    .attr('id', tooltipId)\r\n    .style('pointer-events', 'none');\r\n\r\n  if (width)\r\n    tt.style('width', width)\r\n\r\n  hideTooltip(); // initially hide\r\n    \r\n  function hideTooltip () {\r\n    tt.style('opacity', 0.0);\r\n  }\r\n\r\n  function showTooltip (content, event) {\r\n    tt.style('opacity', 1.0)\r\n      .html(content)\r\n\r\n    updatePosition(event);\r\n  }\r\n\r\n  function updatePosition(event) {\r\n    const xOffset = 20;\r\n    const yOffset = 10;\r\n\r\n    const ttw = tt.style('width');\r\n    const tth = tt.style('height');\r\n\r\n    const wscrX = window.scrollX;\r\n    const wscrY = window.scrollY;\r\n\r\n    const curX = (document.getElementById) ? event.clientX + wscrX : event.pageX;\r\n    const curY = (document.getElementById) ? event.clientY + wscrY : event.pageY;\r\n\r\n    let ttleft = ((curX - wscrX + xOffset * 2 + ttw) > window.innerWidth)\r\n      ? curX - ttw - xOffset * 2 \r\n      : curX + xOffset;\r\n    if (ttleft < wscrX + xOffset)\r\n      ttleft = wscrX + xOffset;\r\n\r\n    let tttop = ((curY - wscrY + yOffset * 2 + tth) > window.innerWidth)\r\n      ? curY - tth - yOffset * 2 \r\n      : curY + yOffset;\r\n    if (tttop < wscrY + yOffset)\r\n      tttop = wscrY + yOffset;\r\n\r\n    tt\r\n      .style('top', `${tttop}px`)\r\n      .style('left', `${ttleft}px`);    \r\n  }\r\n\r\n  return {\r\n    showTooltip,\r\n    hideTooltip,\r\n    updatePosition,\r\n  };\r\n}\r\n\r\nconst tooltip = floatingTooltip('gates_tooltip', 240);\r\nexport default tooltip;","import React from 'react'\r\nimport * as d3 from 'd3';\r\nimport tooltip from './tooltip';\r\n\r\nconst fillColor = d3.scaleOrdinal().domain(['low', 'medium', 'high']).range(['#525b7a', '#beccde', '#5aa2bc']);\r\n\r\nclass Bubbles extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { \r\n      g: null\r\n    }\r\n\r\n    const { forceStrength, center } = this.props\r\n    this.simulation = d3.forceSimulation()\r\n      .velocityDecay(0.2)\r\n      .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n      .force('y', d3.forceY().strength(forceStrength).y(center.y))\r\n      .force('charge', d3.forceManyBody(this.charge.bind(this)))\r\n      .on('tick', this.ticked.bind(this))\r\n      .stop()\r\n  }\r\n\r\n  charge(d) {\r\n    return -this.props.forceStrength * (d.radius ** 2.0)\r\n  }\r\n\r\n  ticked() {\r\n    this.state.g.selectAll('.bubble')\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n  }\r\n\r\n\r\n  \r\n  shouldComponentUpdate = () => false\r\n\r\n  // TODO: replace it with other method (deprecated)\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data !== this.props.data)\r\n      this.renderBubbles(nextProps.data)\r\n    if (nextProps.groupByYear !== this.props.groupByYear)\r\n      this.regroupBubbles(nextProps.groupByYear)\r\n  }\r\n  \r\n\r\n\r\n  renderBubbles(data) {\r\n    const bubbles = this.state.g.selectAll('.bubble')\r\n      .data(data, d => d.id)\r\n\r\n    // EXIT\r\n    bubbles.exit().remove()\r\n\r\n    // ENTER\r\n    const bubblesE = bubbles.enter().append('circle')\r\n      .classed('bubble', true)\r\n      .attr('r', 0)\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n      .attr('fill', d => fillColor(d.group))\r\n      .attr('stroke', d => d3.rgb(fillColor(d.group)).darker())\r\n      .attr('stroke-width', 2)\r\n      // TODO: ADD TOOLTIP\r\n      .on('mouseover', showDetail)\r\n      .on('mouseout', hideDetail)\r\n\r\n      bubblesE.transition().duration(2000)\r\n        .attr('r', d => d.radius)\r\n        .on('end', () => {\r\n          this.simulation.nodes(data)\r\n            .alpha(1)\r\n            .restart()\r\n        })\r\n  }\r\n  \r\n  regroupBubbles (groupByYear) {\r\n    const { forceStrength, yearCenters, center } = this.props;\r\n    if (groupByYear)\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(d => yearCenters[d.year].x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(d => yearCenters[d.year].y));        \r\n    else\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(center.y));\r\n    \r\n    this.simulation.alpha(1).restart();\r\n  }\r\n\r\n\r\n  onRef (ref) {\r\n    this.setState({ g: d3.select(ref) }, () => this.renderBubbles(this.props.data))\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n      <g ref={this.onRef.bind(this)} className=\"bubbles\" />\r\n    )\r\n  }\r\n}\r\n \r\nexport default Bubbles;\r\n\r\nexport function showDetail(d) {\r\n  d3.select(this).attr('stroke', 'black');\r\n\r\n  const content = `<span class=\"name\">Title: </span><span class=\"value\">${d.name}</span><br/>`\r\n    + `<span class=\"name\">Amount: </span><span class=\"value\">$${d.value}</span><br/>`\r\n    + `<span class=\"name\">Year: </span><span class=\"value\">${d.year}</span>`;\r\n\r\n  tooltip.showTooltip(content, d3.event);\r\n}\r\n\r\n\r\nexport function hideDetail(d) {\r\n  d3.select(this).attr('stroke', d3.rgb(fillColor(d.group)).darker());\r\n  \r\n  tooltip.hideTooltip();\r\n}","  \r\nimport React from 'react';\r\nimport './grouping_picker.scss';\r\n\r\nexport default class GroupingPicker extends React.Component {\r\n  onBtnClick = (event) => {\r\n    this.props.onChanged(event.target.name)\r\n  }\r\n  render() {\r\n    const { active } = this.props\r\n    return (\r\n      <div className=\"GroupingPicker\">\r\n        <button className={`button ${active === 'all' && 'active'}`} name=\"all\" onClick={this.onBtnClick}>All Grants</button>\r\n        <button className={`button ${active === 'year' && 'active'}`} name=\"year\" onClick={this.onBtnClick}>Grants By Year</button>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nexport default function YearsTitles({ yearCenters }) {\r\n  return (\r\n    <g className=\"yearsTitles\">\r\n      {\r\n        Object.keys(yearCenters).map(year =>\r\n          <text\r\n            key={year}\r\n            x={yearCenters[year].x}\r\n            y={50}\r\n            fontSize=\"35\"\r\n            textAnchor=\"middle\"\r\n            alignmentBaseline=\"middle\"\r\n          >\r\n            {\r\n              year\r\n            }\r\n          </text>)\r\n      }\r\n    </g>\r\n  )\r\n}","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport { Bubbles, GroupingPicker, YearsTitles } from '../../fragments';\r\n\r\n\r\n\r\n\r\n\r\nconst VBubbles = () => {\r\n  const [data, setData] = React.useState([]);\r\n  const [grouping, setGrouping] = React.useState('all');\r\n  const [d3Params, setD3Params] = React.useState({})\r\n\r\n  \r\n\r\n  const onGroupingChanged = (n_grouping) => setGrouping(n_grouping)\r\n  \r\n  React.useEffect(() => {\r\n    const width  = document.getElementById('main').clientWidth // 960\r\n    const height = document.getElementById('main').clientHeight - 49 // 640\r\n    const center = { x: width / 2, y: height / 2 }\r\n    const yearCenters = {\r\n      2008: { x: width / 4, y: height / 2 },\r\n      2009: { x: width / 2, y: height / 2 },\r\n      2010: { x: (3 / 4) * width, y: height / 2 },\r\n    }\r\n    setD3Params({ width, height, center, yearCenters })\r\n    \r\n    const createNodes = (rawData) => {\r\n      if (!width || !height)\r\n        return;\r\n  \r\n      const max_amount = d3.max(rawData, d => +d.total_amount);\r\n      const findRadius = d3.scalePow()\r\n        .exponent(0.5)\r\n        .range([2, 85])\r\n        .domain([0, max_amount]);\r\n  \r\n      let nodes = rawData.map(d => ({\r\n        id: d.id,\r\n        radius: findRadius(+d.total_amount),\r\n        value: +d.total_amount,\r\n        name: d.grant_title,\r\n        org: d.organization,\r\n        group: d.group,\r\n        year: d.start_year,\r\n        x: Math.random() * width,\r\n        y: Math.random() * height\r\n      }));\r\n  \r\n      // prevent occlusion of smaller nodes.\r\n      nodes.sort((a, b) => b.value - a.value);\r\n      \r\n      return nodes\r\n    }\r\n\r\n    d3.csv('/data/gates_money.csv', function (error, data) {\r\n      if (error) {\r\n        console.log('error', error);\r\n        return\r\n      }\r\n      let nodes = createNodes(data);\r\n      setData(nodes);\r\n    })\r\n      // .then((arr) => {\r\n      //   console.log(arr);\r\n      //   // setData(createNodes(arr));\r\n      // });\r\n  }, []);\r\n\r\n  return ( \r\n    <div style={{ whiteSpace: 'pre-wrap', lineBreak: 'anywhere', height: `${100}%`, overflow: 'auto' }}>\r\n      <GroupingPicker onChanged={onGroupingChanged} active={grouping} />\r\n      {(d3Params.width && d3Params.height) && (\r\n        <BubbleChart width={d3Params.width} height={d3Params.height}>\r\n          <Bubbles data={data} forceStrength={0.08} center={d3Params.center} yearCenters={d3Params.yearCenters} groupByYear={grouping === 'year'} />\r\n          {grouping === 'year' && (\r\n            <YearsTitles width={d3Params.width} yearCenters={d3Params.yearCenters} />\r\n          )}\r\n        </BubbleChart>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst BubbleChart = ({width, height, children}) => {\r\n  return ( \r\n    <svg className=\"bubbleChart\" width={width} height={height}>\r\n      {children}\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default VBubbles;","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { VLogin, VMain, VRegister, VBubbles } from '../views';\r\n\r\n\r\nconst MainRoutes = (props) => {\r\n  return ( \r\n    <Switch>\r\n      <Route path=\"/auth/register\" render={(props) => <VRegister {...props}/>}/>\r\n      <Route path=\"/auth/login\"    render={(props) => <VLogin    {...props}/>}/>\r\n      <Route path=\"/d3/bubbles\"    render={(props) => <VBubbles  {...props}/>}/>\r\n      <Route exact path=\"/\"        render={(props) => <VMain     {...props}/>}/>\r\n      <Route                       render={(props) => <Redirect to=\"/\" />}/>\r\n    </Switch>\r\n  );\r\n}\r\n \r\nexport default MainRoutes;","import React from 'react';\r\nimport { BrowserRouter, Link, NavLink } from 'react-router-dom';\r\nimport { UtilCommon } from '../utils';\r\nimport { AppState, app_state_default } from './contexts';\r\nimport MainRoutes from './routers/main_routes';\r\nimport { ModalWrapper } from './modals';\r\n\r\nimport api from '../api/api';\r\n\r\nfunction App() {\r\n  const reducer = (prev_state, new_state) => ({ ...prev_state, ...new_state });\r\n  const [state, setState] = React.useReducer(reducer, app_state_default);\r\n  const [message_modals, setMessageModals] = React.useState([\r\n    // <ModalAlert />\r\n  ]);\r\n  const [isServerOn, setIsServerOn] = React.useState(false);\r\n\r\n  async function checkServer() {\r\n    try {\r\n      await api.get('/util/check');\r\n\r\n      setIsServerOn(true);\r\n    } catch (e) {\r\n      console.log('App.checkServer', e);\r\n      setIsServerOn(false);\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    checkServer();\r\n  }, []);\r\n\r\n\r\n  // Functions for message_modals >>>>>>>>>>>>>>>>>>\r\n  async function closeMessageModal(e) {\r\n    setMessageModals(p_message_modals => {\r\n      if (!p_message_modals.length)\r\n        return p_message_modals;\r\n\r\n      let n_message_modals = p_message_modals.slice();\r\n      n_message_modals.shift();      \r\n      return n_message_modals;  \r\n    });\r\n\r\n    if (!message_modals.length) {\r\n      await UtilCommon.delay(200); // close animation time\r\n      (document.getElementsByTagName('body')[0]).classList.remove('overflow-hidden');\r\n    }\r\n  }\r\n\r\n  async function pushMessageModal({Modal, props = {}, onConfirm = () => {}, onCancel = () => {}}) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!message_modals.length) {\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.add('overflow-hidden');\r\n      }\r\n\r\n      setMessageModals(p_message_modals => {\r\n        let n_message_modals = p_message_modals.slice();\r\n        n_message_modals.push((\r\n          <Modal\r\n            {...props}\r\n            onConfirm={async e => {\r\n              await onConfirm();\r\n              await closeMessageModal();\r\n              resolve(true);\r\n            }}\r\n            onCancel={async e => {\r\n              await onCancel();\r\n              await closeMessageModal();\r\n              resolve(false);\r\n            }}\r\n          />\r\n        ));\r\n        return n_message_modals;\r\n      });\r\n    });    \r\n  }\r\n  // <<<<<<<<<<<<<<<< Functions for message_modals\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AppState.Provider value={Object.assign({}, state, {      \r\n        setState,\r\n        pushMessageModal,\r\n      })}>\r\n        <React.Fragment>\r\n          <ModalWrapper modals={message_modals} closeCurrentModal={closeMessageModal} />\r\n            <nav className=\"d-block d-sm-none position-fixed w-100\">\r\n              <div className=\"navbar navbar-dark bg-dark\">\r\n                <div className=\"container-fluid\">\r\n                  <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"collapse bg-dark\" id=\"navbarToggleExternalContent\">\r\n                <ul className=\"nav nav-pills flex-column mb-auto fw-bold\" style={{ minHeight: `${100}vh` }}>\r\n                  {isServerOn && (\r\n                    <React.Fragment>\r\n                      <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                      <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                    </React.Fragment>\r\n                  )}\r\n                  \r\n                    <li><Link to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</Link></li>\r\n                  <li className=\"ps-2\"><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                  <li><NavLink to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n            <div className=\"d-block d-sm-none\" style={{ height: `${48.5}px` }}></div>\r\n\r\n            <div className=\"d-flex\">\r\n              <aside className=\"flex-shrink-0 d-none d-sm-block overflow-auto bg-dark\" style={{ width: `${16}em`, height: `${100}vh` }}>\r\n                <nav>\r\n                  <ul className=\"nav nav-pills flex-column mb-auto fw-bold\">\r\n                    {isServerOn && (\r\n                      <React.Fragment>\r\n                        <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                        <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                      </React.Fragment>\r\n                    )}                    \r\n                    <li><Link to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</Link></li>\r\n                    <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold ps-4\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                    <li><NavLink exact to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n                  </ul>\r\n                </nav>\r\n              </aside>\r\n              <main id=\"main\" className=\"flex-fill overflow-auto\" style={{ height: `${100}vh` }}>\r\n                <MainRoutes />\r\n              </main>\r\n            </div>\r\n        </React.Fragment>\r\n      </AppState.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n// bootstrap dependency\nimport '@popperjs/core';\nimport 'bootstrap/dist/js/bootstrap.js';\n// style\nimport './styles/_styles.scss';\n// components\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}