(this["webpackJsonprelumie-client-web"]=this["webpackJsonprelumie-client-web"]||[]).push([[0],{135:function(e,t,n){},157:function(e,t){},261:function(e,t,n){},262:function(e,t,n){},267:function(e,t){},268:function(e,t){},407:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(82),o=n.n(r),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,416)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},i=(n(220),n(135)),s=n.n(i),d=n(16),j=n.n(d),u=n(24),b=n(6),h=n(3),f=n(34),x=n(28),O=n(31),m=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"delay",value:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"makeRandomColor",value:function(){return"#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}},{key:"lightenDarkenColor",value:function(e,t){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+t)).toString(16)).substr(-2)}))}}]),e}(),p=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"searchEnter",value:function(e,t){return e||(e=window.event),13!==(e.keyCode?e.keyCode:e.which)||(t(),!1)}}]),e}(),y=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"number2commadStringWithIntl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n={};void 0===t&&null===t||(n.minimumFractionDigits=t);var a=new Intl.NumberFormat("en-US",n);return a.format(e)}catch(c){return e}}},{key:"number2shortenString",value:function(e){return e>=1e9?(.01*Math.floor(1e-7*e)).toFixed(2)+"B":e>=1e6?(.01*Math.floor(1e-4*e)).toFixed(2)+"M":void 0}}]),e}(),g=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"serialDateToJSDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(Date.UTC(0,0,e-1,-9,0,24*t*60*60))}}]),e}(),v={isWideMode:!1},S=c.a.createContext(v),k=n(23),_=n(190),N=n.n(_).a.bind(s.a),w=n(0),A=function(e){var t=c.a.useState(!1),n=Object(b.a)(t,2),r=n[0],o=n[1],l=c.a.useState(!1),i=Object(b.a)(l,2),s=i[0],d=i[1],h=c.a.useState([]),f=Object(b.a)(h,2),x=f[0],O=f[1];return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),o(!0),O(e.modals),t.next=5,m.delay(n);case 5:d(!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(u.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),t.next=3,m.delay(n);case 3:o(!1),O(e.modals);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.modals.length>x.length?function(e){t.apply(this,arguments)}(100):e.modals.length<x.length&&function(e){n.apply(this,arguments)}(200)}),[e.modals,x]),x.length?Object(w.jsxs)("div",{className:N({"modal-wrapper":!0,visible:r,opacity:s}),children:[Object(w.jsx)("div",{className:"modal-wrapper-backdrop",onClick:e.closeCurrentModal}),Object(w.jsx)("div",{className:"modal-wrapper-container",children:x[0]})]}):null};A.defaultProps={modals:[],closeCurrentModal:function(){return console.log("closeCurrentModal() is not defined.")}};var I=A,D=function(e){return Object(w.jsxs)("div",{style:{maxHeight:"".concat(80,"vh"),overflow:"auto"},children:[Object(w.jsx)("div",{className:"text-end pt-2 pe-2",children:Object(w.jsx)("button",{type:"button",className:"btn-close",onClick:e.onCancel})}),Object(w.jsx)("div",{className:"py-3",style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",width:"".concat(480,"px"),maxWidth:"".concat(90,"vw")},children:e.message}),Object(w.jsx)("div",{className:"text-end",children:Object(w.jsx)("button",{type:"button",className:"btn btn-primary text-light fw-bold rounded",onClick:e.onConfirm,children:"\ud655\uc778"})})]})};D.defaultProps={message:"NO MESSAGE",onConfirm:function(){},onCancel:function(){}};var C=D,T=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"Here's main"}),Object(w.jsx)("br",{}),Object(w.jsx)(S.Consumer,{children:function(e){return Object(w.jsxs)("div",{style:{whiteSpace:"pre-wrap"},children:[Object(w.jsx)("div",{children:Object(w.jsx)("button",{type:"button",onClick:function(){var t=Object(u.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pushMessageModal({Modal:C,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4."},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 73473")}});case 2:if(a=t.sent,console.log("MODAL_CONFIRMED? : "+a),!1!==a){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.pushMessageModal({Modal:C,props:{message:"\ud14c\uc2a4\ud2b8 \uba54\uc138\uc9c0\uc785\ub2c8\ub2e4. 2"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"PUSH MODAL"})}),Object(w.jsx)("div",{children:JSON.stringify(e,"",2)})]})}})]})},R=n(39),Q=n(51),M=n.n(Q),E=M.a.create({baseURL:"".concat("https://1.233.86.212","/api"),timeout:3e3,headers:{"content-type":"application/json"}});E.interceptors.request.use((function(e){return e})),E.interceptors.response.use((function(e){return e}),(function(e){return e.response?Promise.reject(Object(h.a)({status:e.response.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data},e.response.data)):e.request?Promise.reject({status:e.request.status,headers:e.config.headers,url:e.config.baseURL+e.config.url,params:e.config.data,message:e.message}):Promise.reject(e)}));var K=E,F=function(e){var t=M.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return t.cancel()}}),[t]);var n=Object(a.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=function(e){var t=e.target.name;i((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(R.a)({},t,e.target.value))}))},d=function(){var e=Object(u.a)(j.a.mark((function e(a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,K.post("/auth/register",{login_id:l.login_id,password:l.password,"#email":l.email},{cancelToken:t.token});case 4:return c=e.sent,e.next=7,n.pushMessageModal({Modal:C,props:{message:"\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 7:console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("form",{onSubmit:d,children:Object(w.jsxs)("div",{className:"mx-auto w-100p",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(w.jsx)("input",{type:"text",name:"login_id",value:l.login_id,onChange:s,placeholder:"ID"}),Object(w.jsx)("input",{type:"password",name:"password",value:l.password,onChange:s,placeholder:"PASSWORD"}),Object(w.jsx)("input",{type:"password",name:"password_confirm",value:l.password_confirm,onChange:s,placeholder:"CONFIRM PASSWORD"}),Object(w.jsx)("input",{type:"email",name:"email",value:l.email,onChange:s,placeholder:"EMAIL"}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"submit",value:"REGISTER"})})]})})},z=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"translateErrorMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||void 0===e?void 0:e.message){var n={SequelizeDatabaseError:"DB \uad6c\ubb38 \uc5d0\ub7ec.\n\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694","timeout of":"\uc11c\ubc84 \uc751\ub2f5\uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."};t=Object.assign(n,t);for(var a=e.message.toLowerCase(),c=Object.keys(t),r=0;r<c.length;++r){var o=c[r];if(a.indexOf(o.toLowerCase())>=0)return t[o]}}}}]),e}(),P=function(e){var t=M.a.CancelToken.source();Object(a.useEffect)((function(){return function(){return t.cancel()}}),[t]);var n=Object(a.useContext)(S),r=c.a.useState({login_id:"",password:"",password_confirm:"",email:""}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=function(e){var t=e.target.name;i((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(R.a)({},t,e.target.value))}))},d=function(){var e=Object(u.a)(j.a.mark((function e(a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,K.post("/auth/login",{login_id:l.login_id,password:l.password},{cancelToken:t.token}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content}));case 4:return c=e.sent,console.log(c),e.next=8,n.pushMessageModal({Modal:C,props:{message:"\ub85c\uadf8\uc778 \uc131\uacf5"},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 8:e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),!M.a.isCancel(e.t0)){e.next=15;break}return console.log("Canceled."),e.abrupt("return");case 15:return r=z.translateErrorMessages(e.t0,{"no user":"\ud574\ub2f9\ud558\ub294 \uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),e.next=18,n.pushMessageModal({Modal:C,props:{message:r},onConfirm:function(){console.log("CONFIRM")},onCancel:function(){console.log("CANCEL 52374")}});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("form",{onSubmit:d,children:Object(w.jsxs)("div",{className:"mx-auto w-100p py-3",style:{width:"".concat(100,"%"),maxWidth:"".concat(20,"em")},children:[Object(w.jsx)("input",{type:"text",className:"form-control",name:"login_id",value:l.login_id,onChange:s,placeholder:"ID"}),Object(w.jsx)("input",{type:"password",className:"form-control",name:"password",value:l.password,onChange:s,placeholder:"PASSWORD"}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"submit",value:"LOGIN",className:"btn btn-primary w-100"})})]})})},L=n(22),U=n(84),W=n(102),Y=n(113);n(261);var B=function(e,t){var n=L.select("body").append("div").attr("class","bubble-tooltip").attr("id",e).style("pointer-events","none");function a(){n.style("opacity",0)}function c(e){var t=n.style("width"),a=n.style("height"),c=window.scrollX,r=window.scrollY,o=document.getElementById?e.clientX+c:e.pageX,l=document.getElementById?e.clientY+r:e.pageY,i=o-c+40+t>window.innerWidth?o-t-40:o+20;i<c+20&&(i=c+20);var s=l-r+20+a>window.innerWidth?l-a-20:l+10;s<r+10&&(s=r+10),n.style("top","".concat(s,"px")).style("left","".concat(i,"px"))}return t&&n.style("width",t),a(),{showTooltip:function(e,t){n.style("opacity",1).html(e),c(t)},hideTooltip:a,updatePosition:c}}("gates_tooltip",240),H=L.scaleOrdinal().domain(["low","medium","high"]).range(["#525b7a","#beccde","#5aa2bc"]),X=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;Object(x.a)(this,n),(a=t.call(this,e)).shouldComponentUpdate=function(){return!1},a.state={g:null};var c=a.props,r=c.forceStrength,o=c.center;return a.simulation=L.forceSimulation().velocityDecay(.2).force("x",L.forceX().strength(r).x(o.x)).force("y",L.forceY().strength(r).y(o.y)).force("charge",L.forceManyBody(a.charge.bind(Object(U.a)(a)))).on("tick",a.ticked.bind(Object(U.a)(a))).stop(),a}return Object(O.a)(n,[{key:"charge",value:function(e){return-this.props.forceStrength*Math.pow(e.radius,2)}},{key:"ticked",value:function(){this.state.g.selectAll(".bubble").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}},{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.renderBubbles(e.data),e.groupByYear!==this.props.groupByYear&&this.regroupBubbles(e.groupByYear)}},{key:"renderBubbles",value:function(e){var t=this,n=this.state.g.selectAll(".bubble").data(e,(function(e){return e.id}));n.exit().remove(),n.enter().append("circle").classed("bubble",!0).attr("r",0).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("fill",(function(e){return H(e.group)})).attr("stroke",(function(e){return L.rgb(H(e.group)).darker()})).attr("stroke-width",2).on("mouseover",G).on("mouseout",V).transition().duration(2e3).attr("r",(function(e){return e.radius})).on("end",(function(){t.simulation.nodes(e).alpha(1).restart()}))}},{key:"regroupBubbles",value:function(e){var t=this.props,n=t.forceStrength,a=t.yearCenters,c=t.center;e?this.simulation.force("x",L.forceX().strength(n).x((function(e){return a[e.year].x}))).force("y",L.forceY().strength(n).y((function(e){return a[e.year].y}))):this.simulation.force("x",L.forceX().strength(n).x(c.x)).force("y",L.forceY().strength(n).y(c.y)),this.simulation.alpha(1).restart()}},{key:"onRef",value:function(e){var t=this;this.setState({g:L.select(e)},(function(){return t.renderBubbles(t.props.data)}))}},{key:"render",value:function(){return Object(w.jsx)("g",{ref:this.onRef.bind(this),className:"bubbles"})}}]),n}(c.a.Component);function G(e){L.select(this).attr("stroke","black");var t='<span class="name">Title: </span><span class="value">'.concat(e.name,"</span><br/>")+'<span class="name">Amount: </span><span class="value">$'.concat(e.value,"</span><br/>")+'<span class="name">Year: </span><span class="value">'.concat(e.year,"</span>");B.showTooltip(t,L.event)}function V(e){L.select(this).attr("stroke",L.rgb(H(e.group)).darker()),B.hideTooltip()}n(262);var J=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onBtnClick=function(t){e.props.onChanged(t.target.name)},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.active;return Object(w.jsxs)("div",{className:"GroupingPicker",children:[Object(w.jsx)("button",{className:"button ".concat("all"===e&&"active"),name:"all",onClick:this.onBtnClick,children:"All Grants"}),Object(w.jsx)("button",{className:"button ".concat("year"===e&&"active"),name:"year",onClick:this.onBtnClick,children:"Grants By Year"})]})}}]),n}(c.a.Component);function q(e){var t=e.yearCenters;return Object(w.jsx)("g",{className:"yearsTitles",children:Object.keys(t).map((function(e){return Object(w.jsx)("text",{x:t[e].x,y:50,fontSize:"35",textAnchor:"middle",alignmentBaseline:"middle",children:e},e)}))})}var Z=function(e){var t=e.width,n=e.height,a=e.children;return Object(w.jsx)("svg",{className:"bubbleChart",width:t,height:n,children:a})},$=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState("all"),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState({}),d=Object(b.a)(s,2),j=d[0],u=d[1];return c.a.useEffect((function(){var e=document.documentElement.scrollWidth,t=document.documentElement.scrollHeight-49;u({width:e,height:t,center:{x:e/2,y:t/2},yearCenters:{2008:{x:e/4,y:t/2},2009:{x:e/2,y:t/2},2010:{x:3/4*e,y:t/2}}});L.csv("/data/gates_money.csv",(function(n,c){if(n)console.log("error",n);else{var r=function(n){if(e&&t){var a=L.max(n,(function(e){return+e.total_amount})),c=L.scalePow().exponent(.5).range([2,85]).domain([0,a]),r=n.map((function(n){return{id:n.id,radius:c(+n.total_amount),value:+n.total_amount,name:n.grant_title,org:n.organization,group:n.group,year:n.start_year,x:Math.random()*e,y:Math.random()*t}}));return r.sort((function(e,t){return t.value-e.value})),r}}(c);a(r)}}))}),[]),Object(w.jsxs)("div",{id:"view_bubble",style:{whiteSpace:"pre-wrap",lineBreak:"anywhere",height:"".concat(100,"%"),overflow:"auto"},children:[Object(w.jsx)(J,{onChanged:function(e){return i(e)},active:l}),j.width&&j.height&&Object(w.jsxs)(Z,{width:j.width,height:j.height,children:[Object(w.jsx)(X,{data:n,forceStrength:.08,center:j.center,yearCenters:j.yearCenters,groupByYear:"year"===l}),"year"===l&&Object(w.jsx)(q,{width:j.width,yearCenters:j.yearCenters})]})]})},ee=n(193),te=n.n(ee),ne=n(41),ae=n.n(ne),ce=function(){var e=c.a.useState({query:"",pageToken:"",bannedChannels:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState([]),d=Object(b.a)(s,2),f=d[0],x=d[1];c.a.useEffect((function(){var e=localStorage.getItem("youtube_history");e&&x(JSON.parse(e))}),[x]);var O=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,r,o,s,d,u,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.pageToken,f.length&&((r=f.slice().pop()).query===n.query&&r.bannedChannels===n.bannedChannels||(c="")),e.prev=2,e.next=5,M.a.get("https://www.googleapis.com/youtube/v3/search",{params:{pageToken:c,key:"AIzaSyA7zpvNp8vqxTGeGCu57iywRBTru-0s0Zo",q:n.query,part:"snippet",fields:"nextPageToken,items(id(videoId),snippet(channelTitle,title,publishTime,thumbnails(medium(url))))",maxResults:50,order:"date",type:"video"}});case 5:o=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return");case 12:s=n.bannedChannels.split(",").map((function(e){return e.trim()})),(d=f.slice()).push(n),x(d),localStorage.setItem("youtube_history",JSON.stringify(d)),a(Object(h.a)(Object(h.a)({},n),{},{pageToken:o.data.nextPageToken})),u=l.map((function(e){return e.id.videoId})),b=o.data.items.filter((function(e){return!(s.indexOf(e.snippet.channelTitle)>=0)&&(!c||!(c&&u.indexOf(e.id.videoId)>=0))})).map((function(e){var t=te.a.decode(e.snippet.title);return Object(h.a)(Object(h.a)({},e),{},{snippet:Object(h.a)(Object(h.a)({},e.snippet),{},{title:t})})})),i(c?l.concat(b):b);case 21:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsx)("div",{className:"flex-shrink-0 d-none d-sm-block overflow-auto bg-gray text-light",style:{width:"".concat(16,"em"),height:"".concat(100,"vh")},children:Object(w.jsx)("nav",{children:Object(w.jsx)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",children:f.map((function(e,t){return Object(w.jsx)("li",{children:Object(w.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(t){return a(e)},children:e.query})},t)}))})})}),Object(w.jsxs)("div",{className:"container-fluid overflow-scroll",style:{height:"100vh"},children:[Object(w.jsxs)("div",{className:"position-sticky",style:{top:0},children:[Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"text",className:"form-control",value:n.query,onChange:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{query:e.target.value}))},onKeyDown:function(e){return p.searchEnter(e,O)}})}),Object(w.jsx)("button",{type:"button",className:"btn btn-primary",onClick:O,children:l.length?"More":"Search"})]}),Object(w.jsx)("div",{className:"d-flex",children:Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"text",className:"form-control",value:n.bannedChannels,onChange:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{bannedChannels:e.target.value}))}})})})]}),Object(w.jsx)("div",{className:"row mt-5",children:l.map((function(e,t,c){var r=e.id.videoId;return Object(w.jsxs)("div",{className:"col-3",children:[Object(w.jsx)("div",{children:Object(w.jsx)("a",{href:"https://www.youtube.com/watch?v=".concat(r),target:"_blank",rel:"noreferrer",children:Object(w.jsx)("img",{src:e.snippet.thumbnails.medium.url,alt:"tmb_".concat(t)})})}),Object(w.jsx)("div",{children:e.snippet.title}),Object(w.jsx)("div",{className:"text-end",children:Object(w.jsxs)("span",{className:"text-danger selectable tooltip",onClick:function(t){var c=n.bannedChannels?e.snippet.channelTitle+","+n.bannedChannels:e.snippet.channelTitle;a(Object(h.a)(Object(h.a)({},n),{},{bannedChannels:c}))},children:[e.snippet.channelTitle,Object(w.jsx)("span",{className:"tooltiptext",children:"Ban this Channel"})]})}),Object(w.jsx)("div",{className:"text-gray-500 text-end",style:{fontSize:"".concat(8,"px")},children:ae()(e.snippet.publishTime).format("YY.MM.DD HH:mm")})]},r)}))})]})]})},re=n(52),oe=n.n(re),le=n(15),ie=n(410),se=n(411),de=n(414),je=n(90),ue=n(88),be=n(109),he=n(110),fe=n(209),xe=n(58),Oe=n(106),me=n(201),pe=n(204),ye=function e(){Object(x.a)(this,e)};ye.hasAnyValue=function(e){return void 0!==e&&null!==e};var ge={return_of_portfolio:"#000",TQQQ:m.lightenDarkenColor(m.makeRandomColor(),-20),QQQ:m.lightenDarkenColor(m.makeRandomColor(),-20),VOO:m.lightenDarkenColor(m.makeRandomColor(),-20),URTH:m.lightenDarkenColor(m.makeRandomColor(),-20),"Ratio:NUSI":"#5AA8"},ve=function(e){var t=e.data,n=c.a.useState({top:"dataMax + 1",bottom:"dataMin - 1"}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState({left:"",right:""}),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useState(),u=Object(b.a)(j,2),f=u[0],x=u[1],O=c.a.useState([]),m=Object(b.a)(O,2),p=m[0],g=m[1],v=c.a.useState({}),S=Object(b.a)(v,2),k=S[0],_=S[1],N=c.a.useCallback((function(e,n){if(t&&t.length){var a,c={},r=[],o=0,l=!1,i=Object(le.a)(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.date===e?(l=!0,c={price_TQQQ:s.price_TQQQ,price_QQQ:s.price_QQQ,price_VOO:s.price_VOO,price_URTH:s.price_URTH}):o=(1+o)*(1+s.return_of_portfolio)-1,l&&(r.push({date:s.date,return_of_portfolio:parseFloat((100*o).toFixed(2)),TQQQ:parseFloat((100*(s.price_TQQQ-c.price_TQQQ)/c.price_TQQQ).toFixed(2)),QQQ:parseFloat((100*(s.price_QQQ-c.price_QQQ)/c.price_QQQ).toFixed(2)),VOO:parseFloat((100*(s.price_VOO-c.price_VOO)/c.price_VOO).toFixed(2)),URTH:parseFloat((100*(s.price_URTH-c.price_URTH)/c.price_URTH).toFixed(2)),"Ratio:NUSI":parseFloat(s.ratio_NUSI).toFixed(2),note:s.note}),s.date===n))break}}catch(d){i.e(d)}finally{i.f()}return r}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=N(t[0].date,t[t.length-1].date);g(e)}}),[t,N]),!p||!p.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});function A(){var e=s.left,t=s.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=N(e,t),c=function(e,t,n){var a,c=[n[0].return_of_portfolio,n[0].return_of_portfolio],r=c[0],o=c[1],l=!1,i=Object(le.a)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.date===e&&(l=!0),l&&(s.return_of_portfolio>o&&(o=s.return_of_portfolio),s.return_of_portfolio<r&&(r=s.return_of_portfolio),s.VOO>o&&(o=s.VOO),s.VOO<r&&(r=s.VOO),s.QQQ>o&&(o=s.QQQ),s.QQQ<r&&(r=s.QQQ),s.TQQQ>o&&(o=s.TQQQ),s.TQQQ<r&&(r=s.TQQQ),s.URTH>o&&(o=s.URTH),s.URTH<r&&(r=s.URTH),s.date===t))break}}catch(d){i.e(d)}finally{i.f()}return[0|Math.floor(r-1),0|Math.ceil(o+1)]}(e,t,a),r=Object(b.a)(c,2),l=r[0],i=r[1];d({left:"",right:""}),o({bottom:l,top:i}),g(a)}else d({left:"",right:""})}var I=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=n.filter((function(e){return"Return of Portfolio"===e.name}))[0];return Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),c&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:c.color},children:"".concat(c.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:c.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:c.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c.value,2).padStart(8," "))})})]}),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),n.map((function(e,t){return"Return of Portfolio"===e.name?null:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value,2).padStart(8," "))})})]},e.name)}))]})})]})},D=function(e){var t=e.x,n=e.y,a=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(w.jsx)("g",{children:Object(w.jsx)("text",{x:t,y:n-2*a,textAnchor:"middle",fontSize:o,fontWeight:l,children:c})}):Object(w.jsx)("g",{})};return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:800,children:Object(w.jsxs)(se.a,{width:800,height:800,data:p,onMouseDown:function(e){return e&&s.left!==e.activeLabel&&d({left:e.activeLabel,right:s.right})},onMouseMove:function(e){e&&ye.hasAnyValue(e.activeTooltipIndex)&&x(e.activeTooltipIndex),e&&s.left&&s.right!==e.activeLabel&&d({right:e.activeLabel,left:s.left})},onMouseUp:function(e){""!==s.left&&""===s.right?function(){var e=N(t[0].date,t[t.length-1].date);d({left:"",right:""}),o({top:"dataMax + 1",bottom:"dataMin - 1"}),g(e)}():A()},onMouseLeave:function(e){x(void 0)},margin:{top:40,right:30,left:30,bottom:50},children:[Object(w.jsx)(de.a,{strokeDasharray:"3 3"}),Object(w.jsx)(je.a,{content:Object(w.jsx)(I,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0},onMouseEnter:function(e){var t=e.dataKey;_(Object(h.a)(Object(h.a)({},k),{},Object(R.a)({},t,3)))},onMouseLeave:function(e){var t=e.dataKey;_(Object(h.a)(Object(h.a)({},k),{},Object(R.a)({},t,1)))}}),Object(w.jsx)(be.a,{allowDataOverflow:!0,dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{yAxisId:"left",allowDataOverflow:!0,domain:[r.bottom,r.top],tickFormatter:function(e){return parseFloat(e.toFixed(2))}}),Object(w.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_portfolio",name:"Return of Portfolio",stroke:ge.return_of_portfolio,strokeWidth:2,animationDuration:300,children:Object(w.jsx)(xe.a,{dataKey:"return_of_portfolio",content:D,fontWeight:"bold"})}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"TQQQ",dataKey:"TQQQ",stroke:ge.TQQQ,strokeWidth:k.TQQQ||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"QQQ",dataKey:"QQQ",stroke:ge.QQQ,strokeWidth:k.QQQ||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"VOO",dataKey:"VOO",stroke:ge.VOO,strokeWidth:k.VOO||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"URTH",dataKey:"URTH",stroke:ge.URTH,strokeWidth:k.URTH||2,animationDuration:300,dot:!1}),Object(w.jsx)("defs",{children:Object(w.jsxs)("linearGradient",{id:"colorSafetyAssetRatio",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(w.jsx)("stop",{offset:"20%",stopColor:ge["Ratio:NUSI"],stopOpacity:.8}),Object(w.jsx)("stop",{offset:"75%",stopColor:ge["Ratio:NUSI"],stopOpacity:0})]})}),Object(w.jsx)(Oe.a,{yAxisId:"right",type:"monotone",name:"Ratio:NUSI",dataKey:"Ratio:NUSI",stroke:ge["Ratio:NUSI"],fillOpacity:1,fill:"url(#colorSafetyAssetRatio)",children:Object(w.jsx)(xe.a,{dataKey:"Ratio:NUSI",fontSize:10,content:D})}),Object(w.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#888"}),s.left&&s.right?Object(w.jsx)(pe.a,{yAxisId:"left",x1:s.left,x2:s.right,strokeOpacity:.3}):null]})})}),ye.hasAnyValue(f)&&p[f]&&p[f].note&&Object(w.jsxs)("div",{className:"position-fixed p-3 bg-light rounded",style:{top:10,left:10},children:[Object(w.jsx)("div",{className:"fw-bold",children:p[f].date}),Object(w.jsx)("div",{style:{lineBreak:"anywhere",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:p[f].note})]})]})},Se=n(415),ke={TQQQ:m.lightenDarkenColor(m.makeRandomColor(),-50),NUSI:m.lightenDarkenColor(m.makeRandomColor(),-50),trade:m.lightenDarkenColor(m.makeRandomColor(),-50)},_e=function(e){var t=e.data,n=c.a.useState({left:"",right:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,n){if(t&&t.length){var a,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===n))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});var u=function(e){var t=e.active,n=e.payload,a=e.label;return t&&n&&n.length?Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),n.map((function(e){var t=(100*e.value/e.payload.total).toFixed(2).padStart(5," ");return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," ")," (").concat(t,"%)")})})]},e.name)})).reverse(),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{className:"fw-bolder",style:{color:"black"},children:"Total"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:"black"},children:" :  "})}),Object(w.jsx)("td",{className:"text-end",children:Object(w.jsx)("code",{className:"text-dark fw-bolder",style:{textAlign:"end",fontSize:"".concat(14,"px")},children:"\uffe6 ".concat(y.number2commadStringWithIntl(n[0].payload.total))})})]})]})})]}):null},f=function(e){var t=e.x,n=e.y,a=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(w.jsx)("g",{children:Object(w.jsx)("text",{x:t,y:n-a,textAnchor:"middle",fontSize:o,fontWeight:l,children:y.number2shortenString(c)})}):Object(w.jsx)("g",{})};return Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:600,children:Object(w.jsxs)(Se.a,{width:500,height:400,data:s,defaultShowTooltip:!0,margin:{top:20,right:30,left:30,bottom:50},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=j(e,t);o({left:"",right:""}),d(a)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(w.jsx)(de.a,{strokeDasharray:"1 2"}),Object(w.jsx)(be.a,{dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{allowDataOverflow:!0,domain:[0,function(e){return parseInt(1.1*e)}],fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(je.a,{content:Object(w.jsx)(u,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(w.jsxs)(Oe.a,{type:"monotone",name:"Trade",dataKey:"trade",stackId:"1",stroke:ke.trade,fill:ke.trade,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"ratio_trade",position:"insideTopLeft",offset:5,fontSize:10})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"NUSI",stackId:"1",stroke:ke.NUSI,fill:ke.NUSI,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"ratio_NUSI",position:"insideTopLeft",offset:5,fontSize:10})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"TQQQ",stackId:"1",stroke:ke.TQQQ,fill:ke.TQQQ,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"ratio_TQQQ",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){return e}}),null!=s&&s.length>25?Object(w.jsx)(xe.a,{name:"Total",dataKey:"total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2shortenString(e)},content:f}):Object(w.jsx)(xe.a,{name:"Total",dataKey:"total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2commadStringWithIntl(e)},content:f})]}),r.left&&r.right?Object(w.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},Ne=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useRef(),d=c.a.useCallback((function(e){var t=[],n=[],a={};return Object.keys(e).forEach((function(c){"assets"===c&&e[c].forEach((function(e){var c=g.serialDateToJSDate(e.date),r=ae()(c).format("YY.MM.DD");delete e.date,void 0===e.note?a[r]="":a[r]=e.note,n.push({date:r,return_of_portfolio:e.p_return,price_TQQQ:e.price_TQQQ,price_QQQ:e.price_QQQ,price_VOO:e.price_VOO,price_URTH:e.price_URTH,ratio_NUSI:e.ratio_NUSI,note:e.note||""});var o={},l={};["TQQQ","NUSI","trade"].forEach((function(t){o["".concat(t)]=e["".concat(t)],l["ratio_".concat(t)]=parseFloat(e["ratio_".concat(t)]).toFixed(2)})),t.push(Object(h.a)(Object(h.a)({date:r,total:e.total},o),l))}))})),{total_asset_data:t,alpha_data:n,note_data:a}}),[]);return c.a.useEffect((function(){var e=localStorage.getItem("last_finance_data");if(e){var t=JSON.parse(e);try{var n=d(t),c=n.total_asset_data,r=n.alpha_data;a(c),i(r)}catch(o){localStorage.removeItem("last_finance_data"),window.location.reload()}}}),[d]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-start fw-bold my-5 px-4 w-100",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"TRADE HISTORY"}),Object(w.jsxs)("div",{className:"mt-5 d-flex justify-content-center w-100",children:[Object(w.jsx)("div",{className:"pe-2",children:Object(w.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=YourIndividualID","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("form",{ref:s,children:Object(w.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var n=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=n})),s.current.reset(),localStorage.setItem("last_finance_data",JSON.stringify(c));var r=d(c),o=r.total_asset_data,l=r.alpha_data;a(o),i(l)},n.readAsBinaryString(t.files[0])}})}),Object(w.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:"TOTAL ASSET RATIO"})})}),Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)(_e,{data:n})}),Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:"ALPHA"})})}),Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)(ve,{data:l})})]})},we={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-20),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-20),"S&P200":m.lightenDarkenColor(m.makeRandomColor(),-20),LUXUARY:m.lightenDarkenColor(m.makeRandomColor(),-20),Global_Index:m.lightenDarkenColor(m.makeRandomColor(),-20),return_of_asset:"#000",return_of_day_trade:"#F00",safety_asset_ratio:"#5AA8"},Ae=function(e){var t=e.data,n=c.a.useState({top:"dataMax + 1",bottom:"dataMin - 1"}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState({left:"",right:""}),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useState(),u=Object(b.a)(j,2),f=u[0],x=u[1],O=c.a.useState([]),m=Object(b.a)(O,2),p=m[0],g=m[1],v=c.a.useState({}),S=Object(b.a)(v,2),k=S[0],_=S[1],N=c.a.useCallback((function(e,n){if(t&&t.length){var a,c={},r=[],o=0,l=0,i=!1,s=Object(le.a)(t);try{for(s.s();!(a=s.n()).done;){var d=a.value;if(d.date===e&&(i=!0,c={KOSPI:d.KOSPI,"S&P500":d["S&P500"],NASDAQ:d.NASDAQ,LUXUARY:d.LUXUARY,Global_Index:d.Global_Index},l=d.day_trade||0,o=d.return_of_asset||0),i&&(r.push({date:d.date,return_of_asset:void 0===d.return_of_asset?0:parseFloat((d.return_of_asset-o).toFixed(2)),return_of_day_trade:void 0===d.day_trade?0:parseFloat((d.day_trade-l).toFixed(2)),KOSPI:parseFloat((100*(d.KOSPI-c.KOSPI)/c.KOSPI).toFixed(2)),"S&P500":parseFloat((100*(d["S&P500"]-c["S&P500"])/c["S&P500"]).toFixed(2)),NASDAQ:parseFloat((100*(d.NASDAQ-c.NASDAQ)/c.NASDAQ).toFixed(2)),LUXUARY:parseFloat((100*(d.LUXUARY-c.LUXUARY)/c.LUXUARY).toFixed(2)),Global_Index:parseFloat((100*(d.Global_Index-c.Global_Index)/c.Global_Index).toFixed(2)),safety_asset_ratio:d.safety_asset_ratio,memo:d.memo}),d.date===n))break}}catch(j){s.e(j)}finally{s.f()}return r}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=N(t[0].date,t[t.length-1].date);g(e)}}),[t,N]),!p||!p.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});function A(){var e=s.left,t=s.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=N(e,t),c=function(e,t,n){var a,c=[n[0].return_of_asset,n[0].return_of_asset],r=c[0],o=c[1],l=!1,i=Object(le.a)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.date===e&&(l=!0),l&&(s.return_of_asset>o&&(o=s.return_of_asset),s.return_of_asset<r&&(r=s.return_of_asset),s.return_of_day_trade>o&&(o=s.return_of_day_trade),s.return_of_day_trade<r&&(r=s.return_of_day_trade),s["S&P500"]>o&&(o=s["S&P500"]),s["S&P500"]<r&&(r=s["S&P500"]),s.NASDAQ>o&&(o=s.NASDAQ),s.NASDAQ<r&&(r=s.NASDAQ),s.KOSPI>o&&(o=s.KOSPI),s.KOSPI<r&&(r=s.KOSPI),s.Global_Index>o&&(o=s.Global_Index),s.Global_Index<r&&(r=s.Global_Index),s.date===t))break}}catch(d){i.e(d)}finally{i.f()}return[0|Math.floor(r-1),0|Math.ceil(o+1)]}(e,t,a),r=Object(b.a)(c,2),l=r[0],i=r[1];d({left:"",right:""}),o({bottom:l,top:i}),g(a)}else d({left:"",right:""})}var I=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=n.filter((function(e){return"Return of Asset"===e.name}))[0],r=n.filter((function(e){return"Return of DayTrade"===e.name}))[0];return Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),c&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:c.color},children:"".concat(c.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:c.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:c.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c.value).padStart(8," "))})})]}),r&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(8," "))})})]}),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),n.map((function(e,t){return"Return of Asset"===e.name||"Return of DayTrade"===e.name?null:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(8," "))})})]},e.name)}))]})})]})},D=function(e){var t=e.x,n=e.y,a=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(w.jsx)("g",{children:Object(w.jsx)("text",{x:t,y:n-2*a,textAnchor:"middle",fontSize:o,fontWeight:l,children:c})}):Object(w.jsx)("g",{})};return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:800,children:Object(w.jsxs)(se.a,{width:800,height:800,data:p,onMouseDown:function(e){return e&&s.left!==e.activeLabel&&d({left:e.activeLabel,right:s.right})},onMouseMove:function(e){e&&ye.hasAnyValue(e.activeTooltipIndex)&&x(e.activeTooltipIndex),e&&s.left&&s.right!==e.activeLabel&&d({right:e.activeLabel,left:s.left})},onMouseUp:function(e){""!==s.left&&""===s.right?function(){var e=N(t[0].date,t[t.length-1].date);d({left:"",right:""}),o({top:"dataMax + 1",bottom:"dataMin - 1"}),g(e)}():A()},onMouseLeave:function(e){x(void 0)},margin:{top:40,right:30,left:30,bottom:50},children:[Object(w.jsx)(de.a,{strokeDasharray:"3 3"}),Object(w.jsx)(je.a,{content:Object(w.jsx)(I,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0},onMouseEnter:function(e){var t=e.dataKey;_(Object(h.a)(Object(h.a)({},k),{},Object(R.a)({},t,3)))},onMouseLeave:function(e){var t=e.dataKey;_(Object(h.a)(Object(h.a)({},k),{},Object(R.a)({},t,1)))}}),Object(w.jsx)(be.a,{allowDataOverflow:!0,dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{yAxisId:"left",allowDataOverflow:!0,domain:[r.bottom,r.top],tickFormatter:function(e){return parseFloat(e.toFixed(2))}}),Object(w.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_asset",name:"Return of Asset",stroke:we.return_of_asset,strokeWidth:2,animationDuration:300,children:Object(w.jsx)(xe.a,{dataKey:"return_of_asset",content:D,fontWeight:"bold"})}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",dataKey:"return_of_day_trade",name:"Return of DayTrade",stroke:we.return_of_day_trade,strokeWidth:2,animationDuration:300,children:Object(w.jsx)(xe.a,{dataKey:"return_of_day_trade",content:D,fontWeight:"bold"})}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"KOSPI",dataKey:"KOSPI",stroke:we.KOSPI,strokeWidth:k.KOSPI||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"S&P500",dataKey:"S&P500",stroke:we["S&P500"],strokeWidth:k["S&P500"]||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"NASDAQ",dataKey:"NASDAQ",stroke:we.NASDAQ,strokeWidth:k.NASDAQ||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"LUXUARY",dataKey:"LUXUARY",stroke:we.LUXUARY,strokeWidth:k.LUXUARY||1,animationDuration:300,dot:!1}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"natural",name:"Global_Index",dataKey:"Global_Index",stroke:we.Global_Index,strokeWidth:k.Global_Index||2,animationDuration:300,dot:!1}),Object(w.jsx)("defs",{children:Object(w.jsxs)("linearGradient",{id:"colorSafetyAssetRatio",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(w.jsx)("stop",{offset:"20%",stopColor:we.safety_asset_ratio,stopOpacity:.8}),Object(w.jsx)("stop",{offset:"75%",stopColor:we.safety_asset_ratio,stopOpacity:0})]})}),Object(w.jsx)(Oe.a,{yAxisId:"right",type:"monotone",name:"Safety Asset Ratio",dataKey:"safety_asset_ratio",stroke:we.safety_asset_ratio,fillOpacity:1,fill:"url(#colorSafetyAssetRatio)",children:Object(w.jsx)(xe.a,{dataKey:"safety_asset_ratio",fontSize:10,content:D})}),Object(w.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#888"}),s.left&&s.right?Object(w.jsx)(pe.a,{yAxisId:"left",x1:s.left,x2:s.right,strokeOpacity:.3}):null]})})}),ye.hasAnyValue(f)&&p[f]&&p[f].memo&&Object(w.jsxs)("div",{className:"position-fixed p-3 bg-light rounded",style:{top:10,left:10},children:[Object(w.jsx)("div",{className:"fw-bold",children:p[f].date}),Object(w.jsx)("div",{style:{lineBreak:"anywhere",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:p[f].memo})]})]})},Ie=n(211),De={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-20),Won:m.lightenDarkenColor(m.makeRandomColor(),-20),Dollar:m.lightenDarkenColor(m.makeRandomColor(),-20),LUXUARY:m.lightenDarkenColor(m.makeRandomColor(),-20),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-20),Reits:m.lightenDarkenColor(m.makeRandomColor(),-20),"S&P500":m.lightenDarkenColor(m.makeRandomColor(),-20),"Stocks-KR":m.lightenDarkenColor(m.makeRandomColor(),-20),"Stocks-US":m.lightenDarkenColor(m.makeRandomColor(),-20),"T-bond_I":m.lightenDarkenColor(m.makeRandomColor(),-20)},Ce=function(e){var t=e.data,n=c.a.useState({left:"",right:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,n){if(t&&t.length){var a,c=[],r=!1,o=0,l=Object(le.a)(t);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(i.date===e&&(r=!0,o=i.accumulation-i.total),r&&(c.push(Object(h.a)(Object(h.a)({},i),{},{accumulation:i.accumulation-o})),i.date===n))break}}catch(s){l.e(s)}finally{l.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});var u=t[0].buy_volume||0,f=t[0].buy_volume||0,x=t[0].count||0,O=t[0].count||0;t.forEach((function(e){e.buy_volume<u&&(u=e.buy_volume),e.sell_volume<u&&(u=e.sell_volume),e.buy_volume>f&&(f=e.buy_volume),e.sell_volume>f&&(f=e.sell_volume),e.count<x&&(x=e.count),e.count>O&&(O=e.count)}));var m=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var c=n[0].payload.total,r="#555",o=n.filter((function(e){return"Accumulation"===e.name}))[0];return Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),n.map((function(e,t){return"Accumulation"===e.name?null:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," "))})})]},e.name)})),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r},children:"Total"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:r,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(c).padStart(14," "))})})]}),o&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]})]})})]})};return Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:400,children:Object(w.jsxs)(se.a,{width:500,height:300,data:s,margin:{top:30,right:30,left:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=j(e,t);o({left:"",right:""}),d(a)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",wrapperStyle:{top:0}}),Object(w.jsx)(de.a,{strokeDasharray:"3 3"}),Object(w.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8}),Object(w.jsx)(he.a,{yAxisId:"left",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(he.a,{yAxisId:"right",orientation:"right",fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(je.a,{content:Object(w.jsx)(m,{})}),Object(w.jsx)(me.a,{yAxisId:"left",y:0,stroke:"#000"}),Object(w.jsx)(Ie.a,{yAxisId:"left",dataKey:"KOSPI",fill:De.KOSPI,stackId:"stack"}),Object(w.jsx)(Ie.a,{yAxisId:"left",dataKey:"S&P500",fill:De["S&P500"],stackId:"stack"}),Object(w.jsx)(Ie.a,{yAxisId:"left",dataKey:"NASDAQ",fill:De.NASDAQ,stackId:"stack"}),Object(w.jsx)(Ie.a,{yAxisId:"left",dataKey:"LUXUARY",fill:De.LUXUARY,stackId:"stack"}),Object(w.jsx)(fe.a,{yAxisId:"right",type:"natural",name:"Accumulation",dataKey:"accumulation",stroke:"#D44",strokeWidth:2}),r.left&&r.right?Object(w.jsx)(pe.a,{x1:r.left,x2:r.right,yAxisId:"left",strokeOpacity:.3}):null]})})})},Te=n(108),Re=n(212),Qe=function(e){var t=e.data,n=c.a.useState({left:"",right:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,n){if(t&&t.length){var a,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===n))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});var u=t[0].buy_volume||0,f=t[0].buy_volume||0,x=t[0].count||0,O=t[0].count||0;t.forEach((function(e){e.buy_volume<u&&(u=e.buy_volume),e.sell_volume<u&&(u=e.sell_volume),e.buy_volume>f&&(f=e.buy_volume),e.sell_volume>f&&(f=e.sell_volume),e.count<x&&(x=e.count),e.count>O&&(O=e.count)}));var m=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var r,o,l,i,s=n[0].payload;return n.forEach((function(e){switch(e.name){case"price":r=e;break;case"average price":o=e;break;case"buy":l=e;break;case"sell":i=e}})),l&&(l.buy_volume=s.buy_volume),i&&(i.sell_volume=s.sell_volume),o&&(o.count=s.count),Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),r&&r.value&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(14," "))})})]},r.name),o&&o.value&&o.count&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:"".concat(o.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]},o.name),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:"count"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.count).padStart(14," "))})})]},"count")]}),(l&&l.value&&l.buy_volume||i&&i.value&&i.sell_volume)&&Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),l&&l.value&&l.buy_volume&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:"buy_price"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.value).padStart(14," "))})})]},l.name),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:"buy_volume"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.buy_volume).padStart(14," "))})})]},"buy_volume")]}),i&&i.value&&i.sell_volume&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:"sell_price"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.value).padStart(14," "))})})]},i.name),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:"sell_volume"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.sell_volume).padStart(14," "))})})]},"sell_volume")]})]})})]})},p=function(e){var t=e.cx,n=e.cy,a=e.stroke,c=e.payload.count;if(c<1)return null;var r=c/O*512;return Object(w.jsx)("svg",{x:t-20,y:n-20,width:40,height:40,fill:a,fillOpacity:.2,viewBox:"0 0 1024 1024",children:Object(w.jsx)("circle",{cx:512,cy:512,r:r})})};return Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:400,children:Object(w.jsxs)(se.a,{width:500,height:400,data:s,margin:{top:10,left:30,right:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=j(e,t);o({left:"",right:""}),d(a)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(w.jsx)(de.a,{stroke:"#DDD"}),Object(w.jsx)(je.a,{content:Object(w.jsx)(m,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",height:36,iconSize:12}),Object(w.jsx)(be.a,{dataKey:"date",domain:["auto","auto"],fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{fontSize:10,domain:[function(e){return parseInt(.995*e)},function(e){return parseInt(1.005*e)}],tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(Te.a,{dataKey:"sell_volume",name:"sell_volume",domain:[u,f],range:[50,500],unit:"ea",zAxisId:"sell_vol"}),Object(w.jsx)(Te.a,{dataKey:"buy_volume",name:"buy_volume",domain:[u,f],range:[50,500],unit:"ea",zAxisId:"buy_vol"}),Object(w.jsx)(fe.a,{type:"natural",dataKey:"price"}),Object(w.jsx)(fe.a,{type:"natural",name:"average price",dataKey:"a_price",stroke:"#0A0",dot:Object(w.jsx)(p,{})}),Object(w.jsx)(Re.a,{name:"sell",dataKey:"sell_price",shape:"circle",stroke:"#00F",fillOpacity:.5,fill:"#00F9",legendType:"circle",zAxisId:"sell_vol"}),Object(w.jsx)(Re.a,{name:"buy",dataKey:"buy_price",shape:"circle",stroke:"#F00",fillOpacity:.5,fill:"#F009",legendType:"circle",zAxisId:"buy_vol"}),r.left&&r.right?Object(w.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},Me={KOSPI:m.lightenDarkenColor(m.makeRandomColor(),-50),Won:m.lightenDarkenColor(m.makeRandomColor(),-50),Dollar:m.lightenDarkenColor(m.makeRandomColor(),-50),Luxuary:m.lightenDarkenColor(m.makeRandomColor(),-50),NASDAQ:m.lightenDarkenColor(m.makeRandomColor(),-50),Reits:m.lightenDarkenColor(m.makeRandomColor(),-50),"S&P500":m.lightenDarkenColor(m.makeRandomColor(),-50),"Stocks-KR":m.lightenDarkenColor(m.makeRandomColor(),-50),"Stocks-US":m.lightenDarkenColor(m.makeRandomColor(),-50),"T-bond_I":m.lightenDarkenColor(m.makeRandomColor(),-50),"P-Metal":m.lightenDarkenColor(m.makeRandomColor(),-50)},Ee=function(e){var t=e.data,n=c.a.useState({left:"",right:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,n){if(t&&t.length){var a,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.date===e&&(r=!0),r&&(c.push(l),l.date===n))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date,t[t.length-1].date);d(e)}}),[t,j]),!s||!s.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});var u=function(e){var t=e.active,n=e.payload,a=e.label;return t&&n&&n.length?Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),n.map((function(e){var t=(100*e.value/e.payload.Total).toFixed(2).padStart(5," ");return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:"".concat(e.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:e.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:e.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(e.value).padStart(14," ")," (").concat(t,"%)")})})]},e.name)})).reverse(),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{className:"fw-bolder",style:{color:"black"},children:"Total"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:"black"},children:" :  "})}),Object(w.jsx)("td",{className:"text-end",children:Object(w.jsx)("code",{className:"text-dark fw-bolder",style:{textAlign:"end",fontSize:"".concat(14,"px")},children:"\uffe6 ".concat(y.number2commadStringWithIntl(n[0].payload.Total))})})]})]})})]}):null},f=function(e){var t=e.x,n=e.y,a=e.offset,c=e.value,r=e.index,o=e.fontSize,l=e.fontWeight;return r%2===0?Object(w.jsx)("g",{children:Object(w.jsx)("text",{x:t,y:n-a,textAnchor:"middle",fontSize:o,fontWeight:l,children:y.number2shortenString(c)})}):Object(w.jsx)("g",{})};return Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:600,children:Object(w.jsxs)(Se.a,{width:500,height:400,data:s,defaultShowTooltip:!0,margin:{top:20,right:30,left:30,bottom:50},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date,t[t.length-1].date);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=j(e,t);o({left:"",right:""}),d(a)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(w.jsx)(de.a,{strokeDasharray:"1 2"}),Object(w.jsx)(be.a,{dataKey:"date",fontSize:10,angle:-40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{allowDataOverflow:!0,domain:[0,function(e){return parseInt(1.1*e)}],fontSize:10,tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(je.a,{content:Object(w.jsx)(u,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",iconSize:20,wrapperStyle:{top:0}}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Won",stackId:"1",stroke:Me.Won,fill:Me.Won,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Won",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Dollar",stackId:"1",stroke:Me.Dollar,fill:Me.Dollar,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Dollar",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"KOSPI",stackId:"1",stroke:Me.KOSPI,fill:Me.KOSPI,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_KOSPI",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"S&P500",stackId:"1",stroke:Me["S&P500"],fill:Me["S&P500"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_S&P500",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"NASDAQ",stackId:"1",stroke:Me.NASDAQ,fill:Me.NASDAQ,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_NASDAQ",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Luxuary",stackId:"1",stroke:Me.Luxuary,fill:Me.Luxuary,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Luxuary",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Stocks-KR",stackId:"1",stroke:Me["Stocks-KR"],fill:Me["Stocks-KR"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Stocks-KR",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Stocks-US",stackId:"1",stroke:Me["Stocks-US"],fill:Me["Stocks-US"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Stocks-US",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"Reits",stackId:"1",stroke:Me.Reits,fill:Me.Reits,animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_Reits",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"T-bond_I",stackId:"1",stroke:Me["T-bond_I"],fill:Me["T-bond_I"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_T-bond_I",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}})," "]}),Object(w.jsxs)(Oe.a,{type:"monotone",dataKey:"P-Metal",stackId:"1",stroke:Me["P-Metal"],fill:Me["P-Metal"],animationDuration:300,children:[null!=s&&s.length>25?null:Object(w.jsx)(xe.a,{dataKey:"PERCENT_P-Metal",position:"insideTopLeft",offset:5,fontSize:10,formatter:function(e){if(e>2)return e.toFixed(2)}}),null!=s&&s.length>25?Object(w.jsx)(xe.a,{dataKey:"Total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2shortenString(e)},content:f}):Object(w.jsx)(xe.a,{dataKey:"Total",position:"top",offset:14,fontSize:10,formatter:function(e){return y.number2commadStringWithIntl(e)},content:f})]}),r.left&&r.right?Object(w.jsx)(pe.a,{x1:r.left,x2:r.right,strokeOpacity:.3}):null]})})})},Ke=function(){var e=c.a.useState([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState({}),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState({}),d=Object(b.a)(s,2),j=d[0],u=d[1],f=c.a.useState("KOSPI"),x=Object(b.a)(f,2),O=x[0],m=x[1],p=c.a.useState([]),y=Object(b.a)(p,2),v=y[0],S=y[1],k=l[O]||[],_=c.a.useRef(),N=c.a.useCallback((function(e){var t=[],n={},a={},c=[],r={},o=[];Object.keys(e).forEach((function(c){"Total"===c?e[c].forEach((function(e){var n=g.serialDateToJSDate(e["\uc77c\uc790"]),a=ae()(n).format("YY.MM.DD");delete e["\uc77c\uc790"],r[a]||(r[a]={}),r[a].return_of_asset=parseFloat((e.c_return||0).toFixed(2)),r[a].memo=e.memo;var c=(100*parseFloat(e.cash_ratio)).toFixed(2);r[a].safety_asset_ratio=c;var o={};["Won","Dollar","KOSPI","S&P500","NASDAQ","Luxuary","Reits","Stocks-KR","Stocks-US","T-bond_I","P-Metal"].forEach((function(t){o["PERCENT_".concat(t)]=function(t){return parseFloat((100*e[t]/e.Total).toFixed(2))}(t)})),t.push(Object(h.a)(Object(h.a)(Object(h.a)({},e),o),{},{date:a}))})):"KOSPI"===c||"S&P500"===c||"NASDAQ"===c||"LUXUARY"===c?n[c]=e[c].map((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]),n=ae()(t).format("YY.MM.DD");if(a[n]||(a[n]={total:0}),e["\ub9e4\uc218\ub7c9"]&&e["\ub9e4\ub3c4\ub7c9"]){var o=Math.min(e["\ub9e4\uc218\ub7c9"],e["\ub9e4\ub3c4\ub7c9"]),l=(e["\ub9e4\ub3c4\uac00\uaca9"]-e["\ub9e4\uc218\uac00\uaca9"])*o;a[n][c]=l,a[n].total+=l}return"KOSPI"!==c&&"S&P500"!==c&&"NASDAQ"!==c||(r[n]||(r[n]={}),r[n][c]=e.x1),"LUXUARY"===c&&(r[n]||(r[n]={}),r[n][c]=e["\uac00\uaca9"]),{date:n,price:e["\uac00\uaca9"],buy_price:e["\ub9e4\uc218\uac00\uaca9"],sell_price:e["\ub9e4\ub3c4\uac00\uaca9"],buy_volume:e["\ub9e4\uc218\ub7c9"],sell_volume:e["\ub9e4\ub3c4\ub7c9"],a_price:e["\ud3c9\uade0\ub2e8\uac00"],count:e["\ubcf4\uc720\ub7c9"]}})):"day_trade"===c?e[c].forEach((function(e){var t=ae()(g.serialDateToJSDate(e.date)).format("YY.MM.DD");r[t]||(r[t]={}),r[t][c]=parseFloat(e.return.toFixed(2))})):"Global_Index"===c&&e[c].forEach((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"]),n=ae()(t).format("YY.MM.DD");r[n]||(r[n]={}),r[n][c]=e["\uac00\uaca9"]}))}));var l=0;return Object.keys(a).forEach((function(e,t){l+=a[e].total,c.push(Object(h.a)(Object(h.a)({date:e},a[e]),{},{accumulation:l}))})),Object.keys(r).forEach((function(e,t){o.push(Object(h.a)({date:e},r[e]))})),{total_asset_data:t,algorithm_trade_data:n,arbitrage_data:c,alpha_data:o}}),[]);return c.a.useEffect((function(){var e=localStorage.getItem("last_finance_data");if(e){var t=JSON.parse(e);try{var n=N(t),c=n.total_asset_data,r=n.algorithm_trade_data,o=n.arbitrage_data,l=n.alpha_data;a(c),i(r),S(o),u(l)}catch(s){localStorage.removeItem("last_finance_data"),window.location.reload()}}}),[N]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-start fw-bold my-5 px-4 w-100",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"TRADE HISTORY"}),Object(w.jsxs)("div",{className:"mt-5 d-flex justify-content-center w-100",children:[Object(w.jsx)("div",{className:"pe-2",children:Object(w.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=YourIndividualID","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("form",{ref:_,children:Object(w.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var n=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=n})),_.current.reset(),localStorage.setItem("last_finance_data",JSON.stringify(c));var r=N(c),o=r.total_asset_data,l=r.algorithm_trade_data,s=r.arbitrage_data,d=r.alpha_data;a(o),i(l),S(s),u(d)},n.readAsBinaryString(t.files[0])}})}),Object(w.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:"ALGORITHM TRADE"})})}),Object(w.jsx)("div",{className:"mt-5 px-3 fw-bold",children:"Select data"}),Object(w.jsx)("div",{className:"px-3 d-flex flex-wrap",children:Object.keys(l).map((function(e,t){return Object(w.jsxs)("div",{className:"form-check px-3 py-2",children:[Object(w.jsx)("input",{className:"form-check-input",type:"radio",name:"radio_".concat(e),id:"radio_".concat(e),checked:O===e,onChange:function(t){return m(e)}}),Object(w.jsx)("label",{className:"form-check-label",htmlFor:"radio_".concat(e),children:e})]},t)}))}),Object(w.jsx)("div",{className:"mt-4",children:Object(w.jsx)(Qe,{data:k})}),Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)(Ce,{data:v})}),Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:"TOTAL ASSET RATIO"})})}),Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)(Ee,{data:n})}),Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:"ALPHA"})})}),Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)(Ae,{data:j})})]})},Fe=function(e){var t=e.data,n=c.a.useState({left:"",right:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],l=c.a.useState(t),i=Object(b.a)(l,2),s=i[0],d=i[1],j=c.a.useCallback((function(e,n){if(t&&t.length){var a,c=[],r=!1,o=Object(le.a)(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.date_time===e&&(r=!0),r&&(c.push(l),l.date_time===n))break}}catch(i){o.e(i)}finally{o.f()}return c}}),[t]);if(c.a.useEffect((function(){if(t&&t.length){var e=j(t[0].date_time,t[t.length-1].date_time);d(e)}}),[t,j]),!s||!s.length)return Object(w.jsx)("div",{className:"text-center py-4 text-light",style:{background:"#EDD"},children:Object(w.jsx)("h2",{children:"NO DATA"})});var u,f=t[0].buy_volume||0,x=t[0].buy_volume||0,O=Object(le.a)(t);try{for(O.s();!(u=O.n()).done;){var m=u.value;(m.buy_volume||m.sell_volume)&&(m.buy_volume<f&&(f=m.buy_volume),m.sell_volume<f&&(f=m.sell_volume),m.buy_volume>x&&(x=m.buy_volume),m.sell_volume>x&&(x=m.sell_volume))}}catch(g){O.e(g)}finally{O.f()}var p=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||!n||!n.length)return null;var r,o,l,i,s=n[0].payload;return n.forEach((function(e){switch(e.name){case"price":r=e;break;case"buy":o=e;break;case"sell":l=e;break;case"rsi":i=e}})),o&&(o.buy_volume=s.buy_volume),l&&(l.sell_volume=s.sell_volume),Object(w.jsxs)("div",{className:"bg-light p-2 border rounded",style:{fontSize:"".concat(12,"px"),whiteSpace:"pre"},children:[Object(w.jsx)("p",{className:"fs-5 fw-bold text-center",children:a}),Object(w.jsx)("table",{children:Object(w.jsxs)("tbody",{children:[Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),r&&r.value&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:"".concat(r.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:r.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:r.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(r.value).padStart(14," "))})})]},r.name),i&&i.value&&Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:"".concat(i.name)})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:i.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:i.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(i.value).padStart(14," "))})})]},i.name),(o&&o.value&&o.buy_volume||l&&l.value&&l.sell_volume)&&Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:3,children:Object(w.jsx)("hr",{className:"my-2"})})}),o&&o.value&&o.buy_volume&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:"buy_price"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.value).padStart(14," "))})})]},o.name),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:"buy_volume"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:o.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:o.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(o.buy_volume).padStart(14," "))})})]},"buy_volume")]}),l&&l.value&&l.sell_volume&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:"sell_price"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.value).padStart(14," "))})})]},l.name),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:"sell_volume"})}),Object(w.jsx)("td",{children:Object(w.jsx)("p",{style:{color:l.color},children:" :  "})}),Object(w.jsx)("td",{children:Object(w.jsx)("code",{className:"w-100",style:{color:l.color,textAlign:"end",fontSize:"".concat(14,"px")},children:"".concat(y.number2commadStringWithIntl(l.sell_volume).padStart(14," "))})})]},"sell_volume")]})]})})]})};return Object(w.jsx)("div",{style:{userSelect:"none"},children:Object(w.jsx)(ie.a,{width:"100%",height:400,children:Object(w.jsxs)(se.a,{width:500,height:400,data:s,margin:{top:10,left:30,right:30,bottom:20},onMouseDown:function(e){return e&&r.left!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{left:e.activeLabel}))},onMouseMove:function(e){return e&&r.left&&r.right!==e.activeLabel&&o(Object(h.a)(Object(h.a)({},r),{},{right:e.activeLabel}))},onMouseUp:function(e){""!==r.left&&""===r.right?function(){var e=j(t[0].date_time,t[t.length-1].date_time);o({left:"",right:""}),d(e)}():function(){var e=r.left,t=r.right;if(e!==t&&""!==t){if(e>t){var n=[t,e];e=n[0],t=n[1]}var a=j(e,t);o({left:"",right:""}),d(a)}else o(Object(h.a)(Object(h.a)({},r),{},{left:"",right:""}))}()},children:[Object(w.jsx)(de.a,{stroke:"#DDD"}),Object(w.jsx)(je.a,{content:Object(w.jsx)(p,{})}),Object(w.jsx)(ue.a,{align:"left",verticalAlign:"top",height:36,iconSize:12}),Object(w.jsx)(be.a,{dataKey:"date_time",domain:["auto","auto"],fontSize:10,angle:-40,height:40,textAnchor:"end",tickSize:4,tickMargin:8,padding:{left:50,right:50}}),Object(w.jsx)(he.a,{yAxisId:"left",fontSize:10,domain:[function(e){return parseInt(.995*e)},function(e){return parseInt(1.005*e)}],tickFormatter:function(e){return y.number2commadStringWithIntl(e)}}),Object(w.jsx)(he.a,{yAxisId:"right",orientation:"right",label:{value:"%",position:"center"},fontSize:10,domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100]}),Object(w.jsx)(Te.a,{dataKey:"sell_volume",name:"sell_volume",domain:[f,x],range:[0,100],unit:"ea",zAxisId:"sell_vol"}),Object(w.jsx)(Te.a,{dataKey:"buy_volume",name:"buy_volume",domain:[f,x],range:[0,100],unit:"ea",zAxisId:"buy_vol"}),Object(w.jsx)(fe.a,{yAxisId:"left",type:"monotone",dataKey:"price",dot:null,isAnimationActive:!1}),Object(w.jsx)(fe.a,{yAxisId:"right",type:"natural",dataKey:"rsi",dot:null,stroke:"#CCC",isAnimationActive:!1}),Object(w.jsx)(Re.a,{yAxisId:"left",name:"sell",dataKey:"sell_price",shape:"circle",stroke:"#00F",fillOpacity:.5,fill:"#00F9",legendType:"circle",zAxisId:"sell_vol",isAnimationActive:!1}),Object(w.jsx)(Re.a,{yAxisId:"left",name:"buy",dataKey:"buy_price",shape:"circle",stroke:"#F00",fillOpacity:.5,fill:"#F009",legendType:"circle",zAxisId:"buy_vol",isAnimationActive:!1}),r.left&&r.right?Object(w.jsx)(pe.a,{yAxisId:"left",x1:r.left,x2:r.right,strokeOpacity:.3}):null,Object(w.jsx)(me.a,{yAxisId:"right",y:70,stroke:"#F00"}),Object(w.jsx)(me.a,{yAxisId:"right",y:30,stroke:"#00F"})]})})})},ze=function(){var e=c.a.useState({}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useRef(),o=c.a.useCallback((function(e){var t={},n={};Object.keys(e).forEach((function(t){"KODEX \ub808\ubc84\ub9ac\uc9c0"===t||"\uc2e0\ud55c \ub808\ubc84\ub9ac\uc9c0 S&P500 \uc120\ubb3c ETN"===t||"TRUE \ub808\ubc84\ub9ac\uc9c0 \ub098\uc2a4\ub2e5 100 ETN"===t||"HANARO \uae00\ub85c\ubc8c\ub7ed\uc154\ub9acS&P(\ud569\uc131)"===t?e[t].forEach((function(e){var a=new Date(e["\uc77c\uc790"]);a.getMinutes()%3>0&&a.setMinutes(a.getMinutes()-a.getMinutes()%3);var c=ae()(a).format("YY.MM.DD HH:mm"),r=t;n[c]||(n[c]={}),n[c][r]||(n[c][r]={}),n[c][r].price=e["\uc885\uac00"],n[c][r].rsi=parseFloat((100*e.RSI).toFixed(2))})):"\uac70\ub798\ub0b4\uc5ed"===t&&e[t].forEach((function(e){var t=g.serialDateToJSDate(e["\uc77c\uc790"],e["\uc8fc\ubb38\uc2dc\uac01"]);t.getMinutes()%3>0&&t.setMinutes(t.getMinutes()-t.getMinutes()%3);var a=ae()(t).format("YY.MM.DD HH:mm"),c=e["\uc885\ubaa9\uba85"];n[a]||(n[a]={}),n[a][c]||(n[a][c]={}),"\ud604\uae08\ub9e4\ub3c4"===e["\uc8fc\ubb38\uad6c\ubd84"]?(n[a][c].sell_price=e["\uc8fc\ubb38\ub2e8\uac00"],n[a][c].sell_volume=e["\uc8fc\ubb38\uc218\ub7c9"]):"\ud604\uae08\ub9e4\uc218"===e["\uc8fc\ubb38\uad6c\ubd84"]&&(n[a][c].buy_price=e["\uc8fc\ubb38\ub2e8\uac00"],n[a][c].buy_volume=e["\uc8fc\ubb38\uc218\ub7c9"])}))}));var a=Object.keys(n);return a.sort(),a.forEach((function(e,a,c){Object.keys(n[e]).forEach((function(a){t[a]||(t[a]=[]),t[a].push(Object(h.a)({date_time:e},n[e][a]))}))})),Object.keys(t).forEach((function(e){var n=0,a=0;t[e]=t[e].map((function(e,t,c){var r=e.price||n,o=e.rsi||a;return n=r,a=o,Object(h.a)(Object(h.a)({},e),{},{price:r,rsi:o})}))})),t}),[]);return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-start fw-bold my-5 px-4",style:{fontSize:"calc(".concat(2,"rem + ",2,"vw)")},children:"DAY TRADES"}),Object(w.jsxs)("div",{className:"mt-5 d-flex justify-content-center",children:[Object(w.jsx)("div",{className:"pe-2",children:Object(w.jsx)("label",{type:"button",className:"btn btn-secondary",onClick:function(e){return window.open("https://docs.google.com/uc?export=download&id=1odYcI7b41XpWwZUs--q41rjhw7plenW6","_blank")},children:"DOWNLOAD SAMPLE"})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("form",{ref:r,children:Object(w.jsx)("input",{type:"file",accept:".xlsx",id:"pricesFileInput",className:"d-none",onClick:function(e){return e.target.key="prices"+(new Date).getMilliseconds()},name:"pricesFile",onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(){var e=n.result,t=oe.a.read(e,{type:"binary"}),c={};t.SheetNames.forEach((function(e){var n=oe.a.utils.sheet_to_json(t.Sheets[e]);c[e]=n})),r.current.reset(),localStorage.setItem("day_trade_data",JSON.stringify(c)),a(o(c))},n.readAsBinaryString(t.files[0])}})}),Object(w.jsx)("label",{type:"button",htmlFor:"pricesFileInput",className:"btn btn-danger",children:"UPLOAD XLSX"})]})]}),["KODEX \ub808\ubc84\ub9ac\uc9c0","\uc2e0\ud55c \ub808\ubc84\ub9ac\uc9c0 S&P500 \uc120\ubb3c ETN","TRUE \ub808\ubc84\ub9ac\uc9c0 \ub098\uc2a4\ub2e5 100 ETN","HANARO \uae00\ub85c\ubc8c\ub7ed\uc154\ub9acS&P(\ud569\uc131)"].map((function(e){return Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)("div",{className:"mt-5 mb-3 px-4 py-5 bg-dark text-light",children:Object(w.jsx)("h1",{children:Object(w.jsx)("b",{children:e})})}),Object(w.jsx)("div",{className:"mt-4",children:Object(w.jsx)(Fe,{data:n[e]})})]},e)}))]})},Pe=function(e){return Object(w.jsxs)(k.d,{children:[Object(w.jsx)(k.b,{path:"/auth/register",render:function(e){return Object(w.jsx)(F,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/auth/login",render:function(e){return Object(w.jsx)(P,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/d3/bubbles",render:function(e){return Object(w.jsx)($,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/youtube-search",render:function(e){return Object(w.jsx)(ce,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/trade-history",render:function(e){return Object(w.jsx)(Ne,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/trade-history-v1",render:function(e){return Object(w.jsx)(Ke,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{path:"/day-trades",render:function(e){return Object(w.jsx)(ze,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{exact:!0,path:"/",render:function(e){return Object(w.jsx)(T,Object(h.a)({},e))}}),Object(w.jsx)(k.b,{render:function(e){return Object(w.jsx)(k.a,{to:"/"})}})]})};var Le=function(){var e=c.a.useReducer((function(e,t){return Object(h.a)(Object(h.a)({},e),t)}),v),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState([]),o=Object(b.a)(r,2),l=o[0],i=o[1],s=c.a.useState(!1),d=Object(b.a)(s,2),x=d[0],O=d[1];function p(){return(p=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/util/check");case 3:O(!0),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("App.checkServer",e.t0),O(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i((function(e){if(!e.length)return e;var t=e.slice();return t.shift(),t})),l.length){e.next=5;break}return e.next=4,m.delay(200);case 4:document.getElementsByTagName("body")[0].classList.remove("overflow-hidden");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(j.a.mark((function e(t){var n,a,c,r,o,s,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Modal,a=t.props,c=void 0===a?{}:a,r=t.onConfirm,o=void 0===r?function(){}:r,s=t.onCancel,d=void 0===s?function(){}:s,e.abrupt("return",new Promise((function(e,t){l.length||document.getElementsByTagName("body")[0].classList.add("overflow-hidden");i((function(t){var a=t.slice();return a.push(Object(w.jsx)(n,Object(h.a)(Object(h.a)({},c),{},{onConfirm:function(){var t=Object(u.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.next=4,y();case 4:e(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:function(){var t=Object(u.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return t.next=4,y();case 4:e(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),a}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){!function(){p.apply(this,arguments)}()}),[]),Object(w.jsx)(f.a,{children:Object(w.jsx)(S.Provider,{value:Object.assign({},n,{setState:a,pushMessageModal:function(e){return k.apply(this,arguments)}}),children:Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(I,{modals:l,closeCurrentModal:y}),Object(w.jsxs)("nav",{className:"d-block d-sm-none position-fixed sticky-top w-100",children:[Object(w.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(w.jsx)("span",{className:"navbar-toggler-icon"})})})}),Object(w.jsx)("div",{className:"collapse bg-dark",id:"navbarToggleExternalContent",children:Object(w.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto fw-bold",style:{minHeight:"".concat(100,"vh")},children:[x&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",children:"D3"})}),Object(w.jsx)("li",{className:"ps-2",children:Object(w.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/",className:"nav-link fw-bold",children:"TEST"})})]})})]}),Object(w.jsx)("nav",{className:"d-block d-sm-none",style:{height:50}}),Object(w.jsx)("nav",{className:"d-none d-sm-inline-block position-fixed top-0 end-0 bg-dark",style:{zIndex:1030,borderRadius:"0px 0px 0px 16px"},children:Object(w.jsxs)("ul",{className:"nav d-flex justify-content-end fw-bold",children:[x&&Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/auth/login",className:"nav-link fw-bold",children:"\ub85c\uadf8\uc778"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/auth/register",className:"nav-link fw-bold",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/d3/bubbles",className:"nav-link fw-bold ps-4",style:{fontSize:"".concat(.875,"rem")},children:"Bubbles"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{to:"/youtube-search",className:"nav-link fw-bold",children:"Youtube Search"})}),Object(w.jsx)("li",{children:Object(w.jsx)(f.b,{exact:!0,to:"/",className:"nav-link fw-bold",children:"TEST"})})]})}),Object(w.jsx)(Pe,{})]})})})};o.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(Le,{})}),document.getElementById("root")),l()}},[[407,1,2]]]);
//# sourceMappingURL=main.4f37c5c6.chunk.js.map