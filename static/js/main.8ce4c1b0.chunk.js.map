{"version":3,"sources":["reportWebVitals.js","utils/util_common.js","utils/util_html.js","utils/util_converter.js","utils/util_sheet.js","components/contexts.js","styles/cs.js","components/modals/modal_wrapper.js","components/modals/modal_alert.js","components/views/v_main.js","api/api.js","components/views/auth/v_register.js","utils/util_api.js","components/views/auth/v_login.js","components/fragments/bubbles/tooltip.js","components/fragments/bubbles/bubbles.js","components/fragments/bubbles/grouping_picker.js","components/fragments/bubbles/year_titles.js","components/views/d3/v_bubbles.js","components/views/v_youtube_search.js","utils/util_validator.js","components/views/recharts/rechart_alpha.js","components/views/recharts/rechart_arbitrage.js","components/views/recharts/rechart_day_trade.js","components/views/recharts/rechart_total_asset.js","components/views/v_trade_history.js","components/views/recharts/rechart_day_trade_3min.js","components/views/v_day_trades.js","components/routers/main_routes.js","components/app.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UtilCommon","ms","Promise","resolve","setTimeout","Math","floor","random","toString","padStart","col","amt","replace","color","min","max","parseInt","substr","UtilHtml","e","callback","window","event","keyCode","which","UtilConverter","number","Intl","NumberFormat","format","toFixed","UtilSheet","excelSerialDate","excelSerialTime","Date","UTC","app_state_default","isWideMode","AppState","React","createContext","cs","classNames","bind","styles","ModalWrapper","props","useState","visible","setVisible","opacity","setOpacity","modals","setModals","useEffect","animation_duration","a","delay","length","showModal","hideModal","className","onClick","closeCurrentModal","defaultProps","console","log","ModalAlert","style","maxHeight","overflow","type","onCancel","whiteSpace","lineBreak","width","maxWidth","message","onConfirm","VMain","Consumer","state","pushMessageModal","Modal","modal_result","JSON","stringify","api","axios","create","baseURL","process","timeout","headers","interceptors","request","use","config","response","error","reject","status","url","params","data","VRegister","axios_cancel_source","CancelToken","source","cancel","app_state","useContext","login_id","password","password_confirm","email","form_data","setFormData","handleInput","name","target","value","submit","preventDefault","post","cancelToken","token","result","onSubmit","onChange","placeholder","UtilApi","errorMessageMap","defaultErrorMessageMap","Object","assign","input","toLowerCase","errors","keys","i","key","indexOf","VLogin","res","content","auth","isCancel","translateErrorMessages","tooltip","tooltipId","tt","d3","append","attr","hideTooltip","updatePosition","ttw","tth","wscrX","scrollX","wscrY","scrollY","curX","document","getElementById","clientX","pageX","curY","clientY","pageY","ttleft","xOffset","innerWidth","tttop","yOffset","showTooltip","html","floatingTooltip","fillColor","domain","range","Bubbles","shouldComponentUpdate","g","forceStrength","center","simulation","velocityDecay","force","strength","x","y","charge","on","ticked","stop","d","this","radius","selectAll","nextProps","renderBubbles","groupByYear","regroupBubbles","bubbles","id","exit","remove","enter","classed","group","darker","showDetail","hideDetail","transition","duration","nodes","alpha","restart","yearCenters","year","ref","setState","onRef","Component","GroupingPicker","onBtnClick","onChanged","active","YearsTitles","map","fontSize","textAnchor","alignmentBaseline","BubbleChart","height","children","VBubbles","setData","grouping","setGrouping","d3Params","setD3Params","documentElement","scrollWidth","scrollHeight","2008","2009","2010","rawData","max_amount","total_amount","findRadius","exponent","grant_title","org","organization","start_year","sort","b","createNodes","n_grouping","VYoutubeSearch","query","pageToken","bannedChannels","searchInfo","setSearchInfo","list","setList","history","setHistory","last_history","localStorage","getItem","parse","requestSearch","lastHistory","slice","pop","get","q","part","fields","maxResults","order","result_list","bannedChannelsList","split","channelTitle","trim","nHistory","push","setItem","nextPageToken","datum","nList","items","filter","item","title","he","decode","snippet","concat","h","top","onKeyDown","searchEnter","arr","videoId","href","rel","src","alt","nBannedChannels","moment","UtilValidator","hasAnyValue","_colors_map","lightenDarkenColor","makeRandomColor","RechartAlpha","bottom","_domain","setDomain","left","right","_refArea","setRefArea","_hoverIndex","setHoverIndex","_purified_data","setPurifiedData","_strokeWidths","setStrokeWidths","_reviseData","useCallback","from","to","initial_values","purified_data","initial_return_of_asset","initial_return_of_day_trade","is_selected_range","date","parseFloat","background","_zoom","ceil","getAxisYDomain","AlphaTooltip","payload","label","payload_return_of_asset","payload_return_of_daytrade","colSpan","textAlign","number2commadStringWithIntl","renderIntermittentLabel","offset","index","fontWeight","userSelect","ResponsiveContainer","ComposedChart","onMouseDown","activeLabel","onMouseMove","activeTooltipIndex","onMouseUp","_zoomOut","onMouseLeave","margin","CartesianGrid","strokeDasharray","Tooltip","Legend","align","verticalAlign","iconSize","wrapperStyle","onMouseEnter","o","dataKey","XAxis","allowDataOverflow","angle","tickSize","tickMargin","padding","YAxis","yAxisId","tickFormatter","orientation","position","ticks","Line","stroke","strokeWidth","animationDuration","LabelList","dot","x1","y1","x2","y2","stopColor","stopOpacity","Area","fillOpacity","fill","ReferenceLine","ReferenceArea","strokeOpacity","wordBreak","RechartArbitrage","_viewPort","_setViewPort","_setPurifiedData","accumulation","min_traded_volume","max_trade_volume","min_count","max_count","forEach","ArbitrageTooltip","payloads","total_arbitrage","total_color","payload_accumulation","price","Bar","stackId","RechartDayTrade","AssetRatioTooltip","payload_price","payload_avg_price","payload_buy","payload_sell","full_payload","Fragment","CountDot","cx","cy","count","size","viewBox","r","dataMin","dataMax","ZAxis","unit","zAxisId","Scatter","shape","legendType","RechartTotalAsstRatio","percent","reverse","number2shortenString","AreaChart","defaultShowTooltip","formatter","v","VTradeHistory","_total_asset_data","setTotalAssetData","_algorithm_trade_data","setAlgorithmTradeData","_alpha_data","setAlphaData","_selected_algorithm_trade_data_name","setSelectedAlgorithmTradeDataName","_arbitrage_data","setArbitrageData","_selected_algorithm_trade_data","_refPricesFileForm","useRef","_parseData","total_asset_data","algorithm_trade_data","arbitrage_data_pre","arbitrage_data","alpha_data_pre","alpha_data","sheetName","row","serialDateToJSDate","date_string","safety_asset_ratio","percentages","getPercentage","arbitrage","buy_price","sell_price","buy_volume","sell_volume","a_price","local_data","removeItem","location","reload","open","accept","getMilliseconds","reader","FileReader","onload","fdata","read_buffer","xlsx","read","SheetNames","data_rows","utils","sheet_to_json","Sheets","current","reset","readAsBinaryString","files","htmlFor","checked","RechartDayTrade3min","payload_rsi","isAnimationActive","VDayTrades","_data","_setData","_refDayTradeFileForm","raw_data","data_pre","getMinutes","setMinutes","date_keys","date_key","date_time","last_price","last_rsi","rsi","MainRoutes","path","render","exact","App","useReducer","prev_state","new_state","message_modals","setMessageModals","isServerOn","setIsServerOn","closeMessageModal","p_message_modals","n_message_modals","shift","getElementsByTagName","classList","add","checkServer","Provider","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","minHeight","zIndex","borderRadius","ReactDOM","StrictMode"],"mappings":"0SAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,0FCMCQ,E,iIAZb,WAAmBC,GAAnB,0FACS,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OADpD,2C,oFAIA,WACE,MAAO,IAAMI,KAAKC,MAAoB,SAAdD,KAAKE,UAAmBC,SAAS,IAAIC,SAAS,EAAG,O,gCAG3E,SAA0BC,EAAKC,GAC7B,MAAO,IAAMD,EAAIE,QAAQ,KAAM,IAAIA,QAAQ,OAAO,SAAAC,GAAK,OAAK,IAAIR,KAAKS,IAAI,IAAKT,KAAKU,IAAI,EAAGC,SAASH,EAAO,IAAMF,IAAMH,SAAS,KAAKS,QAAQ,U,KCGjIC,E,gGAZb,SAAmBC,EAAGC,GAIpB,OAHKD,IACHA,EAAIE,OAAOC,OAED,MADAH,EAAEI,QAAUJ,EAAEI,QAAUJ,EAAEK,SAEpCJ,KACO,O,KCWEK,E,gHAjBb,SAAmCC,GACjC,IAEE,OADgB,IAAIC,KAAKC,aAAa,SACrBC,OAAOH,GACxB,MAAOP,GACP,OAAOO,K,kCAIX,SAA4BA,GAC1B,OAAIA,GAAU,KAC6B,IAAjCrB,KAAKC,MAAe,KAAToB,IAA4BI,QAAQ,GAAK,IAE1DJ,GAAU,KAC0B,IAA9BrB,KAAKC,MAAe,KAAToB,IAAyBI,QAAQ,GAAK,SAD3D,M,KCTWC,E,uGAJb,SAA0BC,GAAuC,IAAtBC,EAAqB,uDAAH,EAC3D,OAAO,IAAIC,KAAKA,KAAKC,IAAI,EAAG,EAAGH,EAAkB,GAAI,EAAG,EAAG,GAAKC,EAAkB,GAAK,S,KCArFG,EAAoB,CACxBC,YAAY,GAERC,EAAWC,IAAMC,cAAcJ,G,iBCFtBK,E,OADJC,EAAWC,KAAKC,K,OCErBC,EAAe,SAACC,GAAW,IAAD,EACAP,IAAMQ,UAAS,GADf,mBACvBC,EADuB,KACdC,EADc,OAEAV,IAAMQ,UAAS,GAFf,mBAEvBG,EAFuB,KAEdC,EAFc,OAGFZ,IAAMQ,SAAS,IAHb,mBAGvBK,EAHuB,KAGfC,EAHe,KA4B9B,OAvBAC,qBAAU,WAAM,4CACd,WAAyBC,GAAzB,SAAAC,EAAA,6DACEL,GAAW,GACXF,GAAW,GACXI,EAAUP,EAAMM,QAHlB,SAIQpD,EAAWyD,MAAMF,GAJzB,OAKEJ,GAAW,GALb,4CADc,kEASd,WAAyBI,GAAzB,SAAAC,EAAA,6DACEL,GAAW,GADb,SAEQnD,EAAWyD,MAAMF,GAFzB,OAGEN,GAAW,GACXI,EAAUP,EAAMM,QAJlB,4CATc,sBAgBVN,EAAMM,OAAOM,OAASN,EAAOM,OAhBlB,SAAD,2BAiBZC,CAAU,KACHb,EAAMM,OAAOM,OAASN,EAAOM,QAlBxB,oCAmBZE,CAAU,OAEX,CAACd,EAAMM,OAAQA,IAEbA,EAAOM,OAIV,sBAAKG,UAAWpB,EAAG,CAAE,iBAAiB,EAAMO,UAASE,YAArD,UACE,qBAAKW,UAAU,yBAAyBC,QAAShB,EAAMiB,oBACvD,qBAAKF,UAAU,0BAAf,SACGT,EAAO,QANL,MAYXP,EAAamB,aAAe,CAC1BZ,OAAQ,GACRW,kBAAmB,kBAAME,QAAQC,IAAI,yCAGxBrB,QClDTsB,EAAa,SAACrB,GAClB,OACE,sBAAKsB,MAAO,CAAEC,UAAU,GAAD,OAAK,GAAL,MAAaC,SAAU,QAA9C,UACE,qBAAKT,UAAU,qBAAf,SACE,wBAAQU,KAAK,SAASV,UAAU,YAAYC,QAAShB,EAAM0B,aAE7D,qBAAKX,UAAU,OAAOO,MAAO,CAACK,WAAY,WAAYC,UAAW,WAAYC,MAAM,GAAD,OAAK,IAAL,MAAcC,SAAS,GAAD,OAAK,GAAL,OAAxG,SACG9B,EAAM+B,UAET,qBAAKhB,UAAU,WAAf,SACE,wBAAQU,KAAK,SAASV,UAAU,6CAA6CC,QAAShB,EAAMgC,UAA5F,gCAMRX,EAAWH,aAAe,CACxBa,QAAS,aACTC,UAAW,aACXN,SAAW,cAGEL,QC2BAY,EA9CD,WACZ,OACE,gCACE,8CAGA,uBAEA,cAACzC,EAAS0C,SAAV,UACG,SAAAC,GAAK,OACJ,sBAAKb,MAAO,CAAEK,WAAY,YAA1B,UACE,8BACE,wBAAQF,KAAK,SAAST,QAAO,uCAAE,WAAM3C,GAAN,eAAAqC,EAAA,sEACFyB,EAAMC,iBAAiB,CAChDC,MAAOhB,EACPrB,MAAO,CACL+B,QAAS,4DAEXC,UAAW,WAAQb,QAAQC,IAAI,YAC/BM,SAAU,WAAQP,QAAQC,IAAI,mBAPH,UACvBkB,EADuB,OAS7BnB,QAAQC,IAAI,sBAAwBkB,IACf,IAAjBA,EAVyB,iEAYvBH,EAAMC,iBAAiB,CAC3BC,MAAOhB,EACPrB,MAAO,CACL+B,QAAS,8DAEXC,UAAW,WAAQb,QAAQC,IAAI,YAC/BM,SAAU,WAAQP,QAAQC,IAAI,mBAlBH,2CAAF,sDAA7B,0BAwBF,8BACGmB,KAAKC,UAAUL,EAAO,GAAI,e,yBCtCnCM,EAAMC,IAAMC,OAAO,CACvBC,QAAQ,GAAD,OAAKC,uBAAL,QACPC,QAAS,IACTC,QAAS,CACP,eAAgB,sBAKpBN,EAAIO,aAAaC,QAAQC,KAAI,SAAUC,GAMrC,OAAOA,KAGTV,EAAIO,aAAaI,SAASF,KAAI,SAAAE,GAC5B,OAAOA,KACN,SAAAC,GAED,OAAIA,EAAMD,SAMDhG,QAAQkG,OAAR,aACLC,OAASF,EAAMD,SAASG,OACxBR,QAASM,EAAMF,OAAOJ,QACtBS,IAASH,EAAMF,OAAOP,QAAUS,EAAMF,OAAOK,IAC7CC,OAASJ,EAAMF,OAAOO,MACnBL,EAAMD,SAASM,OAEXL,EAAMJ,QAKR7F,QAAQkG,OAAO,CACpBC,OAASF,EAAMJ,QAAQM,OACvBR,QAASM,EAAMF,OAAOJ,QACtBS,IAASH,EAAMF,OAAOP,QAAUS,EAAMF,OAAOK,IAC7CC,OAASJ,EAAMF,OAAOO,KACtB3B,QAASsB,EAAMtB,UAIV3E,QAAQkG,OAAOD,MAIXZ,QCeAkB,EAhEG,SAAC3D,GACjB,IAAI4D,EAAsBlB,IAAMmB,YAAYC,SAC5CtD,qBAAU,kBAAM,kBAAMoD,EAAoBG,YAAU,CAAEH,IAEtD,IAAMI,EAAYC,qBAAWzE,GAJF,EAMMC,IAAMQ,SAAS,CAACiE,SAAU,GAAIC,SAAU,GAAIC,iBAAkB,GAAIC,MAAO,KAN/E,mBAMpBC,EANoB,KAMTC,EANS,KASrBC,EAAc,SAACnG,GACnB,IAAIoG,EAAOpG,EAAEqG,OAAOD,KAEpBF,GAAY,SAAApC,GACV,OAAO,2BACFA,GADL,kBAEGsC,EAAOpG,EAAEqG,OAAOC,YAMjBC,EAAM,uCAAG,WAAOvG,GAAP,eAAAqC,EAAA,6DACbrC,EAAEwG,iBADW,kBAIQpC,EAAIqC,KAAK,iBAAkB,CAC5CZ,SAAUI,EAAS,SACnBH,SAAUG,EAAS,SACnB,SAAUA,EAAS,OAClB,CACDS,YAAanB,EAAoBoB,QATxB,cAIPC,EAJO,gBAYLjB,EAAU5B,iBAAiB,CAC/BC,MAAOhB,EACPrB,MAAO,CACL+B,QAAS,8CAEXC,UAAW,WAAQb,QAAQC,IAAI,YAC/BM,SAAU,WAAQP,QAAQC,IAAI,mBAlBrB,OAqBXD,QAAQC,IAAI6D,GArBD,kDAuBX9D,QAAQC,IAAR,MAvBW,0DAAH,sDA2BZ,OACE,sBAAM8D,SAAUN,EAAhB,SACE,sBAAK7D,UAAU,iBAAiBO,MAAO,CAACO,MAAM,GAAD,OAAK,IAAL,KAAaC,SAAS,GAAD,OAAK,GAAL,OAAlE,UACE,uBAAOL,KAAK,OAAWgD,KAAK,WAAmBE,MAAOL,EAAS,SAAsBa,SAAUX,EAAaY,YAAY,OACxH,uBAAO3D,KAAK,WAAWgD,KAAK,WAAmBE,MAAOL,EAAS,SAAsBa,SAAUX,EAAaY,YAAY,aACxH,uBAAO3D,KAAK,WAAWgD,KAAK,mBAAmBE,MAAOL,EAAS,iBAAsBa,SAAUX,EAAaY,YAAY,qBACxH,uBAAO3D,KAAK,QAAWgD,KAAK,QAAmBE,MAAOL,EAAS,MAAsBa,SAAUX,EAAaY,YAAY,UACxH,8BACE,uBAAO3D,KAAK,SAASkD,MAAM,qBCnCtBU,E,2GArBb,WAAiE,IAAnChC,EAAkC,uDAA1B,GAAIiC,EAAsB,uDAAJ,GAC1D,GAAI,OAACjC,QAAD,IAACA,OAAD,EAACA,EAAOtB,QAAZ,CAGA,IAAMwD,EAAyB,CAC7B,uBAA0B,qGAC1B,aAAc,+IAGhBD,EAAkBE,OAAOC,OAAOF,EAAwBD,GAIxD,IAFA,IAAMI,EAAQrC,EAAMtB,QAAQ4D,cACtBC,EAASJ,OAAOK,KAAKP,GAClBQ,EAAI,EAAGA,EAAIF,EAAOhF,SAAUkF,EAAG,CACtC,IAAMC,EAAMH,EAAOE,GACnB,GAAIJ,EAAMM,QAAQD,EAAIJ,gBAAkB,EACtC,OAAOL,EAAgBS,S,KC8DhBE,EA7EA,SAACjG,GACd,IAAI4D,EAAsBlB,IAAMmB,YAAYC,SAC5CtD,qBAAU,kBAAM,kBAAMoD,EAAoBG,YAAU,CAAEH,IAEtD,IAAMI,EAAYC,qBAAWzE,GAJL,EAMSC,IAAMQ,SAAS,CAACiE,SAAU,GAAIC,SAAU,GAAIC,iBAAkB,GAAIC,MAAO,KANlF,mBAMjBC,EANiB,KAMNC,EANM,KASlBC,EAAc,SAACnG,GACnB,IAAIoG,EAAOpG,EAAEqG,OAAOD,KAEpBF,GAAY,SAAApC,GACV,OAAO,2BACFA,GADL,kBAEGsC,EAAOpG,EAAEqG,OAAOC,YAMjBC,EAAM,uCAAG,WAAOvG,GAAP,iBAAAqC,EAAA,6DACbrC,EAAEwG,iBADW,kBAIQpC,EAAIqC,KAAK,cAAe,CACzCZ,SAAUI,EAAS,SACnBH,SAAUG,EAAS,UAClB,CACDS,YAAanB,EAAoBoB,QAEhCpI,MAAK,SAAAsJ,GAAG,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAKxC,YAAT,aAAI,EAAWyC,WAVf,cAILC,EAJK,OAYXjF,QAAQC,IAAIgF,GAZD,SAcLpC,EAAU5B,iBAAiB,CAC/BC,MAAOhB,EACPrB,MAAO,CACL+B,QAAS,mCAEXC,UAAW,WAAQb,QAAQC,IAAI,YAC/BM,SAAU,WAAQP,QAAQC,IAAI,mBApBrB,6DAuBPsB,IAAM2D,SAAN,MAvBO,wBAwBTlF,QAAQC,IAAI,aAxBH,kCA4BLW,EAAUsD,EAAQiB,uBAAR,KAAkC,CAChD,UAAW,0EA7BF,UA+BLtC,EAAU5B,iBAAiB,CAC/BC,MAAOhB,EACPrB,MAAO,CACL+B,WAEFC,UAAW,WAAQb,QAAQC,IAAI,YAC/BM,SAAU,WAAQP,QAAQC,IAAI,mBArCrB,0DAAH,sDA0CZ,OACE,sBAAM8D,SAAUN,EAAhB,SACE,sBAAK7D,UAAU,sBAAsBO,MAAO,CAACO,MAAM,GAAD,OAAK,IAAL,KAAaC,SAAS,GAAD,OAAK,GAAL,OAAvE,UACE,uBAAOL,KAAK,OAAWV,UAAU,eAAgB0D,KAAK,WAAWE,MAAOL,EAAS,SAAca,SAAUX,EAAaY,YAAY,OAClI,uBAAO3D,KAAK,WAAWV,UAAU,eAAgB0D,KAAK,WAAWE,MAAOL,EAAS,SAAca,SAAUX,EAAaY,YAAY,aAClI,8BACE,uBAAO3D,KAAK,SAASkD,MAAM,QAAQ5D,UAAU,kC,yCCZvD,IACewF,EA7Df,SAAyBC,EAAW3E,GAElC,IAAM4E,EAAKC,SAAU,QAAQC,OAAO,OACjCC,KAAK,QAAS,kBACdA,KAAK,KAAMJ,GACXlF,MAAM,iBAAkB,QAO3B,SAASuF,IACPJ,EAAGnF,MAAM,UAAW,GAUtB,SAASwF,EAAetI,GACtB,IAGMuI,EAAMN,EAAGnF,MAAM,SACf0F,EAAMP,EAAGnF,MAAM,UAEf2F,EAAQ1I,OAAO2I,QACfC,EAAQ5I,OAAO6I,QAEfC,EAAQC,SAASC,eAAkB/I,EAAMgJ,QAAUP,EAAQzI,EAAMiJ,MACjEC,EAAQJ,SAASC,eAAkB/I,EAAMmJ,QAAUR,EAAQ3I,EAAMoJ,MAEnEC,EAAWR,EAAOJ,EAAQa,GAAcf,EAAOxI,OAAOwJ,WACtDV,EAAON,EAAMe,GACbT,EAdY,GAeZQ,EAASZ,EAfG,KAgBdY,EAASZ,EAhBK,IAkBhB,IAAIe,EAAUN,EAAOP,EAAQc,GAAcjB,EAAOzI,OAAOwJ,WACrDL,EAAOV,EAAMiB,GACbP,EAnBY,GAoBZM,EAAQb,EApBI,KAqBda,EAAQb,EArBM,IAuBhBV,EACGnF,MAAM,MADT,UACmB0G,EADnB,OAEG1G,MAAM,OAFT,UAEoBuG,EAFpB,OAKF,OA9CIhG,GACF4E,EAAGnF,MAAM,QAASO,GAEpBgF,IA2CO,CACLqB,YAtCF,SAAsB/B,EAAS3H,GAC7BiI,EAAGnF,MAAM,UAAW,GACjB6G,KAAKhC,GAERW,EAAetI,IAmCfqI,cACAC,kBAIYsB,CAAgB,gBAAiB,KC5D3CC,EAAY3B,iBAAkB4B,OAAO,CAAC,MAAO,SAAU,SAASC,MAAM,CAAC,UAAW,UAAW,YAkGpFC,E,kDA/Fb,WAAYxI,GAAQ,IAAD,uBACjB,cAAMA,IA2BRyI,sBAAwB,kBAAM,GA1B5B,EAAKtG,MAAQ,CACXuG,EAAG,MAHY,MAMiB,EAAK1I,MAA/B2I,EANS,EAMTA,cAAeC,EANN,EAMMA,OANN,OAOjB,EAAKC,WAAanC,oBACfoC,cAAc,IACdC,MAAM,IAAKrC,WAAYsC,SAASL,GAAeM,EAAEL,EAAOK,IACxDF,MAAM,IAAKrC,WAAYsC,SAASL,GAAeO,EAAEN,EAAOM,IACxDH,MAAM,SAAUrC,gBAAiB,EAAKyC,OAAOtJ,KAAZ,kBACjCuJ,GAAG,OAAQ,EAAKC,OAAOxJ,KAAZ,iBACXyJ,OAbc,E,0CAgBnB,SAAOC,GACL,OAAQC,KAAKxJ,MAAM2I,cAAZ,SAA6BY,EAAEE,OAAU,K,oBAGlD,WACED,KAAKrH,MAAMuG,EAAEgB,UAAU,WACpB9C,KAAK,MAAM,SAAA2C,GAAC,OAAIA,EAAEN,KAClBrC,KAAK,MAAM,SAAA2C,GAAC,OAAIA,EAAEL,O,uCAQvB,SAA0BS,GACpBA,EAAUjG,OAAS8F,KAAKxJ,MAAM0D,MAChC8F,KAAKI,cAAcD,EAAUjG,MAC3BiG,EAAUE,cAAgBL,KAAKxJ,MAAM6J,aACvCL,KAAKM,eAAeH,EAAUE,e,2BAKlC,SAAcnG,GAAO,IAAD,OACZqG,EAAUP,KAAKrH,MAAMuG,EAAEgB,UAAU,WACpChG,KAAKA,GAAM,SAAA6F,GAAC,OAAIA,EAAES,MAGrBD,EAAQE,OAAOC,SAGEH,EAAQI,QAAQxD,OAAO,UACrCyD,QAAQ,UAAU,GAClBxD,KAAK,IAAK,GACVA,KAAK,MAAM,SAAA2C,GAAC,OAAIA,EAAEN,KAClBrC,KAAK,MAAM,SAAA2C,GAAC,OAAIA,EAAEL,KAClBtC,KAAK,QAAQ,SAAA2C,GAAC,OAAIlB,EAAUkB,EAAEc,UAC9BzD,KAAK,UAAU,SAAA2C,GAAC,OAAI7C,MAAO2B,EAAUkB,EAAEc,QAAQC,YAC/C1D,KAAK,eAAgB,GAErBwC,GAAG,YAAamB,GAChBnB,GAAG,WAAYoB,GAEPC,aAAaC,SAAS,KAC5B9D,KAAK,KAAK,SAAA2C,GAAC,OAAIA,EAAEE,UACjBL,GAAG,OAAO,WACT,EAAKP,WAAW8B,MAAMjH,GACnBkH,MAAM,GACNC,e,4BAIX,SAAgBhB,GAAc,IAAD,EACoBL,KAAKxJ,MAA5C2I,EADmB,EACnBA,cAAemC,EADI,EACJA,YAAalC,EADT,EACSA,OAChCiB,EACFL,KAAKX,WACFE,MAAM,IAAKrC,WAAYsC,SAASL,GAAeM,GAAE,SAAAM,GAAC,OAAIuB,EAAYvB,EAAEwB,MAAM9B,MAC1EF,MAAM,IAAKrC,WAAYsC,SAASL,GAAeO,GAAE,SAAAK,GAAC,OAAIuB,EAAYvB,EAAEwB,MAAM7B,MAE7EM,KAAKX,WACFE,MAAM,IAAKrC,WAAYsC,SAASL,GAAeM,EAAEL,EAAOK,IACxDF,MAAM,IAAKrC,WAAYsC,SAASL,GAAeO,EAAEN,EAAOM,IAE7DM,KAAKX,WAAW+B,MAAM,GAAGC,Y,mBAI3B,SAAOG,GAAM,IAAD,OACVxB,KAAKyB,SAAS,CAAEvC,EAAGhC,SAAUsE,KAAQ,kBAAM,EAAKpB,cAAc,EAAK5J,MAAM0D,W,oBAG3E,WACE,OACE,mBAAGsH,IAAKxB,KAAK0B,MAAMrL,KAAK2J,MAAOzI,UAAU,gB,GA3FzBtB,IAAM0L,WAkGrB,SAASZ,EAAWhB,GACzB7C,SAAU8C,MAAM5C,KAAK,SAAU,SAE/B,IAAMT,EAAU,+DAAwDoD,EAAE9E,KAA1D,iFAC8C8E,EAAE5E,MADhD,8EAE2C4E,EAAEwB,KAF7C,WAIhBxE,EAAQ2B,YAAY/B,EAASO,SAIxB,SAAS8D,EAAWjB,GACzB7C,SAAU8C,MAAM5C,KAAK,SAAUF,MAAO2B,EAAUkB,EAAEc,QAAQC,UAE1D/D,EAAQM,c,WClHWuE,E,4MACnBC,WAAa,SAAC7M,GACZ,EAAKwB,MAAMsL,UAAU9M,EAAMkG,OAAOD,O,4CAEpC,WAAU,IACA8G,EAAW/B,KAAKxJ,MAAhBuL,OACR,OACE,sBAAKxK,UAAU,iBAAf,UACE,wBAAQA,UAAS,iBAAuB,QAAXwK,GAAoB,UAAY9G,KAAK,MAAMzD,QAASwI,KAAK6B,WAAtF,wBACA,wBAAQtK,UAAS,iBAAuB,SAAXwK,GAAqB,UAAY9G,KAAK,OAAOzD,QAASwI,KAAK6B,WAAxF,mC,GAToC5L,IAAM0L,WCFnC,SAASK,EAAT,GAAuC,IAAhBV,EAAe,EAAfA,YACpC,OACE,mBAAG/J,UAAU,cAAb,SAEIyE,OAAOK,KAAKiF,GAAaW,KAAI,SAAAV,GAAI,OAC/B,sBAEE9B,EAAG6B,EAAYC,GAAM9B,EACrBC,EAAG,GACHwC,SAAS,KACTC,WAAW,SACXC,kBAAkB,SANpB,SASIb,GARGA,QCAjB,IA+EMc,EAAc,SAAC,GAA+B,IAA9BhK,EAA6B,EAA7BA,MAAOiK,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,SACnC,OACE,qBAAKhL,UAAU,cAAcc,MAAOA,EAAOiK,OAAQA,EAAnD,SACGC,KAOQC,EAzFE,WAAO,IAAD,EACGvM,IAAMQ,SAAS,IADlB,mBACdyD,EADc,KACRuI,EADQ,OAEWxM,IAAMQ,SAAS,OAF1B,mBAEdiM,EAFc,KAEJC,EAFI,OAGW1M,IAAMQ,SAAS,IAH1B,mBAGdmM,EAHc,KAGJC,EAHI,KA8DrB,OArDA5M,IAAMe,WAAU,WACd,IAAMqB,EAASyF,SAASgF,gBAAgBC,YAClCT,EAASxE,SAASgF,gBAAgBE,aAAe,GAOvDH,EAAY,CAAExK,QAAOiK,SAAQlD,OANd,CAAEK,EAAGpH,EAAQ,EAAGqH,EAAG4C,EAAS,GAMNhB,YALjB,CAClB2B,KAAM,CAAExD,EAAGpH,EAAQ,EAAGqH,EAAG4C,EAAS,GAClCY,KAAM,CAAEzD,EAAGpH,EAAQ,EAAGqH,EAAG4C,EAAS,GAClCa,KAAM,CAAE1D,EAAI,EAAI,EAAKpH,EAAOqH,EAAG4C,EAAS,MAgC1CpF,MAAO,yBAAyB,SAAUrD,EAAOK,GAC/C,GAAIL,EACFlC,QAAQC,IAAI,QAASiC,OADvB,CAIA,IAAIsH,EAjCc,SAACiC,GACnB,GAAK/K,GAAUiK,EAAf,CAGA,IAAMe,EAAanG,MAAOkG,GAAS,SAAArD,GAAC,OAAKA,EAAEuD,gBACrCC,EAAarG,aAChBsG,SAAS,IACTzE,MAAM,CAAC,EAAG,KACVD,OAAO,CAAC,EAAGuE,IAEVlC,EAAQiC,EAAQnB,KAAI,SAAAlC,GAAC,MAAK,CAC5BS,GAAIT,EAAES,GACNP,OAAQsD,GAAYxD,EAAEuD,cACtBnI,OAAQ4E,EAAEuD,aACVrI,KAAM8E,EAAE0D,YACRC,IAAK3D,EAAE4D,aACP9C,MAAOd,EAAEc,MACTU,KAAMxB,EAAE6D,WACRnE,EAAG1L,KAAKE,SAAWoE,EACnBqH,EAAG3L,KAAKE,SAAWqO,MAMrB,OAFAnB,EAAM0C,MAAK,SAAC3M,EAAG4M,GAAJ,OAAUA,EAAE3I,MAAQjE,EAAEiE,SAE1BgG,GAQK4C,CAAY7J,GACxBuI,EAAQtB,SAMT,IAGD,sBAAKX,GAAG,cAAc1I,MAAO,CAAEK,WAAY,WAAYC,UAAW,WAAYkK,OAAO,GAAD,OAAK,IAAL,KAAatK,SAAU,QAA3G,UACE,cAAC,EAAD,CAAgB8J,UAzDM,SAACkC,GAAD,OAAgBrB,EAAYqB,IAyDJjC,OAAQW,IACpDE,EAASvK,OAASuK,EAASN,QAC3B,eAAC,EAAD,CAAajK,MAAOuK,EAASvK,MAAOiK,OAAQM,EAASN,OAArD,UACE,cAAC,EAAD,CAASpI,KAAMA,EAAMiF,cAAe,IAAMC,OAAQwD,EAASxD,OAAQkC,YAAasB,EAAStB,YAAajB,YAA0B,SAAbqC,IACrG,SAAbA,GACC,cAACV,EAAD,CAAa3J,MAAOuK,EAASvK,MAAOiJ,YAAasB,EAAStB,qB,yCC6FvD2C,GApKQ,WAAO,IAAD,EACShO,IAAMQ,SAAS,CAACyN,MAAO,GAAIC,UAAW,GAAIC,eAAgB,KADnE,mBACpBC,EADoB,KACRC,EADQ,OAEHrO,IAAMQ,SAAS,IAFZ,mBAEpB8N,EAFoB,KAEdC,EAFc,OAGGvO,IAAMQ,SAAS,IAHlB,mBAGpBgO,EAHoB,KAGXC,EAHW,KAK3BzO,IAAMe,WAAU,WACd,IAAI2N,EAAeC,aAAaC,QAAQ,mBACnCF,GAGLD,EAAW3L,KAAK+L,MAAMH,MACrB,CAACD,IAGJ,IAAMK,EAAa,uCAAG,WAAOlQ,GAAP,2BAAAqC,EAAA,6DAChBiN,EAAYE,EAAWF,UACvBM,EAAQrN,UACJ4N,EAAcP,EAAQQ,QAAQC,OAErBhB,QAAUG,EAAWH,OACjCc,EAAYZ,iBAAmBC,EAAWD,iBAE3CD,EAAY,KARI,kBAeEjL,IAAMiM,IAAI,+CAAgD,CAC5ElL,OAAQ,CACNkK,YACA5H,IAAKlD,0CACL+L,EAAGf,EAAWH,MACdmB,KAAM,UACNC,OAAQ,mGACRC,WAAY,GACZC,MAAO,OACPvN,KAAM,WAxBQ,OAelBwN,EAfkB,8DA4BlB9N,QAAQC,IAAR,MA5BkB,2BAgCd8N,EAAqBrB,EAAWD,eAAeuB,MAAM,KAAK1D,KAAI,SAAA2D,GAAY,OAAIA,EAAaC,WAE3FC,EAAWrB,EAAQQ,SAChBc,KAAK1B,GACdK,EAAWoB,GACXlB,aAAaoB,QAAQ,kBAAmBjN,KAAKC,UAAU8M,IACvDxB,EAAc,2BAAID,GAAL,IAAiBF,UAAWsB,EAAYvL,KAAK+L,iBAEpD5J,EAAOkI,EAAKtC,KAAI,SAAAiE,GAAK,OAAIA,EAAK,GAAL,WAEzBC,EAAQV,EAAYvL,KAAKkM,MAC5BC,QAAO,SAAAC,GACN,QAAIZ,EAAmBlJ,QAAQ8J,EAAI,QAAJ,eAAoC,MAG9DnC,KAGDA,GAAa9H,EAAKG,QAAQ8J,EAAI,GAAJ,UAA0B,OAKzDrE,KAAI,SAAAqE,GACH,IAAMC,EAAQC,KAAGC,OAAOH,EAAI,QAAJ,OACxB,OAAO,2BACFA,GADL,IAEEI,QAAQ,2BACHJ,EAAKI,SADH,IAELH,eAKN/B,EADEL,EACMI,EAAKoC,OAAOR,GAEZA,GApEU,yDAAH,sDAuEnB,OACE,sBAAK5O,UAAU,SAAf,UACE,qBAAKA,UAAU,mEAAmEO,MAAO,CAAEO,MAAM,GAAD,OAAK,GAAL,MAAaiK,OAAO,GAAD,OAAK,IAAL,OAAnH,SACE,8BACE,oBAAI/K,UAAU,4CAAd,SACGkN,EAAQxC,KAAI,SAAC2E,EAAGtK,GACf,OACE,6BACE,wBAAQrE,KAAK,SAASV,UAAU,wBAAwBC,QAAS,SAAA3C,GAAC,OAAIyP,EAAcsC,IAApF,SACGA,EAAE1C,SAFE5H,YAUnB,sBAAK/E,UAAU,kCAAkCO,MAAO,CAACwK,OAAQ,SAAjE,UACE,sBAAK/K,UAAU,kBAAkBO,MAAO,CAAC+O,IAAK,GAA9C,UACE,sBAAKtP,UAAU,SAAf,UACE,8BACE,uBAAOU,KAAK,OAAOV,UAAU,eAC3B4D,MAAOkJ,EAAWH,MAClBvI,SAAU,SAAA9G,GAAC,OAAIyP,EAAc,2BAAID,GAAL,IAAiBH,MAAOrP,EAAEqG,OAAOC,UAC7D2L,UAAW,SAAAjS,GAAC,OAAID,EAASmS,YAAYlS,EAAGkQ,QAG5C,wBAAQ9M,KAAK,SAASV,UAAU,kBAC9BC,QAASuN,EADX,SAGGR,EAAKnN,OAAS,OAAS,cAG5B,qBAAKG,UAAU,SAAf,SACE,8BACE,uBAAOU,KAAK,OAAOV,UAAU,eAC3B4D,MAAOkJ,EAAWD,eAClBzI,SAAU,SAAA9G,GAAC,OAAIyP,EAAc,2BAAKD,GAAN,IAAkBD,eAAgBvP,EAAEqG,OAAOC,mBAM/E,qBAAK5D,UAAU,WAAf,SACGgN,EAAKtC,KAAI,SAACiE,EAAO5J,EAAG0K,GACnB,IAAMC,EAAUf,EAAK,GAAL,QAChB,OACE,sBAAmB3O,UAAU,QAA7B,UACI,8BACE,mBAAG2P,KAAI,0CAAqCD,GAAW/L,OAAO,SAASiM,IAAI,aAA3E,SACE,qBAAKC,IAAKlB,EAAK,QAAL,sBAAiDmB,IAAG,cAAS/K,SAG7E,8BAAM4J,EAAK,QAAL,QACN,qBAAK3O,UAAU,WAAf,SACE,uBAAMA,UAAU,iCAAiCC,QAAS,SAAA3C,GACxD,IAAIyS,EAAmBjD,EAAU,eAC7B6B,EAAK,QAAL,aAAmC,IAAO7B,EAAU,eACpD6B,EAAK,QAAL,aACJ5B,EAAc,2BAAID,GAAL,IAAiBD,eAAgBkD,MAJhD,UAMGpB,EAAK,QAAL,aACD,sBAAM3O,UAAU,cAAhB,mCAGJ,qBAAKA,UAAU,yBAAyBO,MAAO,CAACoK,SAAS,GAAD,OAAK,EAAL,OAAxD,SACGqF,KAAOrB,EAAK,QAAL,aAAiC3Q,OAAO,sBAnB1C0R,e,kJC1IHO,G,kCAAAA,GACZC,YAAc,SAACtM,GAAD,YAAsB,IAAVA,GAAgC,OAAVA,GCIzD,IAAMuM,GAAc,CAClB,MAAgBhU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC7E,OAAgBlU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC7E,SAAgBlU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC7E,QAAgBlU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC7E,aAAgBlU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC7E,gBAAuB,OACvB,oBAAuB,OACvB,mBAAuB,SAkWVC,GA/VM,SAACrR,GAAW,IACvB0D,EAAS1D,EAAT0D,KADsB,EAGDjE,IAAMQ,SAAS,CAACoQ,IAAK,cAAeiB,OAAQ,gBAH3C,mBAGvBC,EAHuB,KAGdC,EAHc,OAIC/R,IAAMQ,SAAS,CAACwR,KAAM,GAAIC,MAAO,KAJlC,mBAIvBC,EAJuB,KAIbC,EAJa,OAKOnS,IAAMQ,WALb,mBAKvB4R,EALuB,KAKVC,EALU,OAOYrS,IAAMQ,SAAS,IAP3B,mBAOvB8R,EAPuB,KAOPC,EAPO,OAQYvS,IAAMQ,SAAS,IAR3B,mBAQvBgS,EARuB,KAQRC,EARQ,KAUxBC,EAAc1S,IAAM2S,aAAY,SAACC,EAAMC,GAC3C,GAAK5O,GAASA,EAAK9C,OAAnB,CAGA,IAJkD,EAI9C2R,EAAiB,GAEjBC,EAAgB,GAEhBC,EAA0B,EAC1BC,EAA8B,EAE9BC,GAAoB,EAX0B,eAYhCjP,GAZgC,IAYlD,2BAAwB,CAAC,IAAhBgM,EAAe,QActB,GAbIA,EAAK,OAAa2C,IACpBM,GAAoB,EACpBJ,EAAiB,CACf,MAAW7C,EAAK,MAChB,SAAWA,EAAM,UACjB,OAAWA,EAAK,OAChB,QAAWA,EAAK,QAChB,aAAgBA,EAAK,cAEvBgD,EAA8BhD,EAAK,WAAiB,EACpD+C,EAA0B/C,EAAK,iBAAuB,GAGnDiD,IAILH,EAAcjD,KAAK,CACjBqD,KAAMlD,EAAK,KACX,qBAAqD,IAA7BA,EAAK,gBAAkC,EAAImD,YAAYnD,EAAK,gBAAsB+C,GAA6BzT,QAAQ,IAC/I,yBAAqD,IAA7B0Q,EAAK,UAAkC,EAAImD,YAAYnD,EAAK,UAAsBgD,GAA6B1T,QAAQ,IAC/I,MAAgB6T,YAAuE,KAA1DnD,EAAK,MAAmB6C,EAAc,OAA0BA,EAAc,OAAkBvT,QAAQ,IACrI,SAAgB6T,YAAuE,KAA1DnD,EAAM,UAAkB6C,EAAe,WAAyBA,EAAe,WAAiBvT,QAAQ,IACrI,OAAgB6T,YAAuE,KAA1DnD,EAAK,OAAmB6C,EAAc,QAA0BA,EAAc,QAAkBvT,QAAQ,IACrI,QAAgB6T,YAAuE,KAA1DnD,EAAK,QAAmB6C,EAAc,SAA0BA,EAAc,SAAkBvT,QAAQ,IACrI,aAAgB6T,YAAuE,KAA1DnD,EAAK,aAAmB6C,EAAc,cAA0BA,EAAc,cAAkBvT,QAAQ,IACrI,mBAAsB0Q,EAAK,mBAC3B,KAAQA,EAAK,OAGXA,EAAK,OAAa4C,GACpB,OA5C8C,8BA+ClD,OAAOE,KACN,CAAC9O,IAWJ,GARAjE,IAAMe,WAAU,WACd,GAAKkD,GAASA,EAAK9C,OAAnB,CAGA,IAAM4R,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnDoR,EAAgBQ,MACf,CAAC9O,EAAMyO,KAELJ,IAAmBA,EAAenR,OACrC,OACE,qBAAKG,UAAU,8BAA8BO,MAAO,CAACwR,WAAY,QAAjE,SACE,2CAyCN,SAASC,IAAS,IACVtB,EAAgBE,EAAhBF,KAAMC,EAAUC,EAAVD,MAEZ,GAAID,IAASC,GAAmB,KAAVA,EAAtB,CASA,GAAID,EAAOC,EAAX,OAAkC,CAACA,EAAOD,GAAvBA,EAAnB,KAAyBC,EAAzB,KAEA,IAAMc,EAAgBL,EAAYV,EAAMC,GAdzB,EAnCjB,SAAwBW,EAAMC,EAAI5O,GAAO,IAAD,IAClB,CAACA,EAAK,GAAL,gBAA4BA,EAAK,GAAL,iBAA5C4N,EADiC,KACzBjB,EADyB,KAGlCsC,GAAoB,EAHc,eAIpBjP,GAJoB,IAItC,2BAAwB,CAAC,IAAhBgM,EAAe,QAItB,GAHIA,EAAK,OAAa2C,IACpBM,GAAoB,GAEjBA,IAGDjD,EAAK,gBAAsBW,IAAKA,EAAMX,EAAK,iBAC3CA,EAAK,gBAAsB4B,IAAQA,EAAS5B,EAAK,iBAEjDA,EAAK,oBAA0BW,IAAKA,EAAMX,EAAK,qBAC/CA,EAAK,oBAA0B4B,IAAQA,EAAS5B,EAAK,qBAErDA,EAAM,UAAYW,IAAKA,EAAMX,EAAM,WACnCA,EAAM,UAAY4B,IAAQA,EAAS5B,EAAM,WAEzCA,EAAK,OAAaW,IAAKA,EAAMX,EAAK,QAClCA,EAAK,OAAa4B,IAAQA,EAAS5B,EAAK,QAExCA,EAAK,MAAYW,IAAKA,EAAMX,EAAK,OACjCA,EAAK,MAAY4B,IAAQA,EAAS5B,EAAK,OAEvCA,EAAK,aAAmBW,IAAKA,EAAMX,EAAK,cACxCA,EAAK,aAAmB4B,IAAQA,EAAS5B,EAAK,cAE9CA,EAAK,OAAa4C,GACpB,OA9BkC,8BAgCtC,MAAO,CAA2B,EAAzB/U,KAAKC,MAAM8T,EAAS,GAA+B,EAArB/T,KAAKyV,KAAK3C,EAAM,IAoBjC4C,CAAexB,EAAMC,EAAOc,GAjBnC,mBAiBRlB,EAjBQ,KAiBAjB,EAjBA,KAmBfuB,EAAW,CACTH,KAAM,GACNC,MAAO,KAGTF,EAAU,CACRF,SACAjB,QAGF2B,EAAgBQ,QAzBdZ,EAAW,CACTH,KAAM,GACNC,MAAO,KA8Cb,IAAMwB,EAAe,SAAC,GAAgC,IAA9B3H,EAA6B,EAA7BA,OAAQ4H,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MACvC,IAAK7H,IAAW4H,IAAYA,EAAQvS,OAClC,OAAO,KAET,IAAMyS,EAA6BF,EAAQtD,QAAO,SAAAsD,GAAO,MAAwB,oBAApBA,EAAO,QAAgC,GAC9FG,EAA6BH,EAAQtD,QAAO,SAAAsD,GAAO,MAAwB,uBAApBA,EAAO,QAAmC,GAGvG,OACE,sBAAKpS,UAAU,8BAA8BO,MAAO,CAACoK,SAAS,GAAD,OAAK,GAAL,MAAa/J,WAAY,OAAtF,UACE,mBAAGZ,UAAU,2BAAb,SAAyCqS,IACzC,gCACE,kCACE,6BAAI,oBAAIG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjCsS,GACC,+BACE,6BAAI,mBAAG/R,MAAO,CAAEvD,MAAOsV,EAAuB,OAA1C,mBAA2DA,EAAuB,UACtF,6BAAI,mBAAG/R,MAAO,CAAEvD,MAAOsV,EAAuB,OAA1C,oBACJ,6BAAI,sBAAMtS,UAAU,QAAQO,MAAO,CAAEvD,MAAOsV,EAAuB,MAAWG,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAApG,mBACE/M,EAAc8U,4BAA4BJ,EAAuB,OAAW1V,SAAS,EAAG,aAIjG2V,GACC,+BACE,6BAAI,mBAAGhS,MAAO,CAAEvD,MAAOuV,EAA0B,OAA7C,mBAA8DA,EAA0B,UAC5F,6BAAI,mBAAGhS,MAAO,CAAEvD,MAAOuV,EAA0B,OAA7C,oBACJ,6BAAI,sBAAMvS,UAAU,QAAQO,MAAO,CAAEvD,MAAOuV,EAA0B,MAAWE,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAvG,mBACE/M,EAAc8U,4BAA4BH,EAA0B,OAAW3V,SAAS,EAAG,aAIrG,6BAAI,oBAAI4V,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjCoS,EAAQ1H,KAAI,SAAC0H,EAASrN,GACrB,MAAwB,oBAApBqN,EAAO,MAAsD,uBAApBA,EAAO,KAC3C,KAGP,+BACE,6BAAI,mBAAG7R,MAAO,CAAEvD,MAAOoV,EAAO,OAA1B,mBAA2CA,EAAO,UACtD,6BAAI,mBAAG7R,MAAO,CAAEvD,MAAOoV,EAAO,OAA1B,oBACJ,6BAAI,sBAAMpS,UAAU,QAAQO,MAAO,CAAEvD,MAAOoV,EAAO,MAAWK,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAApF,mBACE/M,EAAc8U,4BAA4BN,EAAO,OAAWxV,SAAS,EAAG,YAJvEwV,EAAO,kBAgBxBO,EAA0B,SAAC1T,GAAW,IAClCiJ,EAAqDjJ,EAArDiJ,EAAGC,EAAkDlJ,EAAlDkJ,EAAGyK,EAA+C3T,EAA/C2T,OAAQhP,EAAuC3E,EAAvC2E,MAAOiP,EAAgC5T,EAAhC4T,MAAOlI,EAAyB1L,EAAzB0L,SAAUmI,EAAe7T,EAAf6T,WAE9C,OAAID,EAAQ,IAAM,EAEd,4BACE,sBAAM3K,EAAGA,EAAGC,EAAGA,EAAa,EAATyK,EAAYhI,WAAW,SAASD,SAAUA,EAAUmI,WAAYA,EAAnF,SAAgGlP,MAKpG,uBAIJ,OACE,gCACE,qBAAKrD,MAAO,CAAEwS,WAAY,QAA1B,SACE,cAACC,GAAA,EAAD,CAAqBlS,MAAM,OAAOiK,OAAQ,IAA1C,SACI,eAACkI,GAAA,EAAD,CACEnS,MAAO,IACPiK,OAAQ,IACRpI,KAAMqO,EACNkC,YAAa,SAAC5V,GAAD,OAAOA,GAAMsT,EAASF,OAASpT,EAAE6V,aAAgBtC,EAAW,CAAEH,KAAMpT,EAAE6V,YAAaxC,MAAOC,EAAQ,SAC/GwC,YAAa,SAAC9V,GACRA,GAAK2S,GAAcC,YAAY5S,EAAE+V,qBACnCtC,EAAczT,EAAE+V,oBAEd/V,GAAKsT,EAASF,MAASE,EAASD,QAAUrT,EAAE6V,aAC9CtC,EAAW,CAAEF,MAAOrT,EAAE6V,YAAazC,KAAME,EAAQ,QAErD0C,UAAW,SAAAhW,GACgB,KAArBsT,EAAQ,MAAyC,KAAtBA,EAAQ,MA1GrD,WACE,IAAMa,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnDgR,EAAW,CAACH,KAAM,GAAIC,MAAO,KAC7BF,EAAU,CAACnB,IAAK,cAAeiB,OAAQ,gBACvCU,EAAgBQ,GAuGF8B,GAEAvB,KAEJwB,aAAc,SAAAlW,GAAMyT,OAAc,IAClC0C,OAAQ,CACNnE,IAAK,GACLqB,MAAO,GACPD,KAAM,GACNH,OAAQ,IAvBZ,UA0BE,cAACmD,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACC,GAAA,EAAD,CAASxO,QAAS,cAAC+M,EAAD,MAClB,cAAC0B,GAAA,EAAD,CAAQC,MAAM,OAAOC,cAAc,MAAMC,SAAU,GAAIC,aAAc,CAAC3E,IAAK,GAAI4E,aAjH3F,SAAkCC,GAAI,IAC5BC,EAAYD,EAAZC,QACRjD,EAAgB,2BAAKD,GAAN,kBAAsBkD,EAAU,MA+GkFZ,aA5GnI,SAAkCW,GAAI,IAC5BC,EAAYD,EAAZC,QACRjD,EAAgB,2BAAKD,GAAN,kBAAsBkD,EAAU,QA2GrC,cAACC,GAAA,EAAD,CACEC,mBAAiB,EACjBF,QAAQ,OACRzJ,SAAU,GACV4J,OAAQ,GACR3J,WAAW,MAEX4J,SAAU,EACVC,WAAY,EACZC,QAAS,CAAEhE,KAAM,GAAIC,MAAO,MAO9B,cAACgE,GAAA,EAAD,CACEC,QAAQ,OACRN,mBAAiB,EACjB/M,OAAQ,CAACiJ,EAAO,OAAYA,EAAO,KAEnCqE,cAAe,SAACjR,GACd,OAAOkO,WAAWlO,EAAM3F,QAAQ,OAGpC,cAAC0W,GAAA,EAAD,CAAOC,QAAQ,QAAQE,YAAY,QAAQzC,MAAO,CAAEzO,MAAO,IAAKmR,SAAU,UAAYpK,SAAU,GAAIpD,OAAQ,CAAC,EAAG,KAAMyN,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OACrK,cAACC,GAAA,EAAD,CACEL,QAAQ,OACRlU,KAAK,UAAU0T,QAAS,kBAAmB1Q,KAAK,kBAChDwR,OAAQ/E,GAAW,gBAAqBgF,YAAa,EACrDC,kBAAmB,IAJrB,SAME,cAACC,GAAA,EAAD,CAAWjB,QAAS,kBAAmBhP,QAASuN,EAAyBG,WAAW,WAGtF,cAACmC,GAAA,EAAD,CACEL,QAAQ,OACRlU,KAAK,UAAU0T,QAAS,sBAAuB1Q,KAAK,qBACpDwR,OAAQ/E,GAAW,oBAAyBgF,YAAa,EACzDC,kBAAmB,IAJrB,SAME,cAACC,GAAA,EAAD,CAAWjB,QAAS,sBAAuBhP,QAASuN,EAAyBG,WAAW,WAG1F,cAACmC,GAAA,EAAD,CAAML,QAAQ,OAAOlU,KAAK,UAAUgD,KAAM,QAAW0Q,QAAS,QAAWc,OAAQ/E,GAAW,MAAagF,YAAajE,EAAa,OAAe,EAAGkE,kBAAmB,IAAKE,KAAK,IAClL,cAACL,GAAA,EAAD,CAAML,QAAQ,OAAOlU,KAAK,UAAUgD,KAAM,SAAW0Q,QAAS,SAAWc,OAAQ/E,GAAY,UAAYgF,YAAajE,EAAc,WAAc,EAAGkE,kBAAmB,IAAKE,KAAK,IAClL,cAACL,GAAA,EAAD,CAAML,QAAQ,OAAOlU,KAAK,UAAUgD,KAAM,SAAW0Q,QAAS,SAAWc,OAAQ/E,GAAW,OAAagF,YAAajE,EAAa,QAAe,EAAGkE,kBAAmB,IAAKE,KAAK,IAClL,cAACL,GAAA,EAAD,CAAML,QAAQ,OAAOlU,KAAK,UAAUgD,KAAM,UAAW0Q,QAAS,UAAWc,OAAQ/E,GAAW,QAAagF,YAAajE,EAAa,SAAe,EAAGkE,kBAAmB,IAAKE,KAAK,IAClL,cAACL,GAAA,EAAD,CAAML,QAAQ,OAAOlU,KAAK,UAAUgD,KAAM,eAAgB0Q,QAAS,eAAgBc,OAAQ/E,GAAW,aAAkBgF,YAAajE,EAAa,cAAoB,EAAGkE,kBAAmB,IAAKE,KAAK,IAGtM,+BACE,iCAAgBrM,GAAG,wBAAwBsM,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAnE,UACE,sBAAM9C,OAAO,MAAM+C,UAAWxF,GAAW,mBAAwByF,YAAa,KAC9E,sBAAMhD,OAAO,MAAM+C,UAAWxF,GAAW,mBAAwByF,YAAa,SAGlF,cAACC,GAAA,EAAD,CAAMjB,QAAQ,QAAQlU,KAAK,WAAWgD,KAAM,qBAAsB0Q,QAAS,qBAAsBc,OAAQ/E,GAAW,mBAAwB2F,YAAa,EAAGC,KAAK,8BAAjK,SACE,cAACV,GAAA,EAAD,CAAWjB,QAAS,qBAAsBzJ,SAAU,GAAIvF,QAASuN,MAGnE,cAACqD,GAAA,EAAD,CAAepB,QAAQ,OAAOzM,EAAG,EAAG+M,OAAO,SAE1CtE,EAAQ,MAAYA,EAAQ,MAC3B,cAACqF,GAAA,EAAD,CAAerB,QAAQ,OAAOW,GAAI3E,EAAQ,KAAU6E,GAAI7E,EAAQ,MAAWsF,cAAe,KACxF,YAKXjG,GAAcC,YAAYY,IAAgBE,EAAeF,IAAgBE,EAAeF,GAAf,MACxE,sBACE9Q,UAAU,sCAAsCO,MAAO,CAAC+O,IAAK,GAAIoB,KAAM,IADzE,UAGE,qBAAK1Q,UAAU,UAAf,SAA0BgR,EAAeF,GAAf,OAC1B,qBAAKvQ,MAAO,CAACM,UAAW,WAAYD,WAAY,WAAYuV,UAAW,aAAvE,SACGnF,EAAeF,GAAf,c,UClWPX,GAAc,CAClB,MAAchU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,IAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,OAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,QAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,OAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,MAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,SAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,YAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,YAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,WAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,KAkO9D+F,GA9NU,SAACnX,GAAW,IAC3B0D,EAAS1D,EAAT0D,KAD0B,EAGAjE,IAAMQ,SAAS,CAACwR,KAAM,GAAIC,MAAO,KAHjC,mBAG3B0F,EAH2B,KAGhBC,EAHgB,OAIS5X,IAAMQ,SAASyD,GAJxB,mBAI3BqO,EAJ2B,KAIXuF,EAJW,KAM5BnF,EAAc1S,IAAM2S,aAAY,SAACC,EAAMC,GAC3C,GAAK5O,GAASA,EAAK9C,OAAnB,CAGA,IAJkD,EAI9C4R,EAAgB,GAEhBG,GAAoB,EACpBgB,EAAS,EAPqC,eAQhCjQ,GARgC,IAQlD,2BAAwB,CAAC,IAAhBgM,EAAe,QAMtB,GALIA,EAAK,OAAa2C,IACpBM,GAAoB,EACpBgB,EAASjE,EAAK,aAAmBA,EAAK,OAGnCiD,IAGLH,EAAcjD,KAAd,2BACKG,GADL,IAEE6H,aAAc7H,EAAK,aAAmBiE,KAGpCjE,EAAK,OAAa4C,GACpB,OAvB8C,8BA0BlD,OAAOE,KACN,CAAC9O,IAWJ,GATAjE,IAAMe,WAAU,WACd,GAAKkD,GAASA,EAAK9C,OAAnB,CAGA,IAAM4R,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnD0W,EAAiB9E,MAChB,CAAC9O,EAAMyO,KAGLJ,IAAmBA,EAAenR,OACrC,OACE,qBAAKG,UAAU,8BAA8BO,MAAO,CAACwR,WAAY,QAAjE,SACE,2CAMN,IAAI0E,EAAoB9T,EAAK,GAAL,YAAyB,EAC7C+T,EAAmB/T,EAAK,GAAL,YAAyB,EAC5CgU,EAAYhU,EAAK,GAAL,OAAoB,EAChCiU,EAAYjU,EAAK,GAAL,OAAoB,EAEpCA,EAAKkU,SAAQ,SAAClI,GACRA,EAAK,WAAiB8H,IACxBA,EAAoB9H,EAAK,YACvBA,EAAK,YAAkB8H,IACzBA,EAAoB9H,EAAK,aACvBA,EAAK,WAAiB+H,IACxBA,EAAmB/H,EAAK,YACtBA,EAAK,YAAkB+H,IACzBA,EAAmB/H,EAAK,aACtBA,EAAK,MAAYgI,IACnBA,EAAYhI,EAAK,OACfA,EAAK,MAAYiI,IACnBA,EAAYjI,EAAK,UAuCrB,IAAMmI,EAAmB,SAAC,GAA0C,IAAxCtM,EAAuC,EAAvCA,OAAiBuM,EAAsB,EAA/B3E,QAAmBC,EAAY,EAAZA,MACrD,IAAK7H,IAAWuM,IAAaA,EAASlX,OACpC,OAAO,KAET,IACMmX,EADeD,EAAS,GAAT,QACe,MAC9BE,EAAc,OAEdC,EAAuBH,EAASjI,QAAO,SAAAsD,GAAO,MAAwB,iBAApBA,EAAO,QAA6B,GAI5F,OACE,sBAAKpS,UAAU,8BAA8BO,MAAO,CAACoK,SAAS,GAAD,OAAK,GAAL,MAAa/J,WAAY,OAAtF,UACE,mBAAGZ,UAAU,2BAAb,SAAyCqS,IACzC,gCACE,kCACE,6BAAI,oBAAIG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjC+W,EAASrM,KAAI,SAAC0H,EAASrN,GACtB,MAAwB,iBAApBqN,EAAO,KACF,KAGP,+BACE,6BAAI,mBAAG7R,MAAO,CAAEvD,MAAOoV,EAAO,OAA1B,mBAA2CA,EAAO,UACtD,6BAAI,mBAAG7R,MAAO,CAAEvD,MAAOoV,EAAO,OAA1B,oBACJ,6BAAI,sBAAMpS,UAAU,QAAQO,MAAO,CAAEvD,MAAOoV,EAAO,MAAWK,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAApF,mBACE/M,EAAc8U,4BAA4BN,EAAO,OAAWxV,SAAS,GAAI,YAJxEwV,EAAO,SAWpB,6BAAI,oBAAII,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aAClC,+BACE,6BAAI,mBAAGO,MAAO,CAAEvD,MAAOia,GAAnB,qBACJ,6BAAI,mBAAG1W,MAAO,CAAEvD,MAAOia,GAAnB,oBACJ,6BAAI,sBAAMjX,UAAU,QAAQO,MAAO,CAAEvD,MAAOia,EAAaxE,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAA/E,mBACE/M,EAAc8U,4BAA4BsE,GAAiBpa,SAAS,GAAI,aAG/Esa,GACC,+BACE,6BAAI,mBAAG3W,MAAO,CAAEvD,MAAOka,EAAoB,OAAvC,mBAAwDA,EAAoB,UAChF,6BAAI,mBAAG3W,MAAO,CAAEvD,MAAOka,EAAoB,OAAvC,oBACJ,6BAAI,sBAAMlX,UAAU,QAAQO,MAAO,CAAEvD,MAAOka,EAAoB,MAAWzE,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAjG,mBACE/M,EAAc8U,4BAA4BwE,EAAoB,OAAWta,SAAS,GAAI,sBAU1G,OACE,qBAAK2D,MAAO,CAAEwS,WAAY,QAA1B,SACE,cAACC,GAAA,EAAD,CAAqBlS,MAAM,OAAOiK,OAAQ,IAA1C,SACE,eAACkI,GAAA,EAAD,CACEnS,MAAO,IACPiK,OAAQ,IACRpI,KAAMqO,EAENyC,OAAQ,CACNnE,IAAK,GACLqB,MAAO,GACPD,KAAM,GACNH,OAAQ,IAEV2C,YAAa,SAAC5V,GAAD,OAAOA,GAAM+Y,EAAU3F,OAASpT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB3F,KAAMpT,EAAE6V,gBACpGC,YAAa,SAAC9V,GAAD,OAAOA,GAAK+Y,EAAU3F,MAAS2F,EAAU1F,QAAUrT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB1F,MAAOrT,EAAE6V,gBACxHG,UAAW,SAAAhW,GACiB,KAAtB+Y,EAAS,MAA0C,KAAvBA,EAAS,MApFnD,WACE,IAAM5E,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnDyW,EAAa,CACX5F,KAAM,GACNC,MAAO,KAET4F,EAAiB9E,GA+EP8B,GA9GZ,WAAkB,IACV7C,EAAgB2F,EAAhB3F,KAAMC,EAAU0F,EAAV1F,MAEZ,GAAID,IAASC,GAAmB,KAAVA,EAAtB,CAUA,GAAID,EAAOC,EAAX,OAAkC,CAACA,EAAOD,GAAvBA,EAAnB,KAAyBC,EAAzB,KAEA,IAAMc,EAAgBL,EAAYV,EAAMC,GAExC2F,EAAa,CACX5F,KAAM,GACNC,MAAO,KAGT4F,EAAiB9E,QAlBf6E,EAAa,2BACRD,GADO,IAEV3F,KAAM,GACNC,MAAO,MAyGDqB,IAjBN,UAoBE,cAAC6B,GAAA,EAAD,CAAQC,MAAM,OAAOC,cAAc,MAAME,aAAc,CAAC3E,IAAK,KAC7D,cAACoE,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACU,GAAA,EAAD,CACED,QAAQ,OACR7M,OAAQ,CAAC,OAAQ,QACjBoD,SAAU,GACV4J,OAAQ,GACR3J,WAAW,MAEX4J,SAAU,EACVC,WAAY,IAGd,cAACE,GAAA,EAAD,CAAOC,QAAQ,OAAOjK,SAAU,GAAIkK,cAAe,SAACsC,GAAD,OAAWvZ,EAAc8U,4BAA4ByE,MACxG,cAACxC,GAAA,EAAD,CAAOC,QAAQ,QAAQE,YAAY,QAAQnK,SAAU,GAAIkK,cAAe,SAACsC,GAAD,OAAWvZ,EAAc8U,4BAA4ByE,MAC7H,cAACvD,GAAA,EAAD,CAASxO,QAAS,cAAC0R,EAAD,MAClB,cAACd,GAAA,EAAD,CAAepB,QAAQ,OAAOzM,EAAG,EAAG+M,OAAO,SAC3C,cAACkC,GAAA,EAAD,CAAKxC,QAAQ,OAAOR,QAAQ,QAAU2B,KAAM5F,GAAW,MAAakH,QAAQ,UAC5E,cAACD,GAAA,EAAD,CAAKxC,QAAQ,OAAOR,QAAQ,SAAU2B,KAAM5F,GAAY,UAAYkH,QAAQ,UAC5E,cAACD,GAAA,EAAD,CAAKxC,QAAQ,OAAOR,QAAQ,SAAU2B,KAAM5F,GAAW,OAAakH,QAAQ,UAC5E,cAACD,GAAA,EAAD,CAAKxC,QAAQ,OAAOR,QAAQ,UAAU2B,KAAM5F,GAAW,QAAakH,QAAQ,UAE5E,cAACpC,GAAA,EAAD,CAAML,QAAQ,QAAQlU,KAAK,UAAUgD,KAAK,eAAe0Q,QAAQ,eAAec,OAAO,OAAOC,YAAa,IAE1GkB,EAAS,MAAYA,EAAS,MAC7B,cAACJ,GAAA,EAAD,CAAeV,GAAIc,EAAS,KAAUZ,GAAIY,EAAS,MAAWzB,QAAQ,OAAOsB,cAAe,KAC1F,a,oBCgFCoB,GArTS,SAACrY,GAAW,IAC1B0D,EAAS1D,EAAT0D,KADyB,EAGCjE,IAAMQ,SAAS,CAACwR,KAAM,GAAIC,MAAO,KAHlC,mBAG1B0F,EAH0B,KAGfC,EAHe,OAIU5X,IAAMQ,SAASyD,GAJzB,mBAI1BqO,EAJ0B,KAIVuF,EAJU,KAM3BnF,EAAc1S,IAAM2S,aAAY,SAACC,EAAMC,GAC3C,GAAK5O,GAASA,EAAK9C,OAAnB,CAGA,IAJkD,EAI9C4R,EAAgB,GAEhBG,GAAoB,EAN0B,eAOhCjP,GAPgC,IAOlD,2BAAwB,CAAC,IAAhBgM,EAAe,QAItB,GAHIA,EAAK,OAAa2C,IACpBM,GAAoB,GAEjBA,IAGLH,EAAcjD,KAAKG,GAEfA,EAAK,OAAa4C,GACpB,OAjB8C,8BAoBlD,OAAOE,KACN,CAAC9O,IAWJ,GATAjE,IAAMe,WAAU,WACd,GAAKkD,GAASA,EAAK9C,OAAnB,CAGA,IAAM4R,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnD0W,EAAiB9E,MAChB,CAAC9O,EAAMyO,KAGLJ,IAAmBA,EAAenR,OACrC,OACE,qBAAKG,UAAU,8BAA8BO,MAAO,CAACwR,WAAY,QAAjE,SACE,2CAwCN,IAAI0E,EAAoB9T,EAAK,GAAL,YAAyB,EAC7C+T,EAAmB/T,EAAK,GAAL,YAAyB,EAC5CgU,EAAYhU,EAAK,GAAL,OAAoB,EAChCiU,EAAYjU,EAAK,GAAL,OAAoB,EAEpCA,EAAKkU,SAAQ,SAAClI,GACRA,EAAK,WAAiB8H,IACxBA,EAAoB9H,EAAK,YACvBA,EAAK,YAAkB8H,IACzBA,EAAoB9H,EAAK,aACvBA,EAAK,WAAiB+H,IACxBA,EAAmB/H,EAAK,YACtBA,EAAK,YAAkB+H,IACzBA,EAAmB/H,EAAK,aACtBA,EAAK,MAAYgI,IACnBA,EAAYhI,EAAK,OACfA,EAAK,MAAYiI,IACnBA,EAAYjI,EAAK,UAIrB,IAAM4I,EAAoB,SAAC,GAAgC,IAA9B/M,EAA6B,EAA7BA,OAAQ4H,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC5C,IAAK7H,IAAW4H,IAAYA,EAAQvS,OAClC,OAAO,KAET,IAII2X,EACAC,EACAC,EACAC,EAPEC,EAAexF,EAAQ,GAAR,QAmCrB,OA1BAA,EAAQyE,SAAQ,SAAAlI,GACd,OAAQA,EAAK,MACX,IAAK,QACH6I,EAAgB7I,EAChB,MACF,IAAK,gBACH8I,EAAoB9I,EACpB,MACF,IAAK,MACH+I,EAAc/I,EACd,MACF,IAAK,OACHgJ,EAAehJ,MAMjB+I,IACFA,EAAW,WAAiBE,EAAY,YACtCD,IACFA,EAAY,YAAkBC,EAAY,aACxCH,IACFA,EAAiB,MAAYG,EAAY,OAIzC,sBAAK5X,UAAU,8BAA8BO,MAAO,CAACoK,SAAS,GAAD,OAAK,GAAL,MAAa/J,WAAY,OAAtF,UACE,mBAAGZ,UAAU,2BAAb,SAAyCqS,IACzC,gCACE,kCACE,6BAAI,oBAAIG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjCwX,GAAiBA,EAAa,OAC7B,+BACE,6BAAI,mBAAGjX,MAAO,CAAEvD,MAAOwa,EAAcxa,OAAjC,mBAA8Cwa,EAAc9T,UAChE,6BAAI,mBAAGnD,MAAO,CAAEvD,MAAOwa,EAAcxa,OAAjC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAOwa,EAAcxa,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAvF,mBACE/M,EAAc8U,4BAA4B8E,EAAa,OAAW5a,SAAS,GAAI,YAJ9E4a,EAAa,MAQvBC,GAAqBA,EAAiB,OAAaA,EAAiB,OACnE,eAAC,IAAMI,SAAP,WACE,+BACE,6BAAI,mBAAGtX,MAAO,CAAEvD,MAAOya,EAAkBza,OAArC,mBAAkDya,EAAkB/T,UACxE,6BAAI,mBAAGnD,MAAO,CAAEvD,MAAOya,EAAkBza,OAArC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAOya,EAAkBza,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAA3F,mBACE/M,EAAc8U,4BAA4B+E,EAAiB,OAAW7a,SAAS,GAAI,YAJlF6a,EAAiB,MAO1B,+BACE,6BAAI,mBAAGlX,MAAO,CAAEvD,MAAOya,EAAkBza,OAArC,SAA+C,YACnD,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAOya,EAAkBza,OAArC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAOya,EAAkBza,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAA3F,mBACE/M,EAAc8U,4BAA4B+E,EAAiB,OAAW7a,SAAS,GAAI,YAJlF,aAUV8a,GAAeA,EAAW,OAAaA,EAAW,YAAoBC,GAAgBA,EAAY,OAAaA,EAAY,cAC5H,6BAAI,oBAAInF,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aAGnC0X,GAAeA,EAAW,OAAaA,EAAW,YACjD,eAAC,IAAMG,SAAP,WACE,+BACE,6BAAI,mBAAGtX,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,SAAyC,gBAC7C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO0a,EAAY1a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAArF,mBACE/M,EAAc8U,4BAA4BgF,EAAW,OAAW9a,SAAS,GAAI,YAJ5E8a,EAAW,MAOpB,+BACE,6BAAI,mBAAGnX,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,SAAyC,iBAC7C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO0a,EAAY1a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAArF,mBACE/M,EAAc8U,4BAA4BgF,EAAW,YAAgB9a,SAAS,GAAI,YAJjF,iBAUZ+a,GAAgBA,EAAY,OAAaA,EAAY,aACpD,eAAC,IAAME,SAAP,WACE,+BACE,6BAAI,mBAAGtX,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,SAA0C,iBAC9C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO2a,EAAa3a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAtF,mBACE/M,EAAc8U,4BAA4BiF,EAAY,OAAW/a,SAAS,GAAI,YAJ7E+a,EAAY,MAOrB,+BACE,6BAAI,mBAAGpX,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,SAA0C,kBAC9C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO2a,EAAa3a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAtF,mBACE/M,EAAc8U,4BAA4BiF,EAAY,aAAiB/a,SAAS,GAAI,YAJnF,2BAgBjBkb,EAAW,SAAC7Y,GAAW,IACnB8Y,EAAwC9Y,EAAxC8Y,GAAIC,EAAoC/Y,EAApC+Y,GAAI9C,EAAgCjW,EAAhCiW,OACZ+C,EAD4ChZ,EAAxBmT,QACL,MACnB,GAAI6F,EAAQ,EACV,OAAO,KAET,IAAIC,EAAOD,EAAQrB,EAAY,IAE/B,OACE,qBAAK1O,EAAG6P,EAAK,GAAI5P,EAAG6P,EAAK,GAAIlX,MAAO,GAAIiK,OAAQ,GAAIgL,KAAMb,EAAQY,YAAa,GAAKqC,QAAQ,gBAA5F,SACE,wBAAQJ,GAAI,IAAKC,GAAI,IAAKI,EAAGF,OAMnC,OACE,qBAAK3X,MAAO,CAAEwS,WAAY,QAA1B,SACE,cAACC,GAAA,EAAD,CAAqBlS,MAAM,OAAOiK,OAAQ,IAA1C,SACE,eAACkI,GAAA,EAAD,CACEnS,MAAO,IACPiK,OAAQ,IACRpI,KAAMqO,EACNyC,OAAQ,CACNnE,IAAK,GACLoB,KAAM,GACNC,MAAO,GACPJ,OAAQ,IAEV2C,YAAa,SAAC5V,GAAD,OAAOA,GAAM+Y,EAAU3F,OAASpT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB3F,KAAMpT,EAAE6V,gBACpGC,YAAa,SAAC9V,GAAD,OAAOA,GAAK+Y,EAAU3F,MAAS2F,EAAU1F,QAAUrT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB1F,MAAOrT,EAAE6V,gBACxHG,UAAW,SAAAhW,GACiB,KAAtB+Y,EAAS,MAA0C,KAAvBA,EAAS,MAxLnD,WACE,IAAM5E,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnDyW,EAAa,CACX5F,KAAM,GACNC,MAAO,KAET4F,EAAiB9E,GAmLP8B,GAlNZ,WAAkB,IACV7C,EAAgB2F,EAAhB3F,KAAMC,EAAU0F,EAAV1F,MAEZ,GAAID,IAASC,GAAmB,KAAVA,EAAtB,CAUA,GAAID,EAAOC,EAAX,OAAkC,CAACA,EAAOD,GAAvBA,EAAnB,KAAyBC,EAAzB,KAEA,IAAMc,EAAgBL,EAAYV,EAAMC,GAExC2F,EAAa,CACX5F,KAAM,GACNC,MAAO,KAGT4F,EAAiB9E,QAlBf6E,EAAa,2BACRD,GADO,IAEV3F,KAAM,GACNC,MAAO,MA6MDqB,IAhBN,UAmBE,cAAC0B,GAAA,EAAD,CAAewB,OAAO,SACtB,cAACtB,GAAA,EAAD,CAASxO,QAAS,cAACmS,EAAD,MAClB,cAAC1D,GAAA,EAAD,CAAQC,MAAM,OAAOC,cAAc,MAAMhJ,OAAQ,GAAIiJ,SAAU,KAE/D,cAACK,GAAA,EAAD,CACED,QAAQ,OACR7M,OAAQ,CAAC,OAAQ,QACjBoD,SAAU,GACV4J,OAAQ,GACR3J,WAAW,MAEX4J,SAAU,EACVC,WAAY,EAGZC,QAAS,CAAEhE,KAAM,GAAIC,MAAO,MAE9B,cAACgE,GAAA,EAAD,CAGEhK,SAAU,GACVpD,OAAQ,CAAC,SAAA8Q,GAAO,OAAIlb,SAAmB,KAAVkb,IAAkB,SAAAC,GAAO,OAAInb,SAAmB,MAAVmb,KAKnEzD,cAAe,SAACsC,GAAD,OAAWvZ,EAAc8U,4BAA4ByE,MAEtE,cAACoB,GAAA,EAAD,CAAOnE,QAAQ,cAAc1Q,KAAK,cAAc6D,OAAQ,CAACkP,EAAmBC,GAAmBlP,MAAO,CAAC,GAAI,KAAMgR,KAAK,KAAKC,QAAQ,aACnI,cAACF,GAAA,EAAD,CAAOnE,QAAQ,aAAc1Q,KAAK,aAAc6D,OAAQ,CAACkP,EAAmBC,GAAmBlP,MAAO,CAAC,GAAI,KAAMgR,KAAK,KAAKC,QAAQ,YAGnI,cAACxD,GAAA,EAAD,CAAMvU,KAAK,UAAU0T,QAAQ,UAC7B,cAACa,GAAA,EAAD,CAAMvU,KAAK,UAAUgD,KAAK,gBAAgB0Q,QAAQ,UAAUc,OAAO,OAAOI,IAAK,cAACwC,EAAD,MAE/E,cAACY,GAAA,EAAD,CAAShV,KAAK,OAAO0Q,QAAQ,aAAauE,MAAM,SAASzD,OAAO,OAAOY,YAAa,GAAKC,KAAK,QAAQ6C,WAAW,SAASH,QAAQ,aAClI,cAACC,GAAA,EAAD,CAAShV,KAAK,MAAO0Q,QAAQ,YAAauE,MAAM,SAASzD,OAAO,OAAOY,YAAa,GAAKC,KAAK,QAAQ6C,WAAW,SAASH,QAAQ,YAGjIpC,EAAS,MAAYA,EAAS,MAC7B,cAACJ,GAAA,EAAD,CAAeV,GAAIc,EAAS,KAAUZ,GAAIY,EAAS,MAAWH,cAAe,KAC3E,a,UC/SR/F,GAAc,CAClB,MAAchU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,IAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,OAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,QAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,OAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,MAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,SAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,YAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,YAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,WAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,IAC3E,UAAclU,EAAWiU,mBAAmBjU,EAAWkU,mBAAoB,KAkO9DwI,GA9Ne,SAAC5Z,GAAW,IAChC0D,EAAU1D,EAAV0D,KAD+B,EAGLjE,IAAMQ,SAAS,CAACwR,KAAM,GAAIC,MAAO,KAH5B,mBAGhC0F,EAHgC,KAGrBC,EAHqB,OAII5X,IAAMQ,SAASyD,GAJnB,mBAIhCqO,EAJgC,KAIhBuF,EAJgB,KAMjCnF,EAAc1S,IAAM2S,aAAY,SAACC,EAAMC,GAC3C,GAAK5O,GAASA,EAAK9C,OAAnB,CAGA,IAJkD,EAI9C4R,EAAgB,GAEhBG,GAAoB,EAN0B,eAOhCjP,GAPgC,IAOlD,2BAAwB,CAAC,IAAhBgM,EAAe,QAItB,GAHIA,EAAK,OAAa2C,IACpBM,GAAoB,GAEjBA,IAGLH,EAAcjD,KAAKG,GAEfA,EAAK,OAAa4C,GACpB,OAjB8C,8BAoBlD,OAAOE,KACN,CAAC9O,IAWJ,GATAjE,IAAMe,WAAU,WACd,GAAKkD,GAASA,EAAK9C,OAAnB,CAGA,IAAM4R,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnD0W,EAAiB9E,MAChB,CAAC9O,EAAMyO,KAGLJ,IAAmBA,EAAenR,OACrC,OACE,qBAAKG,UAAU,8BAA8BO,MAAO,CAACwR,WAAY,QAAjE,SACE,2CAuCN,IAAMwF,EAAoB,SAAC,GAAgC,IAA9B/M,EAA6B,EAA7BA,OAAQ4H,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC5C,OAAK7H,GAAW4H,GAAYA,EAAQvS,OAKlC,sBAAKG,UAAU,8BAA8BO,MAAO,CAACoK,SAAS,GAAD,OAAK,GAAL,MAAa/J,WAAY,OAAtF,UACE,mBAAGZ,UAAU,2BAAb,SAAyCqS,IACzC,gCACE,kCACE,6BAAI,oBAAIG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjCoS,EAAQ1H,KAAI,SAAAiE,GACX,IAAImK,GAAY,IAAMnK,EAAK,MAAaA,EAAK,QAAL,OAA2B1Q,QAAQ,GAAGrB,SAAS,EAAG,KAC1F,OACE,+BACE,6BAAI,mBAAG2D,MAAO,CAAEvD,MAAO2R,EAAM3R,OAAzB,mBAAsC2R,EAAMjL,UAChD,6BAAI,mBAAGnD,MAAO,CAAEvD,MAAO2R,EAAM3R,OAAzB,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO2R,EAAM3R,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAA/E,mBACE/M,EAAc8U,4BAA4B/D,EAAK,OAAW/R,SAAS,GAAI,KADzE,aACkFkc,EADlF,YAHGnK,EAAK,SAQfoK,UACH,6BAAI,oBAAIvG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aAClC,+BACE,6BAAI,mBAAGA,UAAU,YAAYO,MAAO,CAAEvD,MAAO,SAAzC,qBACJ,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO,SAAnB,oBACJ,oBAAIgD,UAAU,WAAd,SAAyB,sBAAMA,UAAU,sBAAsBO,MAAO,CAAEkS,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAzE,0BACjB/M,EAAc8U,4BAA4BN,EAAQ,GAAR,+BA1BnD,MAqCLO,EAA0B,SAAC1T,GAAW,IAClCiJ,EAAqDjJ,EAArDiJ,EAAGC,EAAkDlJ,EAAlDkJ,EAAGyK,EAA+C3T,EAA/C2T,OAAQhP,EAAuC3E,EAAvC2E,MAAOiP,EAAgC5T,EAAhC4T,MAAOlI,EAAyB1L,EAAzB0L,SAAUmI,EAAe7T,EAAf6T,WAE9C,OAAID,EAAQ,IAAM,EAEd,4BACE,sBAAM3K,EAAGA,EAAGC,EAAGA,EAAIyK,EAAQhI,WAAW,SAASD,SAAUA,EAAUmI,WAAYA,EAA/E,SACGlV,EAAcob,qBAAqBpV,OAM1C,uBAKJ,OACE,qBAAKrD,MAAO,CAAEwS,WAAY,QAA1B,SACE,cAACC,GAAA,EAAD,CAAqBlS,MAAM,OAAOiK,OAAQ,IAA1C,SACE,eAACkO,GAAA,EAAD,CACEnY,MAAO,IACPiK,OAAQ,IACRpI,KAAMqO,EACNkI,oBAAoB,EACpBzF,OAAQ,CACNnE,IAAK,GACLqB,MAAO,GACPD,KAAM,GACNH,OAAQ,IAEV2C,YAAa,SAAC5V,GAAD,OAAOA,GAAM+Y,EAAU3F,OAASpT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB3F,KAAMpT,EAAE6V,gBACpGC,YAAa,SAAC9V,GAAD,OAAOA,GAAK+Y,EAAU3F,MAAS2F,EAAU1F,QAAUrT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB1F,MAAOrT,EAAE6V,gBACxHG,UAAW,SAAAhW,GACiB,KAAtB+Y,EAAS,MAA0C,KAAvBA,EAAS,MAnFnD,WACE,IAAM5E,EAAgBL,EAAYzO,EAAK,GAAL,KAAiBA,EAAKA,EAAK9C,OAAS,GAAnB,MACnDyW,EAAa,CACX5F,KAAM,GACNC,MAAO,KAET4F,EAAiB9E,GA8EP8B,GA7GZ,WAAkB,IACV7C,EAAgB2F,EAAhB3F,KAAMC,EAAU0F,EAAV1F,MAEZ,GAAID,IAASC,GAAmB,KAAVA,EAAtB,CAUA,GAAID,EAAOC,EAAX,OAAkC,CAACA,EAAOD,GAAvBA,EAAnB,KAAyBC,EAAzB,KAEA,IAAMc,EAAgBL,EAAYV,EAAMC,GAExC2F,EAAa,CACX5F,KAAM,GACNC,MAAO,KAGT4F,EAAiB9E,QAlBf6E,EAAa,2BACRD,GADO,IAEV3F,KAAM,GACNC,MAAO,MAwGDqB,IAjBN,UAoBE,cAAC0B,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACU,GAAA,EAAD,CAAOD,QAAQ,OACbzJ,SAAU,GACV4J,OAAQ,GACR3J,WAAW,MAEX4J,SAAU,EACVC,WAAY,EACZC,QAAS,CAAEhE,KAAM,GAAIC,MAAO,MAO9B,cAACgE,GAAA,EAAD,CACEL,mBAAiB,EACjB/M,OAAQ,CAAC,EAAG,SAAA+Q,GAAO,OAAInb,SAAmB,IAAVmb,KAChC3N,SAAU,GACVkK,cAAe,SAACsC,GAAD,OAAWvZ,EAAc8U,4BAA4ByE,MAEtE,cAACvD,GAAA,EAAD,CAASxO,QAAS,cAACmS,EAAD,MAClB,cAAC1D,GAAA,EAAD,CAAQC,MAAM,OAAOC,cAAc,MAAMC,SAAU,GAAIC,aAAc,CAAC3E,IAAK,KAC3E,eAACuG,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,MAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,IAAe4F,KAAM5F,GAAW,IAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,cAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,SAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,OAAe4F,KAAM5F,GAAW,OAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,iBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,QAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,MAAe4F,KAAM5F,GAAW,MAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,gBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,SAAaiD,QAAQ,IAAInC,OAAQ/E,GAAY,UAAc4F,KAAM5F,GAAY,UAAciF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,iBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,SAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,OAAe4F,KAAM5F,GAAW,OAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,iBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,UAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,QAAe4F,KAAM5F,GAAW,QAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,kBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,YAAaiD,QAAQ,IAAInC,OAAQ/E,GAAY,aAAc4F,KAAM5F,GAAY,aAAciF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,oBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,YAAaiD,QAAQ,IAAInC,OAAQ/E,GAAY,aAAc4F,KAAM5F,GAAY,aAAciF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,oBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,QAAaiD,QAAQ,IAAInC,OAAQ/E,GAAW,MAAe4F,KAAM5F,GAAW,MAAeiF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,gBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,WAAaiD,QAAQ,IAAInC,OAAQ/E,GAAY,YAAc4F,KAAM5F,GAAY,YAAciF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,mBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MAA5V,OACA,eAAC4X,GAAA,EAAD,CAAMnV,KAAK,WAAW0T,QAAS,UAAaiD,QAAQ,IAAInC,OAAQ/E,GAAY,WAAc4F,KAAM5F,GAAY,WAAciF,kBAAmB,IAA7I,UAAqK,MAAlBpE,GAA0BA,EAAenR,OAAS,GAAK,KAAO,cAACwV,GAAA,EAAD,CAAWjB,QAAS,kBAAqBW,SAAS,gBAAgBnC,OAAQ,EAAGjI,SAAU,GAAIwO,UAAW,SAACC,GAAQ,GAAIA,EAAI,EAAG,OAAOA,EAAEnb,QAAQ,MACvU,MAAlB+S,GAA0BA,EAAenR,OAAS,GAE7C,cAACwV,GAAA,EAAD,CAAWjB,QAAS,QAASW,SAAS,MAAMnC,OAAQ,GAAIjI,SAAU,GAChEwO,UAAW,SAACxK,GACV,OAAO/Q,EAAcob,qBAAqBrK,IAE5CvJ,QAASuN,IAIX,cAAC0C,GAAA,EAAD,CAAWjB,QAAS,QAASW,SAAS,MAAMnC,OAAQ,GAAIjI,SAAU,GAChEwO,UAAW,SAACxK,GACV,OAAO/Q,EAAc8U,4BAA4B/D,IAEnDvJ,QAASuN,OAKlB0D,EAAS,MAAYA,EAAS,MAC7B,cAACJ,GAAA,EAAD,CAAeV,GAAIc,EAAS,KAAUZ,GAAIY,EAAS,MAAWH,cAAe,KAC3E,aCsDCmD,GAvRO,WAAO,IAAD,EACuD3a,IAAMQ,SAAS,IADtE,mBACnBoa,EADmB,KACkBC,EADlB,OAEuD7a,IAAMQ,SAAS,IAFtE,mBAEnBsa,EAFmB,KAEkBC,EAFlB,OAGuD/a,IAAMQ,SAAS,IAHtE,mBAGnBwa,EAHmB,KAGkBC,EAHlB,OAIuDjb,IAAMQ,SAAS,SAJtE,mBAInB0a,EAJmB,KAIkBC,EAJlB,OAKuDnb,IAAMQ,SAAS,IALtE,mBAKnB4a,EALmB,KAKkBC,EALlB,KAOtBC,EAAiCR,EAAsBI,IAAwC,GAE7FK,EAAqBvb,IAAMwb,SAE3BC,EAAazb,IAAM2S,aAAY,SAAC1O,GACpC,IAAIyX,EAAmB,GACnBC,EAAuB,GACvBC,EAAqB,GACrBC,EAAiB,GAEjBC,EAAiB,GACjBC,EAAa,GAGjBhW,OAAOK,KAAKnC,GAAMkU,SAAQ,SAAC6D,GACP,UAAdA,EACF/X,EAAK+X,GAAW7D,SAAQ,SAAC8D,GACvB,IAAI9I,EAAO3T,EAAU0c,mBAAmBD,EAAI,iBACxCE,EAAc7K,KAAO6B,GAAM7T,OAAO,mBAC/B2c,EAAI,gBAGNH,EAAeK,KAClBL,EAAeK,GAAe,IAChCL,EAAeK,GAAf,gBAAiD/I,YAAY6I,EAAG,UAAgB,GAAG1c,QAAQ,IAC3Fuc,EAAeK,GAAf,KAAsCF,EAAG,KAEzC,IAAIG,GAAsD,IAAhChJ,WAAW6I,EAAG,aAAuB1c,QAAQ,GACvEuc,EAAeK,GAAf,mBAAoDC,EAOpD,IAAIC,EAAc,GAClB,CACE,MACA,SACA,QACA,SACA,SACA,UACA,QACA,YACA,YACA,WACA,WACAlE,SAAQ,SAAC7R,GACT+V,EAAY,WAAD,OAAY/V,IAlBzB,SAAuBA,GACrB,OAAO8M,YAAa,IAAM6I,EAAI3V,GAAQ2V,EAAG,OAAW1c,QAAQ,IAiB5B+c,CAAchW,MAGhDoV,EAAiB5L,KAAjB,uCACKmM,GACAI,GAFL,IAGElJ,KAAMgJ,QAIa,UAAdH,GAAuC,WAAdA,GAAwC,WAAdA,GAAwC,YAAdA,EAEtFL,EAAqBK,GAAa/X,EAAK+X,GAAWhQ,KAAI,SAACiQ,GACrD,IAAI9I,EAAO3T,EAAU0c,mBAAmBD,EAAI,iBACxCE,EAAc7K,KAAO6B,GAAM7T,OAAO,YAKtC,GAFKsc,EAAmBO,KACvBP,EAAmBO,GAAe,CAAE,MAAS,IAC1CF,EAAI,uBAAUA,EAAI,sBAAQ,CAC5B,IAAIlE,EAAoBja,KAAKS,IAAI0d,EAAI,sBAAQA,EAAI,uBAC7CM,GAAaN,EAAI,4BAAUA,EAAI,6BAAWlE,EAC9C6D,EAAmBO,GAAaH,GAAaO,EAC7CX,EAAmBO,GAAnB,OAA4CI,EAe9C,MAXkB,UAAdP,GAAuC,WAAdA,GAAwC,WAAdA,IAChDF,EAAeK,KAClBL,EAAeK,GAAe,IAChCL,EAAeK,GAAaH,GAAaC,EAAG,IAE5B,YAAdD,IACGF,EAAeK,KAClBL,EAAeK,GAAe,IAChCL,EAAeK,GAAaH,GAAaC,EAAI,iBAGxC,CACL9I,KAAMgJ,EACN1D,MAAOwD,EAAI,gBACXO,UAAWP,EAAI,4BACfQ,WAAYR,EAAI,4BAChBS,WAAYT,EAAI,sBAChBU,YAAaV,EAAI,sBACjBW,QAASX,EAAI,4BACb1C,MAAO0C,EAAI,0BAGQ,cAAdD,EACT/X,EAAK+X,GAAW7D,SAAQ,SAAC8D,GACvB,IAAIE,EAAc7K,KAAO9R,EAAU0c,mBAAmBD,EAAG,OAAW3c,OAAO,YAEtEwc,EAAeK,KAClBL,EAAeK,GAAe,IAChCL,EAAeK,GAAaH,GAAa5I,WAAW6I,EAAG,OAAW1c,QAAQ,OAErD,iBAAdyc,GACT/X,EAAK+X,GAAW7D,SAAQ,SAAC8D,GACvB,IAAI9I,EAAO3T,EAAU0c,mBAAmBD,EAAI,iBACxCE,EAAc7K,KAAO6B,GAAM7T,OAAO,YACjCwc,EAAeK,KAClBL,EAAeK,GAAe,IAChCL,EAAeK,GAAaH,GAAaC,EAAI,sBAOnD,IAAInE,EAAe,EAkBnB,OAjBA/R,OAAOK,KAAKwV,GAAoBzD,SAAQ,SAAChF,EAAM9M,GAC7CyR,GAAgB8D,EAAmBzI,GAAnB,MAChB0I,EAAe/L,KAAf,yBACEqD,QACGyI,EAAmBzI,IAFxB,IAGE2E,qBAKJ/R,OAAOK,KAAK0V,GAAgB3D,SAAQ,SAAChF,EAAM9M,GACzC0V,EAAWjM,KAAX,aACEqD,QACG2I,EAAe3I,QAIf,CACLuI,mBACAC,uBACAE,iBACAE,gBAED,IA0DH,OAxDA/b,IAAMe,WAAU,WACd,IAAI8b,EAAalO,aAAaC,QAAQ,qBACtC,GAAKiO,EAAL,CAGA,IAAI5Y,EAAOnB,KAAK+L,MAAMgO,GACtB,IAAK,IAAD,EAC6EpB,EAAWxX,GAAlFyX,EADN,EACMA,iBAAkBC,EADxB,EACwBA,qBAAsBE,EAD9C,EAC8CA,eAAgBE,EAD9D,EAC8DA,WAChElB,EAAkBa,GAClBX,EAAsBY,GACtBN,EAAiBQ,GACjBZ,EAAac,GACb,MAAOnd,GACP+P,aAAamO,WAAW,qBACxBhe,OAAOie,SAASC,aAEjB,CAACvB,IAyCF,gCACE,qBAAKna,UAAU,qCAAqCO,MAAO,CAACoK,SAAS,QAAD,OAAU,EAAV,SAAoB,EAApB,QAApE,2BAGA,sBAAK3K,UAAU,2CAAf,UACE,qBAAKA,UAAU,OAAf,SACE,uBAAOU,KAAK,SAASV,UAAU,oBAC7BC,QAAS,SAAA3C,GAAC,OAAIE,OAAOme,KAAK,iEAAkE,WAD9F,+BAMF,gCACE,sBAAM1R,IAAKgQ,EAAX,SACE,uBAAOvZ,KAAK,OAAOkb,OAAO,QAAQ3S,GAAG,kBACnCjJ,UAAU,SACVC,QAAS,SAAA3C,GAAC,OAAIA,EAAEqG,OAAOqB,IAAM,UAAW,IAAI3G,MAAOwd,mBAEnDnY,KAAK,aAAaU,SA3C9B,SAAqB3G,GACnB,IAAIkH,EAAQlH,EAAMkG,OACdmY,EAAS,IAAIC,WACjBD,EAAOE,OAAS,WACd,IAAIC,EAAQH,EAAO5X,OACfgY,EAAcC,KAAKC,KAAKH,EAAO,CAACvb,KAAO,WAEvCiC,EAAO,GACXuZ,EAAYG,WAAWxF,SAAQ,SAAS6D,GACtC,IAAI4B,EAAYH,KAAKI,MAAMC,cAAcN,EAAYO,OAAO/B,IAC5D/X,EAAK+X,GAAa4B,KAGpBrC,EAAmByC,QAAQC,QAC3BtP,aAAaoB,QAAQ,oBAAqBjN,KAAKC,UAAUkB,IAXhC,MAYsDwX,EAAWxX,GAAlFyX,EAZiB,EAYjBA,iBAAkBC,EAZD,EAYCA,qBAAsBE,EAZvB,EAYuBA,eAAgBE,EAZvC,EAYuCA,WAChElB,EAAkBa,GAClBX,EAAsBY,GACtBN,EAAiBQ,GACjBZ,EAAac,IAEfqB,EAAOc,mBAAmBjY,EAAMkY,MAAM,SAyBhC,uBAAOnc,KAAK,SAASoc,QAAQ,kBAAkB9c,UAAU,iBAAzD,+BAKJ,qBAAKA,UAAU,yCAAf,SACE,6BAAI,oDAEN,qBAAKA,UAAU,oBAAf,yBACA,qBAAKA,UAAU,wBAAf,SACGyE,OAAOK,KAAK0U,GAAuB9O,KAAI,SAAC1F,EAAKD,GAC5C,OACE,sBAAa/E,UAAU,uBAAvB,UACE,uBACEA,UAAU,mBAAmBU,KAAK,QAAQgD,KAAI,gBAAWsB,GAAOiE,GAAE,gBAAWjE,GAC7E+X,QAASnD,IAAwC5U,EAAKZ,SAAU,SAAA9G,GAAC,OAAIuc,EAAkC7U,MAEzG,uBAAOhF,UAAU,mBAAmB8c,QAAO,gBAAW9X,GAAtD,SACGA,MANKD,QAahB,qBAAK/E,UAAU,OAAf,SACE,cAAC,GAAD,CAAiB2C,KAAMqX,MAEzB,qBAAKha,UAAU,OAAf,SACE,cAAC,GAAD,CAAkB2C,KAAMmX,MAG1B,qBAAK9Z,UAAU,yCAAf,SACE,6BAAI,sDAEN,qBAAKA,UAAU,OAAf,SACE,cAAC,GAAD,CAAuB2C,KAAM2W,MAG/B,qBAAKtZ,UAAU,yCAAf,SACE,6BAAI,0CAEN,qBAAKA,UAAU,OAAf,SACE,cAAC,GAAD,CAAc2C,KAAM+W,UCObsD,GA5Ra,SAAC/d,GAAW,IAC9B0D,EAAS1D,EAAT0D,KAD6B,EAGHjE,IAAMQ,SAAS,CAACwR,KAAM,GAAIC,MAAO,KAH9B,mBAG9B0F,EAH8B,KAGnBC,EAHmB,OAIM5X,IAAMQ,SAASyD,GAJrB,mBAI9BqO,EAJ8B,KAIduF,EAJc,KAM/BnF,EAAc1S,IAAM2S,aAAY,SAACC,EAAMC,GAC3C,GAAK5O,GAASA,EAAK9C,OAAnB,CAGA,IAJkD,EAI9C4R,EAAgB,GAEhBG,GAAoB,EAN0B,eAOhCjP,GAPgC,IAOlD,2BAAwB,CAAC,IAAhBgM,EAAe,QAItB,GAHIA,EAAK,YAAkB2C,IACzBM,GAAoB,GAEjBA,IAGLH,EAAcjD,KAAKG,GAEfA,EAAK,YAAkB4C,GACzB,OAjB8C,8BAoBlD,OAAOE,KACN,CAAC9O,IAWJ,GATAjE,IAAMe,WAAU,WACd,GAAKkD,GAASA,EAAK9C,OAAnB,CAGA,IAAM4R,EAAgBL,EAAYzO,EAAK,GAAL,UAAsBA,EAAKA,EAAK9C,OAAS,GAAnB,WACxD0W,EAAiB9E,MAChB,CAAC9O,EAAMyO,KAGLJ,IAAmBA,EAAenR,OACrC,OACE,qBAAKG,UAAU,8BAA8BO,MAAO,CAACwR,WAAY,QAAjE,SACE,2CAwCN,IAjFqC,EAiFjC0E,EAAoB9T,EAAK,GAAL,YAAyB,EAC7C+T,EAAmB/T,EAAK,GAAL,YAAyB,EAlFX,eAoFnBA,GApFmB,IAoFrC,2BAAwB,CAAC,IAAhBgM,EAAe,SACjBA,EAAK,YAAmBA,EAAK,eAG9BA,EAAK,WAAiB8H,IACxBA,EAAoB9H,EAAK,YACvBA,EAAK,YAAkB8H,IACzBA,EAAoB9H,EAAK,aACvBA,EAAK,WAAiB+H,IACxBA,EAAmB/H,EAAK,YACtBA,EAAK,YAAkB+H,IACzBA,EAAmB/H,EAAK,eA/FS,8BAmGrC,IAAM4I,EAAoB,SAAC,GAAgC,IAA9B/M,EAA6B,EAA7BA,OAAQ4H,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC5C,IAAK7H,IAAW4H,IAAYA,EAAQvS,OAClC,OAAO,KAET,IAII2X,EACAE,EACAC,EACAsF,EAPErF,EAAexF,EAAQ,GAAR,QAgCrB,OAvBAA,EAAQyE,SAAQ,SAAAlI,GACd,OAAQA,EAAK,MACX,IAAK,QACH6I,EAAgB7I,EAChB,MACF,IAAK,MACH+I,EAAc/I,EACd,MACF,IAAK,OACHgJ,EAAehJ,EACf,MACF,IAAK,MACHsO,EAActO,MAMhB+I,IACFA,EAAW,WAAiBE,EAAY,YACtCD,IACFA,EAAY,YAAkBC,EAAY,aAG1C,sBAAK5X,UAAU,8BAA8BO,MAAO,CAACoK,SAAS,GAAD,OAAK,GAAL,MAAa/J,WAAY,OAAtF,UACE,mBAAGZ,UAAU,2BAAb,SAAyCqS,IACzC,gCACE,kCACE,6BAAI,oBAAIG,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aACjCwX,GAAiBA,EAAa,OAC7B,+BACE,6BAAI,mBAAGjX,MAAO,CAAEvD,MAAOwa,EAAcxa,OAAjC,mBAA8Cwa,EAAc9T,UAChE,6BAAI,mBAAGnD,MAAO,CAAEvD,MAAOwa,EAAcxa,OAAjC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAOwa,EAAcxa,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAvF,mBACE/M,EAAc8U,4BAA4B8E,EAAa,OAAW5a,SAAS,GAAI,YAJ9E4a,EAAa,MASvByF,GAAeA,EAAW,OACzB,+BACE,6BAAI,mBAAG1c,MAAO,CAAEvD,MAAOigB,EAAYjgB,OAA/B,mBAA4CigB,EAAYvZ,UAC5D,6BAAI,mBAAGnD,MAAO,CAAEvD,MAAOigB,EAAYjgB,OAA/B,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAOigB,EAAYjgB,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAArF,mBACE/M,EAAc8U,4BAA4BuK,EAAW,OAAWrgB,SAAS,GAAI,YAJ5EqgB,EAAW,OASnBvF,GAAeA,EAAW,OAAaA,EAAW,YAAoBC,GAAgBA,EAAY,OAAaA,EAAY,cAC5H,6BAAI,oBAAInF,QAAS,EAAb,SAAgB,oBAAIxS,UAAU,aAGnC0X,GAAeA,EAAW,OAAaA,EAAW,YACjD,eAAC,IAAMG,SAAP,WACE,+BACE,6BAAI,mBAAGtX,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,SAAyC,gBAC7C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO0a,EAAY1a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAArF,mBACE/M,EAAc8U,4BAA4BgF,EAAW,OAAW9a,SAAS,GAAI,YAJ5E8a,EAAW,MAOpB,+BACE,6BAAI,mBAAGnX,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,SAAyC,iBAC7C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO0a,EAAY1a,OAA/B,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO0a,EAAY1a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAArF,mBACE/M,EAAc8U,4BAA4BgF,EAAW,YAAgB9a,SAAS,GAAI,YAJjF,iBAUZ+a,GAAgBA,EAAY,OAAaA,EAAY,aACpD,eAAC,IAAME,SAAP,WACE,+BACE,6BAAI,mBAAGtX,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,SAA0C,iBAC9C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO2a,EAAa3a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAtF,mBACE/M,EAAc8U,4BAA4BiF,EAAY,OAAW/a,SAAS,GAAI,YAJ7E+a,EAAY,MAOrB,+BACE,6BAAI,mBAAGpX,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,SAA0C,kBAC9C,6BAAI,mBAAGuD,MAAO,CAAEvD,MAAO2a,EAAa3a,OAAhC,oBACJ,6BAAI,sBAAMgD,UAAU,QAAQO,MAAO,CAAEvD,MAAO2a,EAAa3a,MAAOyV,UAAW,MAAO9H,SAAS,GAAD,OAAK,GAAL,OAAtF,mBACE/M,EAAc8U,4BAA4BiF,EAAY,aAAiB/a,SAAS,GAAI,YAJnF,2BAevB,OACE,qBAAK2D,MAAO,CAAEwS,WAAY,QAA1B,SACE,cAACC,GAAA,EAAD,CAAqBlS,MAAM,OAAOiK,OAAQ,IAA1C,SACE,eAACkI,GAAA,EAAD,CACEnS,MAAO,IACPiK,OAAQ,IACRpI,KAAMqO,EACNyC,OAAQ,CACNnE,IAAK,GACLoB,KAAM,GACNC,MAAO,GACPJ,OAAQ,IAEV2C,YAAa,SAAC5V,GAAD,OAAOA,GAAM+Y,EAAU3F,OAASpT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB3F,KAAMpT,EAAE6V,gBACpGC,YAAa,SAAC9V,GAAD,OAAOA,GAAK+Y,EAAU3F,MAAS2F,EAAU1F,QAAUrT,EAAE6V,aAAgBmD,EAAa,2BAAKD,GAAN,IAAiB1F,MAAOrT,EAAE6V,gBACxHG,UAAW,SAAAhW,GACiB,KAAtB+Y,EAAS,MAA0C,KAAvBA,EAAS,MAzJnD,WACE,IAAM5E,EAAgBL,EAAYzO,EAAK,GAAL,UAAsBA,EAAKA,EAAK9C,OAAS,GAAnB,WACxDyW,EAAa,CACX5F,KAAM,GACNC,MAAO,KAET4F,EAAiB9E,GAoJP8B,GAnLZ,WAAkB,IACV7C,EAAgB2F,EAAhB3F,KAAMC,EAAU0F,EAAV1F,MAEZ,GAAID,IAASC,GAAmB,KAAVA,EAAtB,CAUA,GAAID,EAAOC,EAAX,OAAkC,CAACA,EAAOD,GAAvBA,EAAnB,KAAyBC,EAAzB,KAEA,IAAMc,EAAgBL,EAAYV,EAAMC,GAExC2F,EAAa,CACX5F,KAAM,GACNC,MAAO,KAGT4F,EAAiB9E,QAlBf6E,EAAa,2BACRD,GADO,IAEV3F,KAAM,GACNC,MAAO,MA8KDqB,IAhBN,UAmBE,cAAC0B,GAAA,EAAD,CAAewB,OAAO,SACtB,cAACtB,GAAA,EAAD,CAASxO,QAAS,cAACmS,EAAD,MAClB,cAAC1D,GAAA,EAAD,CAAQC,MAAM,OAAOC,cAAc,MAAMhJ,OAAQ,GAAIiJ,SAAU,KAE/D,cAACK,GAAA,EAAD,CACED,QAAQ,YACR7M,OAAQ,CAAC,OAAQ,QACjBoD,SAAU,GACV4J,OAAQ,GACRxJ,OAAQ,GACRH,WAAW,MAEX4J,SAAU,EACVC,WAAY,EAGZC,QAAS,CAAEhE,KAAM,GAAIC,MAAO,MAE9B,cAACgE,GAAA,EAAD,CACEC,QAAQ,OAGRjK,SAAU,GACVpD,OAAQ,CAAC,SAAA8Q,GAAO,OAAIlb,SAAmB,KAAVkb,IAAkB,SAAAC,GAAO,OAAInb,SAAmB,MAAVmb,KAKnEzD,cAAe,SAACsC,GAAD,OAAWvZ,EAAc8U,4BAA4ByE,MAEtE,cAACxC,GAAA,EAAD,CAAOC,QAAQ,QAAQE,YAAY,QAAQzC,MAAO,CAAEzO,MAAO,IAAKmR,SAAU,UAAYpK,SAAU,GAAIpD,OAAQ,CAAC,EAAG,KAAMyN,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OACrK,cAACuD,GAAA,EAAD,CAAOnE,QAAQ,cAAc1Q,KAAK,cAAc6D,OAAQ,CAACkP,EAAmBC,GAAmBlP,MAAO,CAAC,EAAG,KAAMgR,KAAK,KAAKC,QAAQ,aAClI,cAACF,GAAA,EAAD,CAAOnE,QAAQ,aAAc1Q,KAAK,aAAc6D,OAAQ,CAACkP,EAAmBC,GAAmBlP,MAAO,CAAC,EAAG,KAAMgR,KAAK,KAAKC,QAAQ,YAGlI,cAACxD,GAAA,EAAD,CAAML,QAAQ,OAAQlU,KAAK,WAAW0T,QAAQ,QAAQkB,IAAK,KAAM4H,mBAAmB,IACpF,cAACjI,GAAA,EAAD,CAAML,QAAQ,QAAQlU,KAAK,UAAW0T,QAAQ,MAAQkB,IAAK,KAAMJ,OAAQ,OAAQgI,mBAAmB,IAEpG,cAACxE,GAAA,EAAD,CAAS9D,QAAQ,OAAOlR,KAAK,OAAO0Q,QAAQ,aAAauE,MAAM,SAASzD,OAAO,OAAOY,YAAa,GAAKC,KAAK,QAAQ6C,WAAW,SAASH,QAAQ,WAAWyE,mBAAmB,IAC/K,cAACxE,GAAA,EAAD,CAAS9D,QAAQ,OAAOlR,KAAK,MAAO0Q,QAAQ,YAAauE,MAAM,SAASzD,OAAO,OAAOY,YAAa,GAAKC,KAAK,QAAQ6C,WAAW,SAASH,QAAQ,UAAWyE,mBAAmB,IAG9K7G,EAAS,MAAYA,EAAS,MAC7B,cAACJ,GAAA,EAAD,CAAerB,QAAQ,OAAOW,GAAIc,EAAS,KAAUZ,GAAIY,EAAS,MAAWH,cAAe,KAC1F,KAEJ,cAACF,GAAA,EAAD,CAAepB,QAAQ,QAAQzM,EAAG,GAAI+M,OAAO,SAC7C,cAACc,GAAA,EAAD,CAAepB,QAAQ,QAAQzM,EAAG,GAAI+M,OAAO,iBC9GxCiI,GArKI,WAAO,IAAD,EACGze,IAAMQ,SAAS,IADlB,mBAChBke,EADgB,KACTC,EADS,KAEjBC,EAAuB5e,IAAMwb,SAE7BC,EAAazb,IAAM2S,aAAY,SAACkM,GACpC,IAAI5a,EAAO,GACP6a,EAAW,GAEf/Y,OAAOK,KAAKyY,GAAU1G,SAAQ,SAAC6D,GAEb,mCAAdA,GACc,kEAAdA,GACc,6DAAdA,GACc,iEAAdA,EAEA6C,EAAS7C,GAAW7D,SAAQ,SAAC8D,GAC3B,IAAI9I,EAAO,IAAIxT,KAAKsc,EAAI,iBACpB9I,EAAK4L,aAAe,EAAI,GAC1B5L,EAAK6L,WAAW7L,EAAK4L,aAAe5L,EAAK4L,aAAe,GAC1D,IAAI5C,EAAc7K,KAAO6B,GAAM7T,OAAO,kBAClC0F,EAAOgX,EAEN8C,EAAS3C,KACZ2C,EAAS3C,GAAe,IAErB2C,EAAS3C,GAAanX,KACzB8Z,EAAS3C,GAAanX,GAAQ,IAEhC8Z,EAAS3C,GAAanX,GAAtB,MAAuCiX,EAAI,gBAC3C6C,EAAS3C,GAAanX,GAAtB,IAAqCoO,YAAyB,IAAb6I,EAAG,KAAe1c,QAAQ,OAEtD,6BAAdyc,GACT6C,EAAS7C,GAAW7D,SAAQ,SAAC8D,GAC3B,IAAI9I,EAAO3T,EAAU0c,mBAAmBD,EAAI,gBAAOA,EAAI,6BACnD9I,EAAK4L,aAAe,EAAI,GAC1B5L,EAAK6L,WAAW7L,EAAK4L,aAAe5L,EAAK4L,aAAe,GAC1D,IAAI5C,EAAc7K,KAAO6B,GAAM7T,OAAO,kBAClC0F,EAAOiX,EAAI,sBAEV6C,EAAS3C,KACZ2C,EAAS3C,GAAe,IAErB2C,EAAS3C,GAAanX,KACzB8Z,EAAS3C,GAAanX,GAAQ,IAEZ,6BAAhBiX,EAAI,6BACN6C,EAAS3C,GAAanX,GAAtB,WAA6CiX,EAAI,4BACjD6C,EAAS3C,GAAanX,GAAtB,YAA6CiX,EAAI,6BACxB,6BAAhBA,EAAI,8BACb6C,EAAS3C,GAAanX,GAAtB,UAA4CiX,EAAI,4BAChD6C,EAAS3C,GAAanX,GAAtB,WAA4CiX,EAAI,mCAMxD,IAAIgD,EAAYlZ,OAAOK,KAAK0Y,GAiC5B,OAhCAG,EAAUrR,OAEVqR,EAAU9G,SAAQ,SAAC+G,EAAU7Y,EAAG0K,GAClBhL,OAAOK,KAAK0Y,EAASI,IAC3B/G,SAAQ,SAACnT,GACRf,EAAKe,KACRf,EAAKe,GAAQ,IAEff,EAAKe,GAAM8K,KAAX,aACEqP,UAAWD,GACRJ,EAASI,GAAUla,WAK5Be,OAAOK,KAAKnC,GAAMkU,SAAQ,SAACnT,GACzB,IAAIoa,EAAa,EACbC,EAAW,EACfpb,EAAKe,GAAQf,EAAKe,GAAMgH,KAAI,SAACiE,EAAO5J,EAAG0K,GACrC,IAAI0H,EAAQxI,EAAK,OAAamP,EAC1BE,EAAMrP,EAAK,KAAWoP,EAI1B,OAHAD,EAAa3G,EACb4G,EAAWC,EAEJ,2BACFrP,GADL,IAEEwI,QACA6G,cAKCrb,IACN,IAyBH,OACE,gCACE,qBAAK3C,UAAU,+BAA+BO,MAAO,CAACoK,SAAS,QAAD,OAAU,EAAV,SAAoB,EAApB,QAA9D,wBAIA,sBAAK3K,UAAU,qCAAf,UACE,qBAAKA,UAAU,OAAf,SACE,uBAAOU,KAAK,SAASV,UAAU,oBAC7BC,QAAS,SAAA3C,GAAC,OAAIE,OAAOme,KAAK,kFAAmF,WAD/G,+BAMF,gCACE,sBAAM1R,IAAKqT,EAAX,SACE,uBAAO5c,KAAK,OAAOkb,OAAO,QAAQ3S,GAAG,kBACnCjJ,UAAU,SACVC,QAAS,SAAA3C,GAAC,OAAIA,EAAEqG,OAAOqB,IAAM,UAAW,IAAI3G,MAAOwd,mBAEnDnY,KAAK,aAAaU,SA1C9B,SAAqB3G,GACnB,IAAIkH,EAAQlH,EAAMkG,OACdmY,EAAS,IAAIC,WACjBD,EAAOE,OAAS,WACd,IAAIC,EAAQH,EAAO5X,OACfgY,EAAcC,KAAKC,KAAKH,EAAO,CAACvb,KAAO,WAEvCiC,EAAO,GACXuZ,EAAYG,WAAWxF,SAAQ,SAAS6D,GACtC,IAAI4B,EAAYH,KAAKI,MAAMC,cAAcN,EAAYO,OAAO/B,IAC5D/X,EAAK+X,GAAa4B,KAGpBgB,EAAqBZ,QAAQC,QAC7BtP,aAAaoB,QAAQ,iBAAkBjN,KAAKC,UAAUkB,IAEtD0a,EAASlD,EAAWxX,KAEtBmZ,EAAOc,mBAAmBjY,EAAMkY,MAAM,SA2BhC,uBAAOnc,KAAK,SAASoc,QAAQ,kBAAkB9c,UAAU,iBAAzD,+BAKF,CACE,iCACA,gEACA,2DACA,gEACA0K,KAAI,SAAChH,GACP,OACE,eAAC,IAAMmU,SAAP,WACE,qBAAK7X,UAAU,yCAAf,SACE,6BAAI,4BAAI0D,QAGV,qBAAK1D,UAAU,OAAf,SACE,cAAC,GAAD,CAAqB2C,KAAMya,EAAM1Z,SANhBA,UCzIhBua,GAfI,SAAChf,GAClB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOif,KAAK,iBAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,EAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOif,KAAK,cAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,EAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOif,KAAK,cAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,EAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOif,KAAK,kBAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,GAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOif,KAAK,iBAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,GAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOif,KAAK,cAAkBC,OAAQ,SAAClf,GAAD,OAAW,cAAC,GAAD,eAAoBA,OACrE,cAAC,IAAD,CAAOmf,OAAK,EAACF,KAAK,IAAYC,OAAQ,SAAClf,GAAD,OAAW,cAAC,EAAD,eAAoBA,OACrE,cAAC,IAAD,CAA8Bkf,OAAQ,SAAClf,GAAD,OAAW,cAAC,IAAD,CAAUsS,GAAG,aC8HrD8M,OApIf,WACE,IADa,EAEa3f,IAAM4f,YADhB,SAACC,EAAYC,GAAb,mBAAC,eAAgCD,GAAeC,KACZjgB,GAFvC,mBAEN6C,EAFM,KAEC8I,EAFD,OAG8BxL,IAAMQ,SAAS,IAH7C,mBAGNuf,EAHM,KAGUC,EAHV,OAMuBhgB,IAAMQ,UAAS,GANtC,mBAMNyf,EANM,KAMMC,EANN,iDAQb,sBAAAjf,EAAA,+EAEU+B,EAAIkM,IAAI,eAFlB,OAIIgR,GAAc,GAJlB,gDAMIxe,QAAQC,IAAI,kBAAZ,MACAue,GAAc,GAPlB,0DARa,+BA0BEC,EA1BF,8EA0Bb,WAAiCvhB,GAAjC,SAAAqC,EAAA,yDACE+e,GAAiB,SAAAI,GACf,IAAKA,EAAiBjf,OACpB,OAAOif,EAET,IAAIC,EAAmBD,EAAiBpR,QAExC,OADAqR,EAAiBC,QACVD,KAGJN,EAAe5e,OAVtB,gCAWU1D,EAAWyD,MAAM,KAX3B,OAYK2G,SAAS0Y,qBAAqB,QAAQ,GAAIC,UAAU/V,OAAO,mBAZhE,4CA1Ba,kEA0Cb,yCAAAxJ,EAAA,6DAAiC2B,EAAjC,EAAiCA,MAAjC,IAAwCrC,aAAxC,MAAgD,GAAhD,MAAoDgC,iBAApD,MAAgE,aAAhE,MAA0EN,gBAA1E,MAAqF,aAArF,oBACS,IAAItE,SAAQ,SAACC,EAASiG,GACtBkc,EAAe5e,QACL0G,SAAS0Y,qBAAqB,QAAQ,GAC9CC,UAAUC,IAAI,mBAGrBT,GAAiB,SAAAI,GACf,IAAIC,EAAmBD,EAAiBpR,QAgBxC,OAfAqR,EAAiBvQ,KACf,cAAClN,EAAD,2BACMrC,GADN,IAEEgC,UAAS,uCAAE,WAAM3D,GAAN,SAAAqC,EAAA,sEACHsB,IADG,uBAEH4d,IAFG,OAGTviB,GAAQ,GAHC,2CAAF,sDAKTqE,SAAQ,uCAAE,WAAMrD,GAAN,SAAAqC,EAAA,sEACFgB,IADE,uBAEFke,IAFE,OAGRviB,GAAQ,GAHA,2CAAF,0DAOLyiB,SAxBb,4CA1Ca,sBAwEb,OApDArgB,IAAMe,WAAU,YApBH,mCAqBX2f,KACC,IAmDD,cAAC,IAAD,UACE,cAAC3gB,EAAS4gB,SAAV,CAAmBzb,MAAOa,OAAOC,OAAO,GAAItD,EAAO,CACjD8I,WACA7I,iBA5EO,8CA0ET,SAIE,eAAC,IAAMwW,SAAP,WACE,cAAC,EAAD,CAActY,OAAQkf,EAAgBve,kBAAmB2e,IACzD,sBAAK7e,UAAU,oDAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,wBAAQA,UAAU,iBAAiBU,KAAK,SAAS4e,iBAAe,WAAWC,iBAAe,+BAA+BC,gBAAc,8BAA8BC,gBAAc,QAAQC,aAAW,oBAAtM,SACE,sBAAM1f,UAAU,8BAKtB,qBAAKA,UAAU,mBAAmBiJ,GAAG,8BAArC,SACE,qBAAIjJ,UAAU,4CAA4CO,MAAO,CAAEof,UAAU,GAAD,OAAK,IAAL,OAA5E,UACGhB,GACC,eAAC,IAAM9G,SAAP,WACE,6BAAI,cAAC,IAAD,CAAStG,GAAG,cAAcvR,UAAU,mBAApC,kCACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,iBAAiBvR,UAAU,mBAAvC,2CAIN,6BAAI,cAAC,IAAD,CAASuR,GAAG,cAAcvR,UAAU,mBAApC,kBACN,oBAAIA,UAAU,OAAd,SAAqB,cAAC,IAAD,CAASuR,GAAG,cAAcvR,UAAU,mBAAmBO,MAAO,CAAEoK,SAAS,GAAD,OAAK,KAAL,QAAxE,uBACrB,6BAAI,cAAC,IAAD,CAAS4G,GAAG,kBAAkBvR,UAAU,mBAAxC,8BACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,iBAAiBvR,UAAU,mBAAvC,6BACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,cAAcvR,UAAU,mBAApC,0BACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,IAAIvR,UAAU,mBAA1B,4BAIV,qBAAKA,UAAU,oBAAoBO,MAAO,CAACwK,OAAQ,MAEnD,qBAAK/K,UAAU,8DAA8DO,MAAO,CAACqf,OAAQ,KAAMC,aAAc,oBAAjH,SACE,qBAAI7f,UAAU,yCAAd,UACG2e,GACC,eAAC,IAAM9G,SAAP,WACE,6BAAI,cAAC,IAAD,CAAStG,GAAG,cAAcvR,UAAU,mBAApC,kCACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,iBAAiBvR,UAAU,mBAAvC,2CAGR,6BAAI,cAAC,IAAD,CAASuR,GAAG,cAAcvR,UAAU,wBAAwBO,MAAO,CAAEoK,SAAS,GAAD,OAAK,KAAL,QAA7E,uBACJ,6BAAI,cAAC,IAAD,CAAS4G,GAAG,kBAAkBvR,UAAU,mBAAxC,8BACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,iBAAiBvR,UAAU,mBAAvC,6BACJ,6BAAI,cAAC,IAAD,CAASuR,GAAG,cAAcvR,UAAU,mBAApC,0BACJ,6BAAI,cAAC,IAAD,CAASoe,OAAK,EAAC7M,GAAG,IAAIvR,UAAU,mBAAhC,yBAIR,cAAC,GAAD,YC3HV8f,IAAS3B,OACP,cAAC,IAAM4B,WAAP,UACE,cAAC,GAAD,MAEFxZ,SAASC,eAAe,SAM1B9K,M","file":"static/js/main.8ce4c1b0.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","class UtilCommon {\r\n  static async delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  static makeRandomColor() {\r\n    return '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');\r\n  }\r\n\r\n  static lightenDarkenColor(col, amt) {\r\n    return '#' + col.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amt)).toString(16)).substr(-2));\r\n  }\r\n}\r\nexport default UtilCommon;","class UtilHtml {\r\n  static searchEnter(e, callback) {\r\n    if (!e)\r\n      e = window.event;\r\n    const key = e.keyCode ? e.keyCode : e.which;\r\n    if (key === 13) {\r\n      callback();\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\nexport default UtilHtml;","class UtilConverter {\r\n  static number2commadStringWithIntl(number) {\r\n    try {\r\n      var formatter = new Intl.NumberFormat(\"en-US\");\r\n      return formatter.format(number);\r\n    } catch (e) {\r\n      return number;\r\n    }\r\n  }\r\n\r\n  static number2shortenString(number) {\r\n    if (number >= 1000000000)\r\n      return (Math.floor(number * 0.0000001) * 0.01).toFixed(2) + 'B';\r\n\r\n    if (number >= 1000000)\r\n      return (Math.floor(number * 0.0001) * 0.01).toFixed(2) + 'M';\r\n  }\r\n}\r\nexport default UtilConverter;","class UtilSheet {\r\n  static serialDateToJSDate(excelSerialDate, excelSerialTime = 0) {\r\n    return new Date(Date.UTC(0, 0, excelSerialDate - 1, -9, 0, 24 * excelSerialTime * 60 * 60)); // time-zone -9\r\n  }\r\n}\r\nexport default UtilSheet;","import React from 'react';\r\n\r\nconst app_state_default = {\r\n  isWideMode: false,\r\n};\r\nconst AppState = React.createContext(app_state_default);\r\n\r\nexport {\r\n  AppState, app_state_default,  \r\n};","import classNames from 'classnames/bind';\r\nimport styles from './_styles.scss';\r\nconst cs = classNames.bind(styles);\r\nexport default cs;","import React, { useEffect } from 'react';\r\nimport cs from '../../styles/cs';\r\nimport UtilCommon from '../../utils/util_common';\r\n\r\nconst ModalWrapper = (props) => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [opacity, setOpacity] = React.useState(false);\r\n  const [modals, setModals] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    async function showModal(animation_duration) {\r\n      setOpacity(false);\r\n      setVisible(true);\r\n      setModals(props.modals);\r\n      await UtilCommon.delay(animation_duration);\r\n      setOpacity(true);\r\n    };\r\n\r\n    async function hideModal(animation_duration) {\r\n      setOpacity(false);\r\n      await UtilCommon.delay(animation_duration);\r\n      setVisible(false);\r\n      setModals(props.modals);\r\n    }\r\n\r\n    if (props.modals.length > modals.length)\r\n      showModal(100);\r\n    else if (props.modals.length < modals.length)\r\n      hideModal(200);\r\n\r\n  }, [props.modals, modals]);\r\n\r\n  if (!modals.length)\r\n    return null;\r\n\r\n  return ( \r\n    <div className={cs({ 'modal-wrapper': true, visible, opacity })}>\r\n      <div className=\"modal-wrapper-backdrop\" onClick={props.closeCurrentModal}/>\r\n      <div className=\"modal-wrapper-container\">\r\n        {modals[0]}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalWrapper.defaultProps = {\r\n  modals: [],\r\n  closeCurrentModal: () => console.log('closeCurrentModal() is not defined.')  \r\n}\r\n \r\nexport default ModalWrapper;","const ModalAlert = (props) => {\r\n  return ( \r\n    <div style={{ maxHeight: `${80}vh`, overflow: 'auto' }}>\r\n      <div className=\"text-end pt-2 pe-2\">\r\n        <button type='button' className=\"btn-close\" onClick={props.onCancel} />\r\n      </div>\r\n      <div className=\"py-3\" style={{whiteSpace: 'pre-wrap', lineBreak: \"anywhere\", width: `${480}px`, maxWidth: `${90}vw`}}>\r\n        {props.message}\r\n      </div>\r\n      <div className=\"text-end\">\r\n        <button type='button' className=\"btn btn-primary text-light fw-bold rounded\" onClick={props.onConfirm}>확인</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModalAlert.defaultProps = {\r\n  message: 'NO MESSAGE',\r\n  onConfirm: () => {},\r\n  onCancel : () => {},\r\n}\r\n \r\nexport default ModalAlert;","import { AppState } from \"../contexts\";\r\nimport { ModalAlert } from \"../modals\";\r\n\r\nconst VMain = () => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        Here's main\r\n      </div>\r\n      <br/>\r\n\r\n      <AppState.Consumer>\r\n        {state => (\r\n          <div style={{ whiteSpace: 'pre-wrap' }}>\r\n            <div>\r\n              <button type='button' onClick={async e => {\r\n                const modal_result = await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다.'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 73473'); }\r\n                });\r\n                console.log('MODAL_CONFIRMED? : ' + modal_result);\r\n                if (modal_result === false)\r\n                  return;\r\n                await state.pushMessageModal({\r\n                  Modal: ModalAlert,\r\n                  props: {\r\n                    message: '테스트 메세지입니다. 2'\r\n                  },\r\n                  onConfirm: () => { console.log('CONFIRM'); },\r\n                  onCancel: () => { console.log('CANCEL 52374'); }\r\n                });\r\n              }}>\r\n                PUSH MODAL\r\n              </button>\r\n            </div>\r\n            <div>\r\n              {JSON.stringify(state, '', 2)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </AppState.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VMain;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `${process.env.REACT_APP_SERVER_API}/api`,\r\n  timeout: 3000,\r\n  headers: {\r\n    'content-type': 'application/json'\r\n  },\r\n});\r\n\r\n\r\napi.interceptors.request.use(function (config) {\r\n  // var auth = DataAuth.get();\r\n  // if (!auth?.value?.token)\r\n  //   return config;\r\n  \r\n  // config.headers['x-api-key'] = auth.value.token;\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(response => {\r\n  return response;\r\n}, error => {\r\n  /* pattern_reference: Axios Handle Errors (https://www.npmjs.com/package/axios#handling-errors) */\r\n  if (error.response) {\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    // console.log(error.response.data);\r\n    // console.log(error.response.status);\r\n    // console.log(error.response.headers);\r\n    return Promise.reject({\r\n      status : error.response.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      ...error.response.data // contain message on general\r\n    });\r\n  } else if (error.request) {\r\n    // The request was made but no response was received\r\n    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n    // http.ClientRequest in node.js\r\n    // console.log(error.request);\r\n    return Promise.reject({\r\n      status : error.request.status,\r\n      headers: error.config.headers,\r\n      url    : error.config.baseURL + error.config.url,\r\n      params : error.config.data,\r\n      message: error.message\r\n    });\r\n  } else {\r\n    // Something happened in setting up the request that triggered an Error\r\n    return Promise.reject(error);\r\n  }\r\n});\r\n\r\nexport default api;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VRegister = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      let result = await api.post('/auth/register', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password'],\r\n        '#email': form_data['email'],\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '가입되었습니다'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n\r\n      console.log(result)\r\n    } catch (e) {\r\n      console.log(e);      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     name=\"login_id\"         value={form_data['login_id']}         onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" name=\"password\"         value={form_data['password']}         onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <input type=\"password\" name=\"password_confirm\" value={form_data['password_confirm']} onChange={handleInput} placeholder=\"CONFIRM PASSWORD\"/>\r\n        <input type=\"email\"    name=\"email\"            value={form_data['email']}            onChange={handleInput} placeholder=\"EMAIL\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"REGISTER\"/>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VRegister;","class UtilApi {\r\n  /**\r\n   * \r\n   * @param {{message: string}} error API error\r\n   * @param {{error_message: string}} errorMessageMap The value is translated message.\r\n   */\r\n  static translateErrorMessages(error = {}, errorMessageMap = {}) {\r\n    if (!error?.message)\r\n      return;\r\n\r\n    const defaultErrorMessageMap = {\r\n      'SequelizeDatabaseError': 'DB 구문 에러.\\n관리자에게 문의해주세요',\r\n      'timeout of': '서버 응답시간이 초과되었습니다.\\n다시 시도해주세요.'\r\n    };\r\n    \r\n    errorMessageMap = Object.assign(defaultErrorMessageMap, errorMessageMap);\r\n\r\n    const input = error.message.toLowerCase();\r\n    const errors = Object.keys(errorMessageMap);\r\n    for (let i = 0; i < errors.length; ++i) {\r\n      const key = errors[i];\r\n      if (input.indexOf(key.toLowerCase()) >= 0)\r\n        return errorMessageMap[key];\r\n    }\r\n    return;\r\n  }\r\n}\r\nexport default UtilApi;","import axios from 'axios';\r\nimport React, { useContext, useEffect } from 'react';\r\nimport api from '../../../api/api';\r\nimport { AppState } from '../../../components/contexts';\r\nimport UtilApi from '../../../utils/util_api';\r\nimport { ModalAlert } from '../../modals';\r\n\r\nconst VLogin = (props) => {\r\n  let axios_cancel_source = axios.CancelToken.source();\r\n  useEffect(() => () => axios_cancel_source.cancel(), [ axios_cancel_source ]);\r\n\r\n  const app_state = useContext(AppState);\r\n\r\n  const [form_data, setFormData] = React.useState({login_id: '', password: '', password_confirm: '', email: ''});\r\n\r\n  \r\n  const handleInput = (e) => {\r\n    let name = e.target.name;\r\n\r\n    setFormData(state => {\r\n      return {\r\n        ...state,\r\n        [name]: e.target.value\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const auth = await api.post('/auth/login', {\r\n        login_id: form_data['login_id'],\r\n        password: form_data['password']\r\n      }, {\r\n        cancelToken: axios_cancel_source.token\r\n      })\r\n        .then(res => res?.data?.content)\r\n      \r\n      console.log(auth)\r\n      \r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message: '로그인 성공'\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    } catch (e) {\r\n      if (axios.isCancel(e)) {\r\n        console.log('Canceled.');\r\n        return;\r\n      }\r\n\r\n      const message = UtilApi.translateErrorMessages(e, {\r\n        'no user': '해당하는 유저가 없습니다.'\r\n      });\r\n      await app_state.pushMessageModal({\r\n        Modal: ModalAlert,\r\n        props: {\r\n          message\r\n        },\r\n        onConfirm: () => { console.log('CONFIRM'); },\r\n        onCancel: () => { console.log('CANCEL 52374'); }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div className=\"mx-auto w-100p py-3\" style={{width: `${100}%`, maxWidth: `${20}em`}}>\r\n        <input type=\"text\"     className=\"form-control\"  name=\"login_id\" value={form_data['login_id']} onChange={handleInput} placeholder=\"ID\"/>\r\n        <input type=\"password\" className=\"form-control\"  name=\"password\" value={form_data['password']} onChange={handleInput} placeholder=\"PASSWORD\"/>\r\n        <div>\r\n          <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary w-100\" />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n \r\nexport default VLogin;","import * as d3 from 'd3';\r\nimport './tooltip.scss';\r\n\r\n\r\nfunction floatingTooltip(tooltipId, width) {\r\n  // Local variable to hold tooltip div for manipulation in other functions.\r\n  const tt = d3.select('body').append('div')\r\n    .attr('class', 'bubble-tooltip')\r\n    .attr('id', tooltipId)\r\n    .style('pointer-events', 'none');\r\n\r\n  if (width)\r\n    tt.style('width', width)\r\n\r\n  hideTooltip(); // initially hide\r\n    \r\n  function hideTooltip () {\r\n    tt.style('opacity', 0.0);\r\n  }\r\n\r\n  function showTooltip (content, event) {\r\n    tt.style('opacity', 1.0)\r\n      .html(content)\r\n\r\n    updatePosition(event);\r\n  }\r\n\r\n  function updatePosition(event) {\r\n    const xOffset = 20;\r\n    const yOffset = 10;\r\n\r\n    const ttw = tt.style('width');\r\n    const tth = tt.style('height');\r\n\r\n    const wscrX = window.scrollX;\r\n    const wscrY = window.scrollY;\r\n\r\n    const curX = (document.getElementById) ? event.clientX + wscrX : event.pageX;\r\n    const curY = (document.getElementById) ? event.clientY + wscrY : event.pageY;\r\n\r\n    let ttleft = ((curX - wscrX + xOffset * 2 + ttw) > window.innerWidth)\r\n      ? curX - ttw - xOffset * 2 \r\n      : curX + xOffset;\r\n    if (ttleft < wscrX + xOffset)\r\n      ttleft = wscrX + xOffset;\r\n\r\n    let tttop = ((curY - wscrY + yOffset * 2 + tth) > window.innerWidth)\r\n      ? curY - tth - yOffset * 2 \r\n      : curY + yOffset;\r\n    if (tttop < wscrY + yOffset)\r\n      tttop = wscrY + yOffset;\r\n\r\n    tt\r\n      .style('top', `${tttop}px`)\r\n      .style('left', `${ttleft}px`);    \r\n  }\r\n\r\n  return {\r\n    showTooltip,\r\n    hideTooltip,\r\n    updatePosition,\r\n  };\r\n}\r\n\r\nconst tooltip = floatingTooltip('gates_tooltip', 240);\r\nexport default tooltip;","import React from 'react'\r\nimport * as d3 from 'd3';\r\nimport tooltip from './tooltip';\r\n\r\nconst fillColor = d3.scaleOrdinal().domain(['low', 'medium', 'high']).range(['#525b7a', '#beccde', '#5aa2bc']);\r\n\r\nclass Bubbles extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { \r\n      g: null\r\n    }\r\n\r\n    const { forceStrength, center } = this.props\r\n    this.simulation = d3.forceSimulation()\r\n      .velocityDecay(0.2)\r\n      .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n      .force('y', d3.forceY().strength(forceStrength).y(center.y))\r\n      .force('charge', d3.forceManyBody(this.charge.bind(this)))\r\n      .on('tick', this.ticked.bind(this))\r\n      .stop()\r\n  }\r\n\r\n  charge(d) {\r\n    return -this.props.forceStrength * (d.radius ** 2.0)\r\n  }\r\n\r\n  ticked() {\r\n    this.state.g.selectAll('.bubble')\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n  }\r\n\r\n\r\n  \r\n  shouldComponentUpdate = () => false\r\n\r\n  // TODO: replace it with other method (deprecated)\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data !== this.props.data)\r\n      this.renderBubbles(nextProps.data)\r\n    if (nextProps.groupByYear !== this.props.groupByYear)\r\n      this.regroupBubbles(nextProps.groupByYear)\r\n  }\r\n  \r\n\r\n\r\n  renderBubbles(data) {\r\n    const bubbles = this.state.g.selectAll('.bubble')\r\n      .data(data, d => d.id)\r\n\r\n    // EXIT\r\n    bubbles.exit().remove()\r\n\r\n    // ENTER\r\n    const bubblesE = bubbles.enter().append('circle')\r\n      .classed('bubble', true)\r\n      .attr('r', 0)\r\n      .attr('cx', d => d.x)\r\n      .attr('cy', d => d.y)\r\n      .attr('fill', d => fillColor(d.group))\r\n      .attr('stroke', d => d3.rgb(fillColor(d.group)).darker())\r\n      .attr('stroke-width', 2)\r\n      // TODO: ADD TOOLTIP\r\n      .on('mouseover', showDetail)\r\n      .on('mouseout', hideDetail)\r\n\r\n      bubblesE.transition().duration(2000)\r\n        .attr('r', d => d.radius)\r\n        .on('end', () => {\r\n          this.simulation.nodes(data)\r\n            .alpha(1)\r\n            .restart()\r\n        })\r\n  }\r\n  \r\n  regroupBubbles (groupByYear) {\r\n    const { forceStrength, yearCenters, center } = this.props;\r\n    if (groupByYear)\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(d => yearCenters[d.year].x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(d => yearCenters[d.year].y));        \r\n    else\r\n      this.simulation\r\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\r\n        .force('y', d3.forceY().strength(forceStrength).y(center.y));\r\n    \r\n    this.simulation.alpha(1).restart();\r\n  }\r\n\r\n\r\n  onRef (ref) {\r\n    this.setState({ g: d3.select(ref) }, () => this.renderBubbles(this.props.data))\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n      <g ref={this.onRef.bind(this)} className=\"bubbles\" />\r\n    )\r\n  }\r\n}\r\n \r\nexport default Bubbles;\r\n\r\nexport function showDetail(d) {\r\n  d3.select(this).attr('stroke', 'black');\r\n\r\n  const content = `<span class=\"name\">Title: </span><span class=\"value\">${d.name}</span><br/>`\r\n    + `<span class=\"name\">Amount: </span><span class=\"value\">$${d.value}</span><br/>`\r\n    + `<span class=\"name\">Year: </span><span class=\"value\">${d.year}</span>`;\r\n\r\n  tooltip.showTooltip(content, d3.event);\r\n}\r\n\r\n\r\nexport function hideDetail(d) {\r\n  d3.select(this).attr('stroke', d3.rgb(fillColor(d.group)).darker());\r\n  \r\n  tooltip.hideTooltip();\r\n}","  \r\nimport React from 'react';\r\nimport './grouping_picker.scss';\r\n\r\nexport default class GroupingPicker extends React.Component {\r\n  onBtnClick = (event) => {\r\n    this.props.onChanged(event.target.name)\r\n  }\r\n  render() {\r\n    const { active } = this.props\r\n    return (\r\n      <div className=\"GroupingPicker\">\r\n        <button className={`button ${active === 'all' && 'active'}`} name=\"all\" onClick={this.onBtnClick}>All Grants</button>\r\n        <button className={`button ${active === 'year' && 'active'}`} name=\"year\" onClick={this.onBtnClick}>Grants By Year</button>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nexport default function YearsTitles({ yearCenters }) {\r\n  return (\r\n    <g className=\"yearsTitles\">\r\n      {\r\n        Object.keys(yearCenters).map(year =>\r\n          <text\r\n            key={year}\r\n            x={yearCenters[year].x}\r\n            y={50}\r\n            fontSize=\"35\"\r\n            textAnchor=\"middle\"\r\n            alignmentBaseline=\"middle\"\r\n          >\r\n            {\r\n              year\r\n            }\r\n          </text>)\r\n      }\r\n    </g>\r\n  )\r\n}","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport { Bubbles, GroupingPicker, YearsTitles } from '../../fragments';\r\n\r\n\r\n\r\n\r\n\r\nconst VBubbles = () => {\r\n  const [data, setData] = React.useState([]);\r\n  const [grouping, setGrouping] = React.useState('all');\r\n  const [d3Params, setD3Params] = React.useState({})\r\n\r\n  \r\n\r\n  const onGroupingChanged = (n_grouping) => setGrouping(n_grouping)\r\n  \r\n  React.useEffect(() => {\r\n    const width  = document.documentElement.scrollWidth // 960\r\n    const height = document.documentElement.scrollHeight - 49 // 640\r\n    const center = { x: width / 2, y: height / 2 }\r\n    const yearCenters = {\r\n      2008: { x: width / 4, y: height / 2 },\r\n      2009: { x: width / 2, y: height / 2 },\r\n      2010: { x: (3 / 4) * width, y: height / 2 },\r\n    }\r\n    setD3Params({ width, height, center, yearCenters })\r\n    \r\n    const createNodes = (rawData) => {\r\n      if (!width || !height)\r\n        return;\r\n  \r\n      const max_amount = d3.max(rawData, d => +d.total_amount);\r\n      const findRadius = d3.scalePow()\r\n        .exponent(0.5)\r\n        .range([2, 85])\r\n        .domain([0, max_amount]);\r\n  \r\n      let nodes = rawData.map(d => ({\r\n        id: d.id,\r\n        radius: findRadius(+d.total_amount),\r\n        value: +d.total_amount,\r\n        name: d.grant_title,\r\n        org: d.organization,\r\n        group: d.group,\r\n        year: d.start_year,\r\n        x: Math.random() * width,\r\n        y: Math.random() * height\r\n      }));\r\n  \r\n      // prevent occlusion of smaller nodes.\r\n      nodes.sort((a, b) => b.value - a.value);\r\n      \r\n      return nodes\r\n    }\r\n\r\n    d3.csv('/data/gates_money.csv', function (error, data) {\r\n      if (error) {\r\n        console.log('error', error);\r\n        return\r\n      }\r\n      let nodes = createNodes(data);\r\n      setData(nodes);\r\n    })\r\n      // .then((arr) => {\r\n      //   console.log(arr);\r\n      //   // setData(createNodes(arr));\r\n      // });\r\n  }, []);\r\n\r\n  return ( \r\n    <div id=\"view_bubble\" style={{ whiteSpace: 'pre-wrap', lineBreak: 'anywhere', height: `${100}%`, overflow: 'auto' }}>\r\n      <GroupingPicker onChanged={onGroupingChanged} active={grouping} />\r\n      {(d3Params.width && d3Params.height) && (\r\n        <BubbleChart width={d3Params.width} height={d3Params.height}>\r\n          <Bubbles data={data} forceStrength={0.08} center={d3Params.center} yearCenters={d3Params.yearCenters} groupByYear={grouping === 'year'} />\r\n          {grouping === 'year' && (\r\n            <YearsTitles width={d3Params.width} yearCenters={d3Params.yearCenters} />\r\n          )}\r\n        </BubbleChart>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst BubbleChart = ({width, height, children}) => {\r\n  return ( \r\n    <svg className=\"bubbleChart\" width={width} height={height}>\r\n      {children}\r\n    </svg>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default VBubbles;","import React from 'react';\r\nimport axios from 'axios';\r\nimport he from 'he';\r\nimport { UtilHtml } from '../../utils';\r\nimport moment from 'moment';\r\n\r\nconst VYoutubeSearch = () => {\r\n  const [searchInfo, setSearchInfo] = React.useState({query: '', pageToken: '', bannedChannels: ''});\r\n  const [list, setList] = React.useState([]);\r\n  const [history, setHistory] = React.useState([]); // {query: '', pageToken: '', bannedChannels: ''}\r\n\r\n  React.useEffect(() => {\r\n    let last_history = localStorage.getItem('youtube_history');\r\n    if (!last_history)\r\n      return;\r\n    \r\n    setHistory(JSON.parse(last_history));\r\n  }, [setHistory]);\r\n\r\n\r\n  const requestSearch = async (e) => {\r\n    let pageToken = searchInfo.pageToken;\r\n    if (history.length) {\r\n      const lastHistory = history.slice().pop();\r\n      if (\r\n        (lastHistory.query !== searchInfo.query) ||\r\n        (lastHistory.bannedChannels !== searchInfo.bannedChannels)\r\n      ) {\r\n        pageToken = '';\r\n      }\r\n    }\r\n\r\n    let result_list;\r\n    try {\r\n      // https://developers.google.com/youtube/v3/getting-started#quota\r\n      result_list = await axios.get('https://www.googleapis.com/youtube/v3/search', {\r\n        params: {\r\n          pageToken,\r\n          key: process.env.REACT_APP_GOOGLE_API_KEY,\r\n          q: searchInfo.query,\r\n          part: 'snippet',\r\n          fields: 'nextPageToken,items(id(videoId),snippet(channelTitle,title,publishTime,thumbnails(medium(url))))',\r\n          maxResults: 50,\r\n          order: 'date',\r\n          type: 'video'\r\n        }            \r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n      return;\r\n    }\r\n\r\n    const bannedChannelsList = searchInfo.bannedChannels.split(',').map(channelTitle => channelTitle.trim());\r\n    \r\n    const nHistory = history.slice();\r\n    nHistory.push(searchInfo);\r\n    setHistory(nHistory);\r\n    localStorage.setItem('youtube_history', JSON.stringify(nHistory));\r\n    setSearchInfo({...searchInfo, pageToken: result_list.data.nextPageToken});\r\n\r\n    const keys = list.map(datum => datum['id']['videoId']);\r\n\r\n    const nList = result_list.data.items\r\n      .filter(item => {\r\n        if (bannedChannelsList.indexOf(item['snippet']['channelTitle']) >= 0)\r\n          return false;\r\n\r\n        if (!pageToken)\r\n          return true;\r\n\r\n        if (pageToken && keys.indexOf(item['id']['videoId']) >= 0)\r\n          return false;\r\n\r\n        return true;\r\n      })\r\n      .map(item => {\r\n        const title = he.decode(item['snippet']['title']);\r\n        return {\r\n          ...item,\r\n          snippet: {\r\n            ...item.snippet,\r\n            title\r\n          }\r\n        };\r\n      });\r\n    if (pageToken)\r\n      setList(list.concat(nList));\r\n    else\r\n      setList(nList);\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex\">\r\n      <div className=\"flex-shrink-0 d-none d-sm-block overflow-auto bg-gray text-light\" style={{ width: `${16}em`, height: `${100}vh` }}>\r\n        <nav>\r\n          <ul className=\"nav nav-pills flex-column mb-auto fw-bold\">\r\n            {history.map((h, i) => {\r\n              return (\r\n                <li key={i}>\r\n                  <button type=\"button\" className=\"btn btn-primary w-100\" onClick={e => setSearchInfo(h)}>\r\n                    {h.query}\r\n                  </button>\r\n                </li>\r\n              );\r\n            })}            \r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <div className=\"container-fluid overflow-scroll\" style={{height: \"100vh\"}}>\r\n        <div className=\"position-sticky\" style={{top: 0}}>\r\n          <div className=\"d-flex\">\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\" \r\n                value={searchInfo.query} \r\n                onChange={e => setSearchInfo({...searchInfo, query: e.target.value})} \r\n                onKeyDown={e => UtilHtml.searchEnter(e, requestSearch)}\r\n              />\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary\"\r\n              onClick={requestSearch}\r\n            >\r\n              {list.length ? 'More' : 'Search'}\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex\">\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\"\r\n                value={searchInfo.bannedChannels}\r\n                onChange={e => setSearchInfo({ ...searchInfo, bannedChannels: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <div style={{height: \"64px\"}}></div> */}\r\n        <div className=\"row mt-5\">\r\n          {list.map((datum, i, arr) => {\r\n            const videoId = datum['id']['videoId'];\r\n            return (\r\n              <div key={videoId} className=\"col-3\">\r\n                  <div>\r\n                    <a href={`https://www.youtube.com/watch?v=${videoId}`} target=\"_blank\" rel=\"noreferrer\">\r\n                      <img src={datum['snippet']['thumbnails']['medium']['url']} alt={`tmb_${i}`} />\r\n                    </a>\r\n                  </div>\r\n                <div>{datum['snippet']['title']}</div>\r\n                <div className=\"text-end\">\r\n                  <span className=\"text-danger selectable tooltip\" onClick={e => {\r\n                    var nBannedChannels = (searchInfo['bannedChannels']) \r\n                      ? datum['snippet']['channelTitle'] + ','  + searchInfo['bannedChannels']\r\n                      : datum['snippet']['channelTitle']\r\n                    setSearchInfo({...searchInfo, bannedChannels: nBannedChannels})\r\n                  }}>\r\n                    {datum['snippet']['channelTitle']}\r\n                    <span className=\"tooltiptext\">Ban this Channel</span>\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-gray-500 text-end\" style={{fontSize: `${8}px`}}>\r\n                  {moment(datum['snippet']['publishTime']).format('YY.MM.DD HH:mm')}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default VYoutubeSearch;","export default class UtilValidator {\r\n  static hasAnyValue = (value) => (value !== void 0) && (value !== null);\r\n}","import React from \"react\";\r\nimport { CartesianGrid, LabelList, Legend, Line, Area, ComposedChart, ReferenceArea, ReferenceLine, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\nimport UtilValidator from \"../../../utils/util_validator\";\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"       : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"NASDAQ\"      : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"S&P200\"      : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"LUXUARY\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Global_Index\": UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"return_of_asset\"    : \"#000\",\r\n  \"return_of_day_trade\": \"#F00\",\r\n  \"safety_asset_ratio\" : \"#5AA8\",\r\n};\r\n\r\nconst RechartAlpha = (props) => {\r\n  const { data } = props;\r\n\r\n  const [_domain, setDomain] = React.useState({top: 'dataMax + 1', bottom: 'dataMin - 1'});\r\n  const [_refArea, setRefArea] = React.useState({left: '', right: ''});\r\n  const [_hoverIndex, setHoverIndex] = React.useState();\r\n\r\n  const [_purified_data, setPurifiedData] = React.useState([]);\r\n  const [_strokeWidths, setStrokeWidths ] = React.useState({});\r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let initial_values = {};\r\n\r\n    let purified_data = [];\r\n    // let accumulation_of_return_of_asset = 0;\r\n    let initial_return_of_asset = 0;\r\n    let initial_return_of_day_trade = 0;\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from) {\r\n        is_selected_range = true;\r\n        initial_values = {\r\n          'KOSPI'  : datum['KOSPI'],\r\n          'S&P500' : datum['S&P500'],\r\n          'NASDAQ' : datum['NASDAQ'],\r\n          'LUXUARY': datum['LUXUARY'],\r\n          'Global_Index': datum['Global_Index']\r\n        }\r\n        initial_return_of_day_trade = datum['day_trade'] || 0;\r\n        initial_return_of_asset = datum['return_of_asset'] || 0;\r\n      }\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n\r\n      // accumulation_of_return_of_asset = (datum['date'] === from) ? 0 : parseFloat((accumulation_of_return_of_asset + datum['return_of_asset']).toFixed(2));\r\n      purified_data.push({\r\n        date: datum['date'],\r\n        'return_of_asset'    : (datum['return_of_asset'] === void 0) ? 0 : parseFloat((datum['return_of_asset'] - initial_return_of_asset    ).toFixed(2)),\r\n        'return_of_day_trade': (datum['day_trade'      ] === void 0) ? 0 : parseFloat((datum['day_trade'      ] - initial_return_of_day_trade).toFixed(2)),\r\n        'KOSPI'       : parseFloat(((datum['KOSPI'       ] - initial_values['KOSPI'       ]) * 100 / initial_values['KOSPI'       ]).toFixed(2)),\r\n        'S&P500'      : parseFloat(((datum['S&P500'      ] - initial_values['S&P500'      ]) * 100 / initial_values['S&P500'      ]).toFixed(2)),\r\n        'NASDAQ'      : parseFloat(((datum['NASDAQ'      ] - initial_values['NASDAQ'      ]) * 100 / initial_values['NASDAQ'      ]).toFixed(2)),\r\n        'LUXUARY'     : parseFloat(((datum['LUXUARY'     ] - initial_values['LUXUARY'     ]) * 100 / initial_values['LUXUARY'     ]).toFixed(2)),\r\n        'Global_Index': parseFloat(((datum['Global_Index'] - initial_values['Global_Index']) * 100 / initial_values['Global_Index']).toFixed(2)),\r\n        'safety_asset_ratio': datum['safety_asset_ratio'],\r\n        'memo': datum['memo'],\r\n      });\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n  \r\n  if (!_purified_data || !_purified_data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n  \r\n\r\n  function getAxisYDomain(from, to, data) {\r\n    let [bottom, top] = [data[0]['return_of_asset'], data[0]['return_of_asset']];\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from)\r\n        is_selected_range = true;\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      if (datum['return_of_asset'] > top) top = datum['return_of_asset'];\r\n      if (datum['return_of_asset'] < bottom) bottom = datum['return_of_asset'];\r\n      \r\n      if (datum['return_of_day_trade'] > top) top = datum['return_of_day_trade'];\r\n      if (datum['return_of_day_trade'] < bottom) bottom = datum['return_of_day_trade'];\r\n\r\n      if (datum['S&P500'] > top) top = datum['S&P500'];\r\n      if (datum['S&P500'] < bottom) bottom = datum['S&P500'];\r\n\r\n      if (datum['NASDAQ'] > top) top = datum['NASDAQ'];\r\n      if (datum['NASDAQ'] < bottom) bottom = datum['NASDAQ'];\r\n\r\n      if (datum['KOSPI'] > top) top = datum['KOSPI'];\r\n      if (datum['KOSPI'] < bottom) bottom = datum['KOSPI'];\r\n\r\n      if (datum['Global_Index'] > top) top = datum['Global_Index'];\r\n      if (datum['Global_Index'] < bottom) bottom = datum['Global_Index'];\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n    return [(Math.floor(bottom - 1) | 0), (Math.ceil(top + 1) | 0)];\r\n  };\r\n  \r\n  function _zoom() {\r\n    let { left, right } = _refArea;\r\n\r\n    if (left === right || right === '') {\r\n      setRefArea({\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    // yAxis domain\r\n    const [bottom, top] = getAxisYDomain(left, right, purified_data);\r\n\r\n    setRefArea({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    setDomain({\r\n      bottom,\r\n      top\r\n    });\r\n\r\n    setPurifiedData(purified_data);\r\n  }\r\n\r\n  function _zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    setRefArea({left: '', right: ''});\r\n    setDomain({top: 'dataMax + 1', bottom: 'dataMin - 1'});\r\n    setPurifiedData(purified_data);\r\n  }\r\n  \r\n\r\n  function _handleMouseEnterLegends(o) {\r\n    const { dataKey } = o;\r\n    setStrokeWidths({ ..._strokeWidths, [dataKey]: 3 });\r\n  };\r\n\r\n  function _handleMouseLeaveLegends(o) {\r\n    const { dataKey } = o;    \r\n    setStrokeWidths({ ..._strokeWidths, [dataKey]: 1 });\r\n  };\r\n\r\n\r\n\r\n  const AlphaTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n\r\n    const payload_return_of_asset    = payload.filter(payload => payload['name'] === 'Return of Asset')[0];\r\n    const payload_return_of_daytrade = payload.filter(payload => payload['name'] === 'Return of DayTrade')[0];\r\n    // const date = moment(label).format('YY.MM.DD');    \r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{label}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload_return_of_asset && (\r\n              <tr>\r\n                <td><p style={{ color: payload_return_of_asset['color'] }}>{`${payload_return_of_asset['name']}`}</p></td>\r\n                <td><p style={{ color: payload_return_of_asset['color'] }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_return_of_asset['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_return_of_asset['value']).padStart(8, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            {payload_return_of_daytrade && (\r\n              <tr>\r\n                <td><p style={{ color: payload_return_of_daytrade['color'] }}>{`${payload_return_of_daytrade['name']}`}</p></td>\r\n                <td><p style={{ color: payload_return_of_daytrade['color'] }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_return_of_daytrade['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_return_of_daytrade['value']).padStart(8, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload.map((payload, i) => {\r\n              if (payload['name'] === 'Return of Asset' || payload['name'] === 'Return of DayTrade')\r\n                return null;\r\n\r\n              return (\r\n                <tr key={payload['name']}>\r\n                  <td><p style={{ color: payload['color'] }}>{`${payload['name']}`}</p></td>\r\n                  <td><p style={{ color: payload['color'] }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload['value']).padStart(8, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              );\r\n            })}            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  \r\n  const renderIntermittentLabel = (props) => {\r\n    const { x, y, offset, value, index, fontSize, fontWeight } = props;\r\n\r\n    if (index % 2 === 0)\r\n      return (\r\n        <g>\r\n          <text x={x} y={y - offset * 2} textAnchor=\"middle\" fontSize={fontSize} fontWeight={fontWeight}>{value}</text>\r\n        </g>\r\n      );\r\n    \r\n    return (\r\n      <g></g>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ userSelect: 'none' }}>\r\n        <ResponsiveContainer width=\"100%\" height={800}>\r\n            <ComposedChart\r\n              width={800}\r\n              height={800}\r\n              data={_purified_data}\r\n              onMouseDown={(e) => e && (_refArea.left !== e.activeLabel) && setRefArea({ left: e.activeLabel, right: _refArea['right'] })}\r\n              onMouseMove={(e) => {\r\n                if (e && UtilValidator.hasAnyValue(e.activeTooltipIndex))\r\n                  setHoverIndex(e.activeTooltipIndex);\r\n\r\n                if (e && _refArea.left && (_refArea.right !== e.activeLabel))\r\n                  setRefArea({ right: e.activeLabel, left: _refArea['left'] });\r\n              }}\r\n              onMouseUp={e => {\r\n                if (_refArea['left'] !== '' && _refArea['right'] === '')\r\n                  _zoomOut();\r\n                else\r\n                  _zoom();\r\n              }}\r\n              onMouseLeave={e => {setHoverIndex(void 0)}}\r\n              margin={{\r\n                top: 40,\r\n                right: 30,\r\n                left: 30,\r\n                bottom: 50,\r\n              }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <Tooltip content={<AlphaTooltip />} />\r\n              <Legend align=\"left\" verticalAlign=\"top\" iconSize={20} wrapperStyle={{top: 0}} onMouseEnter={_handleMouseEnterLegends} onMouseLeave={_handleMouseLeaveLegends}/>\r\n              <XAxis\r\n                allowDataOverflow\r\n                dataKey=\"date\"\r\n                fontSize={10}\r\n                angle={-40}\r\n                textAnchor=\"end\"\r\n                // verticalAnchor=\"middle\"\r\n                tickSize={4}\r\n                tickMargin={8}\r\n                padding={{ left: 50, right: 50 }}\r\n                // tickFormatter={(date) => {\r\n                //   if (date instanceof Date)\r\n                //     return moment(date).format('YY.MM.DD');\r\n                //   return date;\r\n                // }} \r\n              />\r\n              <YAxis\r\n                yAxisId=\"left\"\r\n                allowDataOverflow \r\n                domain={[_domain['bottom'], _domain['top'  ]]}\r\n                // padding={{ bottom: 50, top: 50 }}\r\n                tickFormatter={(value) => {\r\n                  return parseFloat(value.toFixed(2));\r\n                }}\r\n              />\r\n              <YAxis yAxisId=\"right\" orientation=\"right\" label={{ value: '%', position: 'center' }} fontSize={10} domain={[0, 100]} ticks={[0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]} />\r\n              <Line\r\n                yAxisId=\"left\"\r\n                type=\"natural\" dataKey={'return_of_asset'} name=\"Return of Asset\"\r\n                stroke={_colors_map['return_of_asset']} strokeWidth={2}\r\n                animationDuration={300}\r\n              >\r\n                <LabelList dataKey={'return_of_asset'} content={renderIntermittentLabel} fontWeight=\"bold\" />\r\n              </Line>\r\n              \r\n              <Line\r\n                yAxisId=\"left\"\r\n                type=\"natural\" dataKey={'return_of_day_trade'} name=\"Return of DayTrade\"\r\n                stroke={_colors_map['return_of_day_trade']} strokeWidth={2}\r\n                animationDuration={300}\r\n              >\r\n                <LabelList dataKey={'return_of_day_trade'} content={renderIntermittentLabel} fontWeight=\"bold\" />\r\n              </Line>\r\n              \r\n              <Line yAxisId=\"left\" type=\"natural\" name={'KOSPI'  } dataKey={'KOSPI'  } stroke={_colors_map['KOSPI'  ]} strokeWidth={_strokeWidths['KOSPI'  ] || 1} animationDuration={300} dot={false} />\r\n              <Line yAxisId=\"left\" type=\"natural\" name={'S&P500' } dataKey={'S&P500' } stroke={_colors_map['S&P500' ]} strokeWidth={_strokeWidths['S&P500' ] || 1} animationDuration={300} dot={false} />\r\n              <Line yAxisId=\"left\" type=\"natural\" name={'NASDAQ' } dataKey={'NASDAQ' } stroke={_colors_map['NASDAQ' ]} strokeWidth={_strokeWidths['NASDAQ' ] || 1} animationDuration={300} dot={false} />\r\n              <Line yAxisId=\"left\" type=\"natural\" name={'LUXUARY'} dataKey={'LUXUARY'} stroke={_colors_map['LUXUARY']} strokeWidth={_strokeWidths['LUXUARY'] || 1} animationDuration={300} dot={false} />\r\n              <Line yAxisId=\"left\" type=\"natural\" name={'Global_Index'} dataKey={'Global_Index'} stroke={_colors_map['Global_Index']} strokeWidth={_strokeWidths['Global_Index'] || 2} animationDuration={300} dot={false} />\r\n              \r\n\r\n              <defs>\r\n                <linearGradient id=\"colorSafetyAssetRatio\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"20%\" stopColor={_colors_map['safety_asset_ratio']} stopOpacity={0.8}/>\r\n                  <stop offset=\"75%\" stopColor={_colors_map['safety_asset_ratio']} stopOpacity={0}/>\r\n                </linearGradient>\r\n              </defs>\r\n              <Area yAxisId=\"right\" type=\"monotone\" name={'Safety Asset Ratio'} dataKey={'safety_asset_ratio'} stroke={_colors_map['safety_asset_ratio']} fillOpacity={1} fill=\"url(#colorSafetyAssetRatio)\">\r\n                <LabelList dataKey={'safety_asset_ratio'} fontSize={10} content={renderIntermittentLabel} />\r\n              </Area>\r\n              \r\n              <ReferenceLine yAxisId=\"left\" y={0} stroke=\"#888\" />\r\n\r\n              {_refArea['left'] && _refArea['right'] ? (\r\n                <ReferenceArea yAxisId=\"left\" x1={_refArea['left']} x2={_refArea['right']} strokeOpacity={0.3} />\r\n              ) : null}\r\n            </ComposedChart>\r\n          </ResponsiveContainer>\r\n      </div>\r\n\r\n      {UtilValidator.hasAnyValue(_hoverIndex) && _purified_data[_hoverIndex] && _purified_data[_hoverIndex]['memo'] && (\r\n        <div\r\n          className=\"position-fixed p-3 bg-light rounded\" style={{top: 10, left: 10}}\r\n        >\r\n          <div className=\"fw-bold\">{_purified_data[_hoverIndex]['date']}</div>\r\n          <div style={{lineBreak: 'anywhere', whiteSpace: 'pre-wrap', wordBreak: 'break-all'}}>\r\n            {_purified_data[_hoverIndex]['memo']}\r\n          </div>          \r\n        </div>\r\n      )}       \r\n    </div>\r\n  );\r\n}\r\n \r\nexport default RechartAlpha;","import React from \"react\";\r\nimport { Bar, CartesianGrid, ComposedChart, Legend, Line, ReferenceArea, ReferenceLine, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\n\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Won\"       : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Dollar\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"LUXUARY\"   : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"NASDAQ\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Reits\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"S&P500\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Stocks-KR\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"Stocks-US\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n  \"T-bond_I\"  : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -20),\r\n};\r\n\r\n\r\nconst RechartArbitrage = (props) => {\r\n  const { data } = props;\r\n\r\n  const [_viewPort, _setViewPort] = React.useState({left: '', right: ''});\r\n  const [_purified_data, _setPurifiedData] = React.useState(data);\r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let purified_data = [];\r\n\r\n    let is_selected_range = false;\r\n    let offset = 0;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from) {\r\n        is_selected_range = true;\r\n        offset = datum['accumulation'] - datum['total'];\r\n      }\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      purified_data.push({\r\n        ...datum,\r\n        accumulation: datum['accumulation'] - offset\r\n      });\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n\r\n\r\n  if (!_purified_data || !_purified_data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n\r\n  // set min, max trade volume, count\r\n  let min_traded_volume = data[0]['buy_volume'] || 0,\r\n      max_trade_volume = data[0]['buy_volume'] || 0,\r\n      min_count = data[0]['count'] || 0,\r\n      max_count = data[0]['count'] || 0;\r\n\r\n  data.forEach((datum) => {\r\n    if (datum['buy_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['sell_volume'];\r\n    if (datum['buy_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['sell_volume'];\r\n    if (datum['count'] < min_count)\r\n      min_count = datum['count'];\r\n    if (datum['count'] > max_count)\r\n      max_count = datum['count'];\r\n  });\r\n\r\n\r\n  function _zoom() {\r\n    let { left, right } = _viewPort;\r\n\r\n    if (left === right || right === '') {\r\n      _setViewPort({\r\n        ..._viewPort,\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    _setViewPort({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  function _zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setViewPort({\r\n      left: '',\r\n      right: ''\r\n    });\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n\r\n  const ArbitrageTooltip = ({ active, payload: payloads, label }) => {\r\n    if (!active || !payloads || !payloads.length)\r\n      return null;\r\n    \r\n    const full_payload = payloads[0]['payload'];\r\n    const total_arbitrage = full_payload['total'];\r\n    const total_color = '#555';\r\n\r\n    const payload_accumulation = payloads.filter(payload => payload['name'] === 'Accumulation')[0];\r\n\r\n    // const date = moment(label).format('YY.MM.DD');\r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{label}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payloads.map((payload, i) => {\r\n              if (payload['name'] === 'Accumulation')\r\n                return null;\r\n\r\n              return (\r\n                <tr key={payload['name']}>\r\n                  <td><p style={{ color: payload['color'] }}>{`${payload['name']}`}</p></td>\r\n                  <td><p style={{ color: payload['color'] }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              )\r\n            })}\r\n            \r\n            \r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr> \r\n            <tr>\r\n              <td><p style={{ color: total_color }}>{`Total`}</p></td>\r\n              <td><p style={{ color: total_color }}>{` :  `}</p></td>\r\n              <td><code className=\"w-100\" style={{ color: total_color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                {`${UtilConverter.number2commadStringWithIntl(total_arbitrage).padStart(14, ' ')}`}\r\n              </code></td>\r\n            </tr>\r\n            {payload_accumulation && (\r\n              <tr>\r\n                <td><p style={{ color: payload_accumulation['color'] }}>{`${payload_accumulation['name']}`}</p></td>\r\n                <td><p style={{ color: payload_accumulation['color'] }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_accumulation['color'], textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_accumulation['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ userSelect: 'none' }}>\r\n      <ResponsiveContainer width=\"100%\" height={400}>\r\n        <ComposedChart\r\n          width={500}\r\n          height={300}\r\n          data={_purified_data}\r\n          // stackOffset=\"sign\"\r\n          margin={{\r\n            top: 30,\r\n            right: 30,\r\n            left: 30,\r\n            bottom: 20,\r\n          }}\r\n          onMouseDown={(e) => e && (_viewPort.left !== e.activeLabel) && _setViewPort({ ..._viewPort, left: e.activeLabel })}\r\n          onMouseMove={(e) => e && _viewPort.left && (_viewPort.right !== e.activeLabel) && _setViewPort({ ..._viewPort, right: e.activeLabel })}\r\n          onMouseUp={e => {\r\n            if (_viewPort['left'] !== '' && _viewPort['right'] === '')\r\n              _zoomOut();\r\n            else\r\n              _zoom();\r\n          }}\r\n        >          \r\n          <Legend align=\"left\" verticalAlign=\"top\" wrapperStyle={{top: 0}} />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis\r\n            dataKey=\"date\"\r\n            domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            angle={-40}\r\n            textAnchor=\"end\"\r\n            // verticalAnchor=\"middle\"\r\n            tickSize={4}\r\n            tickMargin={8}\r\n            // tickFormatter={(unixTime) => moment(unixTime).format('YY.MM.DD')}\r\n          />\r\n          <YAxis yAxisId=\"left\" fontSize={10} tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} />\r\n          <YAxis yAxisId=\"right\" orientation=\"right\" fontSize={10} tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} />\r\n          <Tooltip content={<ArbitrageTooltip />}/>\r\n          <ReferenceLine yAxisId=\"left\" y={0} stroke=\"#000\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"KOSPI\"   fill={_colors_map[\"KOSPI\"  ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"S&P500\"  fill={_colors_map[\"S&P500\" ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"NASDAQ\"  fill={_colors_map[\"NASDAQ\" ]} stackId=\"stack\" />\r\n          <Bar yAxisId=\"left\" dataKey=\"LUXUARY\" fill={_colors_map[\"LUXUARY\"]} stackId=\"stack\" />\r\n          \r\n          <Line yAxisId=\"right\" type=\"natural\" name=\"Accumulation\" dataKey=\"accumulation\" stroke=\"#D44\" strokeWidth={2} />\r\n          \r\n          {_viewPort['left'] && _viewPort['right'] ? (\r\n            <ReferenceArea x1={_viewPort['left']} x2={_viewPort['right']} yAxisId=\"left\" strokeOpacity={0.3} />\r\n          ) : null}\r\n        </ComposedChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default RechartArbitrage;","// import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { CartesianGrid, ComposedChart, Legend, Line, ReferenceArea, ResponsiveContainer, Scatter, Tooltip, XAxis, YAxis, ZAxis } from \"recharts\";\r\nimport { UtilConverter } from \"../../../utils\";\r\n\r\nconst RechartDayTrade = (props) => {\r\n  const { data } = props;\r\n\r\n  const [_viewPort, _setViewPort] = React.useState({left: '', right: ''});\r\n  const [_purified_data, _setPurifiedData] = React.useState(data);\r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let purified_data = [];\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from)\r\n        is_selected_range = true;\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      purified_data.push(datum);\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n\r\n\r\n  if (!_purified_data || !_purified_data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n\r\n  function _zoom() {\r\n    let { left, right } = _viewPort;\r\n\r\n    if (left === right || right === '') {\r\n      _setViewPort({\r\n        ..._viewPort,\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    _setViewPort({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  function _zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setViewPort({\r\n      left: '',\r\n      right: ''\r\n    });\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  // set min, max trade volume, count\r\n  let min_traded_volume = data[0]['buy_volume'] || 0,\r\n      max_trade_volume = data[0]['buy_volume'] || 0,\r\n      min_count = data[0]['count'] || 0,\r\n      max_count = data[0]['count'] || 0;\r\n\r\n  data.forEach((datum) => {\r\n    if (datum['buy_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['sell_volume'];\r\n    if (datum['buy_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['sell_volume'];\r\n    if (datum['count'] < min_count)\r\n      min_count = datum['count'];\r\n    if (datum['count'] > max_count)\r\n      max_count = datum['count'];\r\n  });\r\n\r\n\r\n  const AssetRatioTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n    \r\n    const full_payload = payload[0]['payload'];\r\n\r\n    // const date = moment(label).format('YY.MM.DD');\r\n\r\n    let payload_price,\r\n        payload_avg_price,\r\n        payload_buy,\r\n        payload_sell;\r\n\r\n    payload.forEach(datum => {\r\n      switch (datum['name']) {\r\n        case 'price':\r\n          payload_price = datum;\r\n          break;      \r\n        case 'average price':\r\n          payload_avg_price = datum;\r\n          break;      \r\n        case 'buy':\r\n          payload_buy = datum;\r\n          break;      \r\n        case 'sell':\r\n          payload_sell = datum;\r\n          break;      \r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    if (payload_buy)\r\n      payload_buy['buy_volume'] = full_payload['buy_volume'];\r\n    if (payload_sell)\r\n      payload_sell['sell_volume'] = full_payload['sell_volume'];\r\n    if (payload_avg_price)\r\n      payload_avg_price['count'] = full_payload['count'];\r\n\r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{label}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload_price && payload_price['value'] && (\r\n              <tr key={payload_price['name']}>\r\n                <td><p style={{ color: payload_price.color }}>{`${payload_price.name}`}</p></td>\r\n                <td><p style={{ color: payload_price.color }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_price['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            {payload_avg_price && payload_avg_price['value'] && payload_avg_price['count'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_avg_price['name']}>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{`${payload_avg_price.name}`}</p></td>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_avg_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_avg_price['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'count'}>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{'count'}</p></td>\r\n                  <td><p style={{ color: payload_avg_price.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_avg_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_avg_price['count']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}\r\n            \r\n            {((payload_buy && payload_buy['value'] && payload_buy['buy_volume']) || (payload_sell && payload_sell['value'] && payload_sell['sell_volume'])) && (\r\n              <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            )}           \r\n\r\n            {payload_buy && payload_buy['value'] && payload_buy['buy_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_buy['name']}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_price'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'buy_volume'}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_volume'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['buy_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {payload_sell && payload_sell['value'] && payload_sell['sell_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_sell['name']}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_price'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'sell_volume'}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_volume'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['sell_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  const CountDot = (props) => {\r\n    const { cx, cy, stroke, payload /*, value*/ } = props;\r\n    let count = payload['count'];\r\n    if (count < 1)\r\n      return null;\r\n\r\n    let size = count / max_count * 512;\r\n    \r\n    return (\r\n      <svg x={cx - 20} y={cy - 20} width={40} height={40} fill={stroke} fillOpacity={0.2} viewBox=\"0 0 1024 1024\">\r\n        <circle cx={512} cy={512} r={size} />\r\n      </svg>\r\n    );\r\n  };\r\n\r\n\r\n  return (  \r\n    <div style={{ userSelect: 'none' }}>\r\n      <ResponsiveContainer width=\"100%\" height={400}>\r\n        <ComposedChart\r\n          width={500}\r\n          height={400}\r\n          data={_purified_data}\r\n          margin={{\r\n            top: 10,\r\n            left: 30,\r\n            right: 30,\r\n            bottom: 20,\r\n          }}\r\n          onMouseDown={(e) => e && (_viewPort.left !== e.activeLabel) && _setViewPort({ ..._viewPort, left: e.activeLabel })}\r\n          onMouseMove={(e) => e && _viewPort.left && (_viewPort.right !== e.activeLabel) && _setViewPort({ ..._viewPort, right: e.activeLabel })}\r\n          onMouseUp={e => {\r\n            if (_viewPort['left'] !== '' && _viewPort['right'] === '')\r\n              _zoomOut();\r\n            else\r\n              _zoom();\r\n          }}\r\n        >\r\n          <CartesianGrid stroke=\"#DDD\" />\r\n          <Tooltip content={<AssetRatioTooltip />} />\r\n          <Legend align=\"left\" verticalAlign=\"top\" height={36} iconSize={12} />\r\n\r\n          <XAxis \r\n            dataKey=\"date\"\r\n            domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            angle={-40}\r\n            textAnchor=\"end\"\r\n            // verticalAnchor=\"middle\"\r\n            tickSize={4}\r\n            tickMargin={8}\r\n            // tickFormatter={(unixTime) => moment(unixTime).format('YY.MM.DD')}\r\n            // label={{ value: 'DATE', position: 'insideBottomRight', offset: 0 }} \r\n            padding={{ left: 50, right: 50 }}\r\n          />\r\n          <YAxis\r\n            // dataKey=\"price\" \r\n            // domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            domain={[dataMin => parseInt(dataMin * 0.995), dataMax => parseInt(dataMax * 1.005)]}\r\n            // padding={{ top: 20, bottom: 20 }}\r\n            // unit=\"\"\r\n            // type=\"number\"\r\n            // label={{ value: 'WON', angle: -90, position: 'insideLeft' }}\r\n            tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} \r\n          />\r\n          <ZAxis dataKey=\"sell_volume\" name=\"sell_volume\" domain={[min_traded_volume, max_trade_volume]} range={[50, 500]} unit=\"ea\" zAxisId=\"sell_vol\" />\r\n          <ZAxis dataKey=\"buy_volume\"  name=\"buy_volume\"  domain={[min_traded_volume, max_trade_volume]} range={[50, 500]} unit=\"ea\" zAxisId=\"buy_vol\" />\r\n          \r\n          {/* <Scatter name=\"red\" dataKey=\"red\" fill=\"red\" /> */}\r\n          <Line type=\"natural\" dataKey=\"price\" />\r\n          <Line type=\"natural\" name=\"average price\" dataKey=\"a_price\" stroke=\"#0A0\" dot={<CountDot />} />\r\n\r\n          <Scatter name=\"sell\" dataKey=\"sell_price\" shape=\"circle\" stroke=\"#00F\" fillOpacity={0.5} fill=\"#00F9\" legendType=\"circle\" zAxisId=\"sell_vol\" />\r\n          <Scatter name=\"buy\"  dataKey=\"buy_price\"  shape=\"circle\" stroke=\"#F00\" fillOpacity={0.5} fill=\"#F009\" legendType=\"circle\" zAxisId=\"buy_vol\"  />\r\n          \r\n          {/* <Line dataKey=\"redLine\" stroke=\"red\" dot={false} activeDot={false} legendType=\"none\" /> */}\r\n          {_viewPort['left'] && _viewPort['right'] ? (\r\n            <ReferenceArea x1={_viewPort['left']} x2={_viewPort['right']} strokeOpacity={0.3} />\r\n          ) : null}\r\n        </ComposedChart>\r\n      </ResponsiveContainer>\r\n    </div>   \r\n  );\r\n}\r\n \r\nexport default RechartDayTrade;","import React from \"react\";\r\nimport { Area, AreaChart, CartesianGrid, LabelList, Legend, ReferenceArea, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\r\nimport { UtilCommon, UtilConverter } from \"../../../utils\";\r\n\r\nconst _colors_map = {\r\n  \"KOSPI\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Won\"       : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Dollar\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Luxuary\"   : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"NASDAQ\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Reits\"     : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"S&P500\"    : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Stocks-KR\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"Stocks-US\" : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"T-bond_I\"  : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n  \"P-Metal\"   : UtilCommon.lightenDarkenColor(UtilCommon.makeRandomColor(), -50),\r\n};\r\n\r\n\r\nconst RechartTotalAsstRatio = (props) => {\r\n  const { data }  = props;\r\n\r\n  const [_viewPort, _setViewPort] = React.useState({left: '', right: ''});\r\n  const [_purified_data, _setPurifiedData] = React.useState(data);\r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let purified_data = [];\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date'] === from)\r\n        is_selected_range = true;\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      purified_data.push(datum);\r\n\r\n      if (datum['date'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n\r\n\r\n  if (!_purified_data || !_purified_data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n\r\n  function _zoom() {\r\n    let { left, right } = _viewPort;\r\n\r\n    if (left === right || right === '') {\r\n      _setViewPort({\r\n        ..._viewPort,\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    _setViewPort({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  function _zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date'], data[data.length - 1]['date']);\r\n    _setViewPort({\r\n      left: '',\r\n      right: ''\r\n    });\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  const AssetRatioTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n\r\n    // const date = moment(label).format('YY.MM.DD');\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{label}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload.map(datum => {\r\n              let percent = ((100 * datum['value']) / datum['payload']['Total']).toFixed(2).padStart(5, ' ');\r\n              return (\r\n                <tr key={datum['name']}>\r\n                  <td><p style={{ color: datum.color }}>{`${datum.name}`}</p></td>\r\n                  <td><p style={{ color: datum.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: datum.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(datum['value']).padStart(14, ' ')} (${percent}%)`}\r\n                  </code></td>\r\n                </tr>\r\n              );                  \r\n            }).reverse()}\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            <tr>\r\n              <td><p className=\"fw-bolder\" style={{ color: 'black' }}>{`Total`}</p></td>\r\n              <td><p style={{ color: 'black' }}>{` :  `}</p></td>\r\n              <td className=\"text-end\"><code className=\"text-dark fw-bolder\" style={{ textAlign: \"end\", fontSize: `${14}px` }}>\r\n                {`￦ ${UtilConverter.number2commadStringWithIntl(payload[0]['payload']['Total'])}`}\r\n              </code></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  \r\n  const renderIntermittentLabel = (props) => {\r\n    const { x, y, offset, value, index, fontSize, fontWeight } = props;\r\n\r\n    if (index % 2 === 0)\r\n      return (\r\n        <g>\r\n          <text x={x} y={y - offset} textAnchor=\"middle\" fontSize={fontSize} fontWeight={fontWeight}>\r\n            {UtilConverter.number2shortenString(value)}\r\n          </text>\r\n        </g>\r\n      );\r\n    \r\n    return (\r\n      <g></g>\r\n    );\r\n  };\r\n\r\n\r\n  return ( \r\n    <div style={{ userSelect: 'none' }}>\r\n      <ResponsiveContainer width=\"100%\" height={600}>\r\n        <AreaChart\r\n          width={500}\r\n          height={400}\r\n          data={_purified_data}\r\n          defaultShowTooltip={true}\r\n          margin={{\r\n            top: 20,\r\n            right: 30,\r\n            left: 30,\r\n            bottom: 50,\r\n          }}\r\n          onMouseDown={(e) => e && (_viewPort.left !== e.activeLabel) && _setViewPort({ ..._viewPort, left: e.activeLabel })}\r\n          onMouseMove={(e) => e && _viewPort.left && (_viewPort.right !== e.activeLabel) && _setViewPort({ ..._viewPort, right: e.activeLabel })}\r\n          onMouseUp={e => {\r\n            if (_viewPort['left'] !== '' && _viewPort['right'] === '')\r\n              _zoomOut();\r\n            else\r\n              _zoom();\r\n          }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"1 2\" />\r\n          <XAxis dataKey=\"date\"\r\n            fontSize={10}\r\n            angle={-40}\r\n            textAnchor=\"end\"\r\n            // verticalAnchor=\"middle\"\r\n            tickSize={4}\r\n            tickMargin={8}\r\n            padding={{ left: 50, right: 50 }}\r\n            // tickFormatter={(date) => {\r\n            //   if (date instanceof Date)\r\n            //     return moment(date).format('YY.MM.DD');\r\n            //   return date;\r\n            // }}\r\n          />\r\n          <YAxis\r\n            allowDataOverflow \r\n            domain={[0, dataMax => parseInt(dataMax * 1.1)]}\r\n            fontSize={10} \r\n            tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)}\r\n          />\r\n          <Tooltip content={<AssetRatioTooltip />} />\r\n          <Legend align=\"left\" verticalAlign=\"top\" iconSize={20} wrapperStyle={{top: 0}} />\r\n          <Area type=\"monotone\" dataKey={\"Won\"      } stackId=\"1\" stroke={_colors_map[\"Won\"      ]} fill={_colors_map[\"Won\"      ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Won\"      } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"Dollar\"   } stackId=\"1\" stroke={_colors_map[\"Dollar\"   ]} fill={_colors_map[\"Dollar\"   ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Dollar\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"KOSPI\"    } stackId=\"1\" stroke={_colors_map[\"KOSPI\"    ]} fill={_colors_map[\"KOSPI\"    ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_KOSPI\"    } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"S&P500\"   } stackId=\"1\" stroke={_colors_map[\"S&P500\"   ]} fill={_colors_map[\"S&P500\"   ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_S&P500\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"NASDAQ\"   } stackId=\"1\" stroke={_colors_map[\"NASDAQ\"   ]} fill={_colors_map[\"NASDAQ\"   ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_NASDAQ\"   } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"Luxuary\"  } stackId=\"1\" stroke={_colors_map[\"Luxuary\"  ]} fill={_colors_map[\"Luxuary\"  ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Luxuary\"  } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"Stocks-KR\"} stackId=\"1\" stroke={_colors_map[\"Stocks-KR\"]} fill={_colors_map[\"Stocks-KR\"]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Stocks-KR\"} position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"Stocks-US\"} stackId=\"1\" stroke={_colors_map[\"Stocks-US\"]} fill={_colors_map[\"Stocks-US\"]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Stocks-US\"} position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"Reits\"    } stackId=\"1\" stroke={_colors_map[\"Reits\"    ]} fill={_colors_map[\"Reits\"    ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_Reits\"    } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"T-bond_I\" } stackId=\"1\" stroke={_colors_map[\"T-bond_I\" ]} fill={_colors_map[\"T-bond_I\" ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_T-bond_I\" } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>} </Area>\r\n          <Area type=\"monotone\" dataKey={\"P-Metal\"  } stackId=\"1\" stroke={_colors_map[\"P-Metal\"  ]} fill={_colors_map[\"P-Metal\"  ]} animationDuration={300}>{_purified_data != null && _purified_data.length > 25 ? null : <LabelList dataKey={\"PERCENT_P-Metal\"  } position=\"insideTopLeft\" offset={5} fontSize={10} formatter={(v) => { if (v > 2) return v.toFixed(2)}}/>}            \r\n            {_purified_data != null && _purified_data.length > 25\r\n              ? (\r\n                  <LabelList dataKey={\"Total\"} position=\"top\" offset={14} fontSize={10}\r\n                    formatter={(datum) => {\r\n                      return UtilConverter.number2shortenString(datum);\r\n                    }}\r\n                    content={renderIntermittentLabel}\r\n                  />\r\n                )\r\n              : (\r\n                  <LabelList dataKey={\"Total\"} position=\"top\" offset={14} fontSize={10}\r\n                    formatter={(datum) => {\r\n                      return UtilConverter.number2commadStringWithIntl(datum);\r\n                    }}\r\n                    content={renderIntermittentLabel}\r\n                  />  \r\n                )\r\n            }            \r\n          </Area>\r\n          {_viewPort['left'] && _viewPort['right'] ? (\r\n            <ReferenceArea x1={_viewPort['left']} x2={_viewPort['right']} strokeOpacity={0.3} />\r\n          ) : null}\r\n        </AreaChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default RechartTotalAsstRatio;","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport xlsx from 'xlsx';\r\nimport { UtilSheet } from \"../../utils\";\r\nimport RechartAlpha from \"./recharts/rechart_alpha\";\r\nimport RechartArbitrage from \"./recharts/rechart_arbitrage\";\r\nimport RechartDayTrade from \"./recharts/rechart_day_trade\";\r\nimport RechartTotalAsstRatio from \"./recharts/rechart_total_asset\";\r\n\r\nconst VTradeHistory = () => {\r\n  const [_total_asset_data                  , setTotalAssetData                ] = React.useState([]);  \r\n  const [_algorithm_trade_data              , setAlgorithmTradeData            ] = React.useState({});\r\n  const [_alpha_data                        , setAlphaData                     ] = React.useState({});\r\n  const [_selected_algorithm_trade_data_name, setSelectedAlgorithmTradeDataName] = React.useState('KOSPI');\r\n  const [_arbitrage_data                    , setArbitrageData                 ] = React.useState([]);\r\n  \r\n  let _selected_algorithm_trade_data = _algorithm_trade_data[_selected_algorithm_trade_data_name] || [];\r\n\r\n  const _refPricesFileForm = React.useRef();\r\n\r\n  const _parseData = React.useCallback((data) => {\r\n    var total_asset_data = [];\r\n    var algorithm_trade_data = {};\r\n    let arbitrage_data_pre = {};\r\n    let arbitrage_data = [];\r\n\r\n    let alpha_data_pre = {};\r\n    let alpha_data = [];\r\n\r\n\r\n    Object.keys(data).forEach((sheetName) => {\r\n      if (sheetName === 'Total') {\r\n        data[sheetName].forEach((row) => {\r\n          var date = UtilSheet.serialDateToJSDate(row['일자']);\r\n          var date_string = moment(date).format('YY.MM.DD');\r\n          delete row['일자'];\r\n          \r\n          // for alpha_data_pre          \r\n          if (!alpha_data_pre[date_string])\r\n            alpha_data_pre[date_string] = {};\r\n          alpha_data_pre[date_string]['return_of_asset'] = parseFloat((row['c_return'] || 0).toFixed(2));\r\n          alpha_data_pre[date_string]['memo'] = row['memo'];\r\n\r\n          let safety_asset_ratio = (parseFloat(row['cash_ratio']) * 100).toFixed(2);\r\n          alpha_data_pre[date_string]['safety_asset_ratio'] = safety_asset_ratio;\r\n\r\n\r\n          function getPercentage(key) {\r\n            return parseFloat(((100 * row[key]) / row['Total']).toFixed(2));\r\n          }\r\n          \r\n          var percentages = {};\r\n          [\r\n            \"Won\"      ,\r\n            \"Dollar\"   ,\r\n            \"KOSPI\"    , \r\n            \"S&P500\"   ,\r\n            \"NASDAQ\"   ,\r\n            \"Luxuary\"  ,\r\n            \"Reits\"    ,\r\n            \"Stocks-KR\",\r\n            \"Stocks-US\",\r\n            \"T-bond_I\" ,\r\n            \"P-Metal\"\r\n          ].forEach((key) => {\r\n            percentages[`PERCENT_${key}`] = getPercentage(key)\r\n          });\r\n\r\n          total_asset_data.push({\r\n            ...row,\r\n            ...percentages,\r\n            date: date_string,\r\n          });\r\n        });\r\n\r\n      } else if (sheetName === 'KOSPI' || sheetName === 'S&P500' || sheetName === 'NASDAQ' || sheetName === 'LUXUARY') {\r\n\r\n        algorithm_trade_data[sheetName] = data[sheetName].map((row) => {\r\n          var date = UtilSheet.serialDateToJSDate(row['일자']);\r\n          var date_string = moment(date).format('YY.MM.DD');\r\n\r\n          // for arbitrage_data_pre\r\n          if (!arbitrage_data_pre[date_string])\r\n           arbitrage_data_pre[date_string] = { 'total': 0 };\r\n          if (row['매수량'] && row['매도량']) {\r\n            let min_traded_volume = Math.min(row['매수량'], row['매도량']);\r\n            let arbitrage = (row['매도가격'] - row['매수가격']) * min_traded_volume;\r\n            arbitrage_data_pre[date_string][sheetName] = arbitrage;\r\n            arbitrage_data_pre[date_string]['total'] += arbitrage;\r\n          }\r\n\r\n          // for alpha_data_pre          \r\n          if (sheetName === 'KOSPI' || sheetName === 'S&P500' || sheetName === 'NASDAQ') {\r\n            if (!alpha_data_pre[date_string])\r\n              alpha_data_pre[date_string] = {};\r\n            alpha_data_pre[date_string][sheetName] = row['x1']; // multiple x1 prices\r\n          }\r\n          if (sheetName === 'LUXUARY') {\r\n            if (!alpha_data_pre[date_string])\r\n              alpha_data_pre[date_string] = {};\r\n            alpha_data_pre[date_string][sheetName] = row['가격']; // multiple x1 prices\r\n          }\r\n\r\n          return {\r\n            date: date_string,\r\n            price: row['가격'],\r\n            buy_price: row['매수가격'],\r\n            sell_price: row['매도가격'],\r\n            buy_volume: row['매수량'],\r\n            sell_volume: row['매도량'],\r\n            a_price: row['평균단가'],\r\n            count: row['보유량'],\r\n          };\r\n        });\r\n      } else if (sheetName === 'day_trade') {\r\n        data[sheetName].forEach((row) => {\r\n          var date_string = moment(UtilSheet.serialDateToJSDate(row['date'])).format('YY.MM.DD');\r\n          // for alpha_data_pre\r\n          if (!alpha_data_pre[date_string])\r\n            alpha_data_pre[date_string] = {};\r\n          alpha_data_pre[date_string][sheetName] = parseFloat(row['return'].toFixed(2));\r\n        });\r\n      } else if (sheetName === 'Global_Index') {\r\n        data[sheetName].forEach((row) => {\r\n          var date = UtilSheet.serialDateToJSDate(row['일자']);\r\n          var date_string = moment(date).format('YY.MM.DD');\r\n          if (!alpha_data_pre[date_string])\r\n            alpha_data_pre[date_string] = {};\r\n          alpha_data_pre[date_string][sheetName] = row['가격']; // multiple x1 prices        \r\n        });\r\n      }\r\n    });\r\n\r\n\r\n    // arbitrage_data_pre => arbitrage_data\r\n    let accumulation = 0;\r\n    Object.keys(arbitrage_data_pre).forEach((date, i) => {\r\n      accumulation += arbitrage_data_pre[date]['total'];\r\n      arbitrage_data.push({\r\n        date,\r\n        ...arbitrage_data_pre[date],\r\n        accumulation\r\n      });\r\n    });\r\n\r\n    // alpha_data_pre => alpha_data\r\n    Object.keys(alpha_data_pre).forEach((date, i) => {\r\n      alpha_data.push({\r\n        date,\r\n        ...alpha_data_pre[date]\r\n      });\r\n    });\r\n\r\n    return {\r\n      total_asset_data,\r\n      algorithm_trade_data,\r\n      arbitrage_data,\r\n      alpha_data,\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    let local_data = localStorage.getItem('last_finance_data');\r\n    if (!local_data) \r\n      return;\r\n\r\n    var data = JSON.parse(local_data);\r\n    try {\r\n      const { total_asset_data, algorithm_trade_data, arbitrage_data, alpha_data } = _parseData(data);\r\n      setTotalAssetData(total_asset_data);\r\n      setAlgorithmTradeData(algorithm_trade_data);\r\n      setArbitrageData(arbitrage_data);\r\n      setAlphaData(alpha_data);\r\n    } catch (e) {\r\n      localStorage.removeItem('last_finance_data');\r\n      window.location.reload();\r\n    }\r\n  }, [_parseData]);\r\n\r\n\r\n  /** CSV parse example ───────────────────────────────────── */\r\n  // function _setPrices(e) {   \r\n  //   var reader = new FileReader();\r\n  //   reader.onload = function(e) {\r\n  //     // Use reader.result\r\n  //     parseCSV(reader.result, {}, function (err, output) {\r\n  //       console.log(output);\r\n  //     });\r\n  //   }\r\n  //   reader.readAsText(e.target.files[0]);\r\n  // }\r\n  /** ───────────────────────────────────────────────────────── */\r\n\r\n  function uploadSheet(event) {\r\n    var input = event.target; \r\n    var reader = new FileReader();\r\n    reader.onload = function() { \r\n      var fdata = reader.result; \r\n      var read_buffer = xlsx.read(fdata, {type : 'binary'}); \r\n\r\n      let data = {};\r\n      read_buffer.SheetNames.forEach(function(sheetName) {\r\n        var data_rows = xlsx.utils.sheet_to_json(read_buffer.Sheets[sheetName]); \r\n        data[sheetName] = data_rows;\r\n      });\r\n      \r\n      _refPricesFileForm.current.reset();      \r\n      localStorage.setItem('last_finance_data', JSON.stringify(data));\r\n      const { total_asset_data, algorithm_trade_data, arbitrage_data, alpha_data } = _parseData(data);\r\n      setTotalAssetData(total_asset_data);\r\n      setAlgorithmTradeData(algorithm_trade_data);\r\n      setArbitrageData(arbitrage_data);\r\n      setAlphaData(alpha_data);\r\n    }; \r\n    reader.readAsBinaryString(input.files[0]); \r\n  }\r\n\r\n  return ( \r\n    <div>\r\n      <div className=\"text-start fw-bold my-5 px-4 w-100\" style={{fontSize: `calc(${2}rem + ${2}vw)`}}>\r\n        TRADE HISTORY\r\n      </div>\r\n      <div className=\"mt-5 d-flex justify-content-center w-100\">\r\n        <div className=\"pe-2\">\r\n          <label type=\"button\" className=\"btn btn-secondary\" \r\n            onClick={e => window.open('https://docs.google.com/uc?export=download&id=YourIndividualID', '_blank')}\r\n          >\r\n            DOWNLOAD SAMPLE\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <form ref={_refPricesFileForm}>\r\n            <input type=\"file\" accept=\".xlsx\" id=\"pricesFileInput\"\r\n              className=\"d-none\"\r\n              onClick={e => e.target.key = 'prices' + new Date().getMilliseconds()}\r\n              // name=\"pricesFile\" onChange={_setPrices}\r\n              name=\"pricesFile\" onChange={uploadSheet}\r\n            />\r\n          </form>\r\n          <label type=\"button\" htmlFor=\"pricesFileInput\" className=\"btn btn-danger\">UPLOAD XLSX</label>\r\n        </div>\r\n      </div>\r\n\r\n   \r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>ALGORITHM TRADE</b></h1>\r\n      </div>   \r\n      <div className=\"mt-5 px-3 fw-bold\">Select data</div>\r\n      <div className=\"px-3 d-flex flex-wrap\">\r\n        {Object.keys(_algorithm_trade_data).map((key, i) => {\r\n          return (\r\n            <div key={i} className=\"form-check px-3 py-2\">\r\n              <input\r\n                className=\"form-check-input\" type=\"radio\" name={`radio_${key}`} id={`radio_${key}`}\r\n                checked={_selected_algorithm_trade_data_name === key} onChange={e => setSelectedAlgorithmTradeDataName(key)}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor={`radio_${key}`}>\r\n                {key}\r\n              </label>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"mt-4\">\r\n        <RechartDayTrade data={_selected_algorithm_trade_data} />\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartArbitrage data={_arbitrage_data} />\r\n      </div>\r\n\r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>TOTAL ASSET RATIO</b></h1>\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartTotalAsstRatio data={_total_asset_data} />\r\n      </div>\r\n\r\n      <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n        <h1><b>ALPHA</b></h1>\r\n      </div>\r\n      <div className=\"mt-5\">\r\n        <RechartAlpha data={_alpha_data} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default VTradeHistory;","// import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { CartesianGrid, ComposedChart, Legend, Line, ReferenceArea, ReferenceLine, ResponsiveContainer, Scatter, Tooltip, XAxis, YAxis, ZAxis } from \"recharts\";\r\nimport { UtilConverter } from \"../../../utils\";\r\n\r\nconst RechartDayTrade3min = (props) => {\r\n  const { data } = props;\r\n\r\n  const [_viewPort, _setViewPort] = React.useState({left: '', right: ''});\r\n  const [_purified_data, _setPurifiedData] = React.useState(data);\r\n\r\n  const _reviseData = React.useCallback((from, to) => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    let purified_data = [];\r\n\r\n    let is_selected_range = false;\r\n    for (let datum of data) {\r\n      if (datum['date_time'] === from)\r\n        is_selected_range = true;\r\n\r\n      if (!is_selected_range)\r\n        continue;\r\n      \r\n      purified_data.push(datum);\r\n\r\n      if (datum['date_time'] === to)\r\n        break;\r\n    }\r\n\r\n    return purified_data;\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    if (!data || !data.length)\r\n      return;\r\n\r\n    const purified_data = _reviseData(data[0]['date_time'], data[data.length - 1]['date_time']);\r\n    _setPurifiedData(purified_data);\r\n  }, [data, _reviseData]);\r\n\r\n\r\n  if (!_purified_data || !_purified_data.length)\r\n    return (\r\n      <div className=\"text-center py-4 text-light\" style={{background: '#EDD'}}>\r\n        <h2>NO DATA</h2>\r\n      </div>\r\n    );\r\n\r\n\r\n  function _zoom() {\r\n    let { left, right } = _viewPort;\r\n\r\n    if (left === right || right === '') {\r\n      _setViewPort({\r\n        ..._viewPort,\r\n        left: '',\r\n        right: '',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // xAxis domain\r\n    if (left > right) [left, right] = [right, left];\r\n    \r\n    const purified_data = _reviseData(left, right);\r\n\r\n    _setViewPort({\r\n      left: '',\r\n      right: '',\r\n    });\r\n\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  function _zoomOut() {\r\n    const purified_data = _reviseData(data[0]['date_time'], data[data.length - 1]['date_time']);\r\n    _setViewPort({\r\n      left: '',\r\n      right: ''\r\n    });\r\n    _setPurifiedData(purified_data);\r\n  }\r\n\r\n  // set min, max trade volume, count\r\n  let min_traded_volume = data[0]['buy_volume'] || 0,\r\n      max_trade_volume = data[0]['buy_volume'] || 0;\r\n\r\n  for (let datum of data) {\r\n    if (!datum['buy_volume'] && !datum['sell_volume'])\r\n      continue;\r\n      \r\n    if (datum['buy_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] < min_traded_volume)\r\n      min_traded_volume = datum['sell_volume'];\r\n    if (datum['buy_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['buy_volume'];\r\n    if (datum['sell_volume'] > max_trade_volume)\r\n      max_trade_volume = datum['sell_volume'];\r\n  }\r\n\r\n\r\n  const AssetRatioTooltip = ({ active, payload, label }) => {\r\n    if (!active || !payload || !payload.length)\r\n      return null;\r\n    \r\n    const full_payload = payload[0]['payload'];\r\n\r\n    // const date = moment(label).format('YY.MM.DD');\r\n\r\n    let payload_price,\r\n        payload_buy,\r\n        payload_sell,\r\n        payload_rsi;\r\n\r\n    payload.forEach(datum => {\r\n      switch (datum['name']) {\r\n        case 'price':\r\n          payload_price = datum;\r\n          break;\r\n        case 'buy':\r\n          payload_buy = datum;\r\n          break;      \r\n        case 'sell':\r\n          payload_sell = datum;\r\n          break;\r\n        case 'rsi':\r\n          payload_rsi = datum;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    if (payload_buy)\r\n      payload_buy['buy_volume'] = full_payload['buy_volume'];\r\n    if (payload_sell)\r\n      payload_sell['sell_volume'] = full_payload['sell_volume'];\r\n\r\n    return (\r\n      <div className=\"bg-light p-2 border rounded\" style={{fontSize: `${12}px`, whiteSpace: \"pre\"}}>\r\n        <p className=\"fs-5 fw-bold text-center\">{label}</p>\r\n        <table>\r\n          <tbody>\r\n            <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            {payload_price && payload_price['value'] && (\r\n              <tr key={payload_price['name']}>\r\n                <td><p style={{ color: payload_price.color }}>{`${payload_price.name}`}</p></td>\r\n                <td><p style={{ color: payload_price.color }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_price.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_price['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n\r\n            {payload_rsi && payload_rsi['value'] && (\r\n              <tr key={payload_rsi['name']}>\r\n                <td><p style={{ color: payload_rsi.color }}>{`${payload_rsi.name}`}</p></td>\r\n                <td><p style={{ color: payload_rsi.color }}>{` :  `}</p></td>\r\n                <td><code className=\"w-100\" style={{ color: payload_rsi.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                  {`${UtilConverter.number2commadStringWithIntl(payload_rsi['value']).padStart(14, ' ')}`}\r\n                </code></td>\r\n              </tr>\r\n            )}\r\n            \r\n            {((payload_buy && payload_buy['value'] && payload_buy['buy_volume']) || (payload_sell && payload_sell['value'] && payload_sell['sell_volume'])) && (\r\n              <tr><td colSpan={3}><hr className=\"my-2\" /></td></tr>\r\n            )}           \r\n\r\n            {payload_buy && payload_buy['value'] && payload_buy['buy_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_buy['name']}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_price'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'buy_volume'}>\r\n                  <td><p style={{ color: payload_buy.color }}>{'buy_volume'}</p></td>\r\n                  <td><p style={{ color: payload_buy.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_buy.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_buy['buy_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {payload_sell && payload_sell['value'] && payload_sell['sell_volume'] && (\r\n              <React.Fragment>\r\n                <tr key={payload_sell['name']}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_price'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['value']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n                <tr key={'sell_volume'}>\r\n                  <td><p style={{ color: payload_sell.color }}>{'sell_volume'}</p></td>\r\n                  <td><p style={{ color: payload_sell.color }}>{` :  `}</p></td>\r\n                  <td><code className=\"w-100\" style={{ color: payload_sell.color, textAlign: \"end\", fontSize: `${14}px` }}>\r\n                    {`${UtilConverter.number2commadStringWithIntl(payload_sell['sell_volume']).padStart(14, ' ')}`}\r\n                  </code></td>\r\n                </tr>\r\n              </React.Fragment>\r\n            )}            \r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (  \r\n    <div style={{ userSelect: 'none' }}>\r\n      <ResponsiveContainer width=\"100%\" height={400}>\r\n        <ComposedChart\r\n          width={500}\r\n          height={400}\r\n          data={_purified_data}\r\n          margin={{\r\n            top: 10,\r\n            left: 30,\r\n            right: 30,\r\n            bottom: 20,\r\n          }}\r\n          onMouseDown={(e) => e && (_viewPort.left !== e.activeLabel) && _setViewPort({ ..._viewPort, left: e.activeLabel })}\r\n          onMouseMove={(e) => e && _viewPort.left && (_viewPort.right !== e.activeLabel) && _setViewPort({ ..._viewPort, right: e.activeLabel })}\r\n          onMouseUp={e => {\r\n            if (_viewPort['left'] !== '' && _viewPort['right'] === '')\r\n              _zoomOut();\r\n            else\r\n              _zoom();\r\n          }}\r\n        >\r\n          <CartesianGrid stroke=\"#DDD\" />\r\n          <Tooltip content={<AssetRatioTooltip />} />\r\n          <Legend align=\"left\" verticalAlign=\"top\" height={36} iconSize={12} />\r\n\r\n          <XAxis \r\n            dataKey=\"date_time\"\r\n            domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            angle={-40}\r\n            height={40}\r\n            textAnchor=\"end\"\r\n            // verticalAnchor=\"middle\"\r\n            tickSize={4}\r\n            tickMargin={8}\r\n            // tickFormatter={(unixTime) => moment(unixTime).format('YY.MM.DD')}\r\n            // label={{ value: 'DATE', position: 'insideBottomRight', offset: 0 }} \r\n            padding={{ left: 50, right: 50 }}\r\n          />\r\n          <YAxis\r\n            yAxisId=\"left\"\r\n            // dataKey=\"price\" \r\n            // domain={['auto', 'auto']}\r\n            fontSize={10}\r\n            domain={[dataMin => parseInt(dataMin * 0.995), dataMax => parseInt(dataMax * 1.005)]}\r\n            // padding={{ top: 20, bottom: 20 }}\r\n            // unit=\"\"\r\n            // type=\"number\"\r\n            // label={{ value: 'WON', angle: -90, position: 'insideLeft' }}\r\n            tickFormatter={(price) => UtilConverter.number2commadStringWithIntl(price)} \r\n          />\r\n          <YAxis yAxisId=\"right\" orientation=\"right\" label={{ value: '%', position: 'center' }} fontSize={10} domain={[0, 100]} ticks={[0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]} />\r\n          <ZAxis dataKey=\"sell_volume\" name=\"sell_volume\" domain={[min_traded_volume, max_trade_volume]} range={[0, 100]} unit=\"ea\" zAxisId=\"sell_vol\" />\r\n          <ZAxis dataKey=\"buy_volume\"  name=\"buy_volume\"  domain={[min_traded_volume, max_trade_volume]} range={[0, 100]} unit=\"ea\" zAxisId=\"buy_vol\" />\r\n          \r\n          {/* <Scatter name=\"red\" dataKey=\"red\" fill=\"red\" /> */}\r\n          <Line yAxisId=\"left\"  type=\"monotone\" dataKey=\"price\" dot={null} isAnimationActive={false} />\r\n          <Line yAxisId=\"right\" type=\"natural\"  dataKey=\"rsi\"   dot={null} stroke={\"#CCC\"} isAnimationActive={false} />\r\n\r\n          <Scatter yAxisId=\"left\" name=\"sell\" dataKey=\"sell_price\" shape=\"circle\" stroke=\"#00F\" fillOpacity={0.5} fill=\"#00F9\" legendType=\"circle\" zAxisId=\"sell_vol\" isAnimationActive={false} />\r\n          <Scatter yAxisId=\"left\" name=\"buy\"  dataKey=\"buy_price\"  shape=\"circle\" stroke=\"#F00\" fillOpacity={0.5} fill=\"#F009\" legendType=\"circle\" zAxisId=\"buy_vol\"  isAnimationActive={false} />\r\n          \r\n          {/* <Line dataKey=\"redLine\" stroke=\"red\" dot={false} activeDot={false} legendType=\"none\" /> */}\r\n          {_viewPort['left'] && _viewPort['right'] ? (\r\n            <ReferenceArea yAxisId=\"left\" x1={_viewPort['left']} x2={_viewPort['right']} strokeOpacity={0.3} />\r\n          ) : null}\r\n          \r\n          <ReferenceLine yAxisId=\"right\" y={70} stroke=\"#F00\" />          \r\n          <ReferenceLine yAxisId=\"right\" y={30} stroke=\"#00F\" />\r\n        </ComposedChart>\r\n      </ResponsiveContainer>\r\n    </div>   \r\n  );\r\n}\r\n \r\nexport default RechartDayTrade3min;","import React from 'react';\r\nimport moment from 'moment';\r\nimport xlsx from 'xlsx';\r\nimport { UtilSheet } from '../../utils';\r\nimport RechartDayTrade3min from './recharts/rechart_day_trade_3min';\r\n\r\n\r\nconst VDayTrades = () => {\r\n  const [_data, _setData] = React.useState({});\r\n  const _refDayTradeFileForm = React.useRef();\r\n\r\n  const _parseData = React.useCallback((raw_data) => {\r\n    var data = {};\r\n    var data_pre = {};\r\n\r\n    Object.keys(raw_data).forEach((sheetName) => {      \r\n      if (\r\n        sheetName === 'KODEX 레버리지' || \r\n        sheetName === '신한 레버리지 S&P500 선물 ETN' || \r\n        sheetName === 'TRUE 레버리지 나스닥 100 ETN' || \r\n        sheetName === 'HANARO 글로벌럭셔리S&P(합성)'\r\n      ) {\r\n        raw_data[sheetName].forEach((row) => {\r\n          let date = new Date(row['일자']);\r\n          if (date.getMinutes() % 3 > 0)\r\n            date.setMinutes(date.getMinutes() - date.getMinutes() % 3);          \r\n          let date_string = moment(date).format('YY.MM.DD HH:mm');\r\n          let name = sheetName;\r\n\r\n          if (!data_pre[date_string])\r\n            data_pre[date_string] = {};\r\n\r\n          if (!data_pre[date_string][name])\r\n            data_pre[date_string][name] = {};\r\n\r\n          data_pre[date_string][name]['price'] = row['종가'];\r\n          data_pre[date_string][name]['rsi'] = parseFloat((row['RSI'] * 100).toFixed(2));\r\n        });\r\n      } else if (sheetName === '거래내역') {\r\n        raw_data[sheetName].forEach((row) => {\r\n          let date = UtilSheet.serialDateToJSDate(row['일자'], row['주문시각']);          \r\n          if (date.getMinutes() % 3 > 0)\r\n            date.setMinutes(date.getMinutes() - date.getMinutes() % 3);          \r\n          let date_string = moment(date).format('YY.MM.DD HH:mm');\r\n          let name = row['종목명'];\r\n\r\n          if (!data_pre[date_string])\r\n            data_pre[date_string] = {};\r\n\r\n          if (!data_pre[date_string][name])\r\n            data_pre[date_string][name] = {};\r\n\r\n          if (row['주문구분'] === '현금매도') {\r\n            data_pre[date_string][name]['sell_price' ] = row['주문단가'];\r\n            data_pre[date_string][name]['sell_volume'] = row['주문수량'];\r\n          } else if (row['주문구분'] === '현금매수') {\r\n            data_pre[date_string][name]['buy_price' ] = row['주문단가'];\r\n            data_pre[date_string][name]['buy_volume'] = row['주문수량'];\r\n          }\r\n        })\r\n      }\r\n    });\r\n    \r\n    let date_keys = Object.keys(data_pre);\r\n    date_keys.sort();\r\n\r\n    date_keys.forEach((date_key, i, arr) => {\r\n      let names = Object.keys(data_pre[date_key]);\r\n      names.forEach((name) => {\r\n        if (!data[name])\r\n          data[name] = [];\r\n\r\n        data[name].push({\r\n          date_time: date_key,\r\n          ...data_pre[date_key][name],\r\n        });\r\n      });\r\n    });\r\n\r\n    Object.keys(data).forEach((name) => {\r\n      var last_price = 0;\r\n      var last_rsi = 0;\r\n      data[name] = data[name].map((datum, i, arr) => {\r\n        let price = datum['price'] || last_price;\r\n        let rsi = datum['rsi'] || last_rsi;\r\n        last_price = price;\r\n        last_rsi = rsi;\r\n  \r\n        return {\r\n          ...datum,\r\n          price,\r\n          rsi,\r\n        };\r\n      });\r\n    });\r\n\r\n    return data;\r\n  }, []);\r\n\r\n  \r\n  function uploadSheet(event) {\r\n    var input = event.target; \r\n    var reader = new FileReader();\r\n    reader.onload = function() { \r\n      var fdata = reader.result; \r\n      var read_buffer = xlsx.read(fdata, {type : 'binary'}); \r\n\r\n      let data = {};\r\n      read_buffer.SheetNames.forEach(function(sheetName) {\r\n        var data_rows = xlsx.utils.sheet_to_json(read_buffer.Sheets[sheetName]); \r\n        data[sheetName] = data_rows;\r\n      });\r\n      \r\n      _refDayTradeFileForm.current.reset();      \r\n      localStorage.setItem('day_trade_data', JSON.stringify(data));\r\n      \r\n      _setData(_parseData(data));\r\n    }; \r\n    reader.readAsBinaryString(input.files[0]); \r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"text-start fw-bold my-5 px-4\" style={{fontSize: `calc(${2}rem + ${2}vw)`}}>\r\n        DAY TRADES\r\n      </div>\r\n\r\n      <div className=\"mt-5 d-flex justify-content-center\">\r\n        <div className=\"pe-2\">\r\n          <label type=\"button\" className=\"btn btn-secondary\"\r\n            onClick={e => window.open('https://docs.google.com/uc?export=download&id=1odYcI7b41XpWwZUs--q41rjhw7plenW6', '_blank')}\r\n          >\r\n            DOWNLOAD SAMPLE\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <form ref={_refDayTradeFileForm}>\r\n            <input type=\"file\" accept=\".xlsx\" id=\"pricesFileInput\"\r\n              className=\"d-none\"\r\n              onClick={e => e.target.key = 'prices' + new Date().getMilliseconds()}\r\n              // name=\"pricesFile\" onChange={_setPrices}\r\n              name=\"pricesFile\" onChange={uploadSheet}\r\n            />\r\n          </form>\r\n          <label type=\"button\" htmlFor=\"pricesFileInput\" className=\"btn btn-danger\">UPLOAD XLSX</label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* {Object.keys(_data).map((name) => { */}\r\n      { [\r\n          'KODEX 레버리지',\r\n          '신한 레버리지 S&P500 선물 ETN',\r\n          'TRUE 레버리지 나스닥 100 ETN',\r\n          'HANARO 글로벌럭셔리S&P(합성)',\r\n        ].map((name) => {\r\n        return (\r\n          <React.Fragment key={name}>\r\n            <div className=\"mt-5 mb-3 px-4 py-5 bg-dark text-light\">\r\n              <h1><b>{name}</b></h1>\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <RechartDayTrade3min data={_data[name]} />\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VDayTrades;","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { VLogin, VMain, VRegister, VBubbles, VYoutubeSearch, VTradeHistory, VDayTrades } from '../views';\r\n\r\n\r\nconst MainRoutes = (props) => {\r\n  return ( \r\n    <Switch>\r\n      <Route path=\"/auth/register\"  render={(props) => <VRegister      {...props}/>}/>\r\n      <Route path=\"/auth/login\"     render={(props) => <VLogin         {...props}/>}/>\r\n      <Route path=\"/d3/bubbles\"     render={(props) => <VBubbles       {...props}/>}/>\r\n      <Route path=\"/youtube-search\" render={(props) => <VYoutubeSearch {...props}/>}/>\r\n      <Route path=\"/trade-history\"  render={(props) => <VTradeHistory  {...props}/>}/>\r\n      <Route path=\"/day-trades\"     render={(props) => <VDayTrades     {...props}/>}/>\r\n      <Route exact path=\"/\"         render={(props) => <VMain          {...props}/>}/>\r\n      <Route                        render={(props) => <Redirect to=\"/\" />}/>\r\n    </Switch>\r\n  );\r\n}\r\n \r\nexport default MainRoutes;","import React from 'react';\r\nimport { BrowserRouter, NavLink } from 'react-router-dom';\r\nimport { UtilCommon } from '../utils';\r\nimport { AppState, app_state_default } from './contexts';\r\nimport MainRoutes from './routers/main_routes';\r\nimport { ModalWrapper } from './modals';\r\n\r\nimport api from '../api/api';\r\n\r\nfunction App() {\r\n  const reducer = (prev_state, new_state) => ({ ...prev_state, ...new_state });\r\n  const [state, setState] = React.useReducer(reducer, app_state_default);\r\n  const [message_modals, setMessageModals] = React.useState([\r\n    // <ModalAlert />\r\n  ]);\r\n  const [isServerOn, setIsServerOn] = React.useState(false);\r\n\r\n  async function checkServer() {\r\n    try {\r\n      await api.get('/util/check')\r\n\r\n      setIsServerOn(true);\r\n    } catch (e) {\r\n      console.log('App.checkServer', e);\r\n      setIsServerOn(false);\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    checkServer();\r\n  }, []);\r\n\r\n\r\n  // Functions for message_modals >>>>>>>>>>>>>>>>>>\r\n  async function closeMessageModal(e) {\r\n    setMessageModals(p_message_modals => {\r\n      if (!p_message_modals.length)\r\n        return p_message_modals;\r\n\r\n      let n_message_modals = p_message_modals.slice();\r\n      n_message_modals.shift();      \r\n      return n_message_modals;  \r\n    });\r\n\r\n    if (!message_modals.length) {\r\n      await UtilCommon.delay(200); // close animation time\r\n      (document.getElementsByTagName('body')[0]).classList.remove('overflow-hidden');\r\n    }\r\n  }\r\n\r\n  async function pushMessageModal({Modal, props = {}, onConfirm = () => {}, onCancel = () => {}}) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!message_modals.length) {\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.add('overflow-hidden');\r\n      }\r\n\r\n      setMessageModals(p_message_modals => {\r\n        let n_message_modals = p_message_modals.slice();\r\n        n_message_modals.push((\r\n          <Modal\r\n            {...props}\r\n            onConfirm={async e => {\r\n              await onConfirm();\r\n              await closeMessageModal();\r\n              resolve(true);\r\n            }}\r\n            onCancel={async e => {\r\n              await onCancel();\r\n              await closeMessageModal();\r\n              resolve(false);\r\n            }}\r\n          />\r\n        ));\r\n        return n_message_modals;\r\n      });\r\n    });    \r\n  }\r\n  // <<<<<<<<<<<<<<<< Functions for message_modals\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AppState.Provider value={Object.assign({}, state, {      \r\n        setState,\r\n        pushMessageModal,\r\n      })}>\r\n        <React.Fragment>\r\n          <ModalWrapper modals={message_modals} closeCurrentModal={closeMessageModal} />\r\n          <nav className=\"d-block d-sm-none position-fixed sticky-top w-100\">\r\n            <div className=\"navbar navbar-dark bg-dark\">\r\n              <div className=\"container-fluid\">\r\n                <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                  <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"collapse bg-dark\" id=\"navbarToggleExternalContent\">\r\n              <ul className=\"nav nav-pills flex-column mb-auto fw-bold\" style={{ minHeight: `${100}vh` }}>\r\n                {isServerOn && (\r\n                  <React.Fragment>\r\n                    <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                    <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>\r\n                  </React.Fragment>\r\n                )}\r\n                \r\n                  <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\">D3</NavLink></li>\r\n                <li className=\"ps-2\"><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n                <li><NavLink to=\"/youtube-search\" className=\"nav-link fw-bold\">Youtube Search</NavLink></li>\r\n                <li><NavLink to=\"/trade-history\" className=\"nav-link fw-bold\">Trade History</NavLink></li>\r\n                <li><NavLink to=\"/day-trades\" className=\"nav-link fw-bold\">Day Trades</NavLink></li>\r\n                <li><NavLink to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          <nav className=\"d-block d-sm-none\" style={{height: 50}}></nav>\r\n\r\n          <nav className=\"d-none d-sm-inline-block position-fixed top-0 end-0 bg-dark\" style={{zIndex: 1030, borderRadius: '0px 0px 0px 16px'}} >\r\n            <ul className=\"nav d-flex justify-content-end fw-bold\">\r\n              {isServerOn && (\r\n                <React.Fragment>\r\n                  <li><NavLink to=\"/auth/login\" className=\"nav-link fw-bold\">로그인</NavLink></li>\r\n                  <li><NavLink to=\"/auth/register\" className=\"nav-link fw-bold\">회원가입</NavLink></li>                  \r\n                </React.Fragment>\r\n              )}                    \r\n              <li><NavLink to=\"/d3/bubbles\" className=\"nav-link fw-bold ps-4\" style={{ fontSize: `${0.875}rem`}}>Bubbles</NavLink></li>\r\n              <li><NavLink to=\"/youtube-search\" className=\"nav-link fw-bold\">Youtube Search</NavLink></li>\r\n              <li><NavLink to=\"/trade-history\" className=\"nav-link fw-bold\">Trade History</NavLink></li>\r\n              <li><NavLink to=\"/day-trades\" className=\"nav-link fw-bold\">Day Trades</NavLink></li>\r\n              <li><NavLink exact to=\"/\" className=\"nav-link fw-bold\">TEST</NavLink></li>\r\n            </ul>\r\n          </nav>\r\n\r\n          <MainRoutes />\r\n        </React.Fragment>\r\n      </AppState.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n// bootstrap dependency\nimport '@popperjs/core';\nimport 'bootstrap/dist/js/bootstrap.js';\n// style\nimport './styles/_styles.scss';\n// components\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}